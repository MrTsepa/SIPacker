(this.webpackJsonpsipacker=this.webpackJsonpsipacker||[]).push([[0],{109:function(e,t,n){e.exports={link:"styles_link__iWnvj",toolbar:"styles_toolbar__viJ4P",container:"styles_container__3KW9G"}},113:function(e,t,n){e.exports={buttons:"styles_buttons__Srfpa",delete:"styles_delete__1GXPK"}},132:function(e,t,n){e.exports={noItems:"styles_noItems__19dBE",handle:"styles_handle__DHO5p"}},144:function(e,t,n){e.exports={toolbar:"styles_toolbar__1dso8",text:"styles_text__16Cv2",hint:"styles_hint__2upGK"}},145:function(e,t,n){e.exports={container:"styles_container__1vfWp",form:"styles_form__LUKmR",info:"styles_info__1RrDx"}},176:function(e,t,n){e.exports={navigation:"styles_navigation__b3eL_",logoContainer:"styles_logoContainer__3hxi2",logo:"styles_logo__Triy9"}},177:function(e,t,n){e.exports={container:"styles_container__2Npq2",field:"styles_field__1Q5KE"}},21:function(e,t,n){e.exports={title:"styles_title__3sESC",dialog:"styles_dialog__2HYt8",tabs:"styles_tabs__3oGTF",files:"styles_files__gJLVp",filters:"styles_filters__1TEOe",text:"styles_text__3q7xF",checkbox:"styles_checkbox__2-7wb",list:"styles_list__QxZ1P",content:"styles_content__3DAbo",packDivider:"styles_packDivider__1eh-l",grid:"styles_grid__2YaAc",item:"styles_item__3OyXq",itemInner:"styles_itemInner__j4sTM",preview:"styles_preview__2vnda",foreground:"styles_foreground__3OtLE",background:"styles_background__2v4Hw",fileName:"styles_fileName__Y6Kge",button:"styles_button__2BATH",noFilesYet:"styles_noFilesYet__1Hcst",hint:"styles_hint__1anpH",upload:"styles_upload__i5SMD",dropzone:"styles_dropzone__7zJs4",flex:"styles_flex__1oz2f",supportedTypes:"styles_supportedTypes__UNDK8",uploadingFiles:"styles_uploadingFiles__3pQjA",uploadingScreen:"styles_uploadingScreen__3l-EZ",uploadingCaption:"styles_uploadingCaption__2Thca",caption:"styles_caption__3MYtC",errors:"styles_errors__3zZJK",delete:"styles_delete__GzwCF"}},238:function(e,t,n){e.exports={roundsPage:"styles_roundsPage__2xjXR"}},239:function(e,t,n){e.exports={item:"styles_item__2_EzC"}},245:function(e,t,n){e.exports={slider:"styles_slider__2_T4D"}},247:function(e,t,n){e.exports={centered:"styles_centered__23ouW"}},250:function(e,t,n){e.exports={container:"styles_container__2xIAm"}},29:function(e,t,n){e.exports={packsList:"styles_packsList__3_FVk",hoverUnfocused:"styles_hoverUnfocused__QnvyG",packBase:"styles_packBase__1LyE6",hoverFocused:"styles_hoverFocused__3wnZX",loading:"styles_loading__3SVRQ",pack:"styles_pack__P7r43",info:"styles_info__2vfvj",visibilityDelay:"styles_visibilityDelay__2WqMA",newPack:"styles_newPack__SHDep",skeleton:"styles_skeleton__2LQD-",upload:"styles_upload__nOCvw",thumbnail:"styles_thumbnail__1aU0y",pictureContainer:"styles_pictureContainer__3Ksvb",name:"styles_name__10d11",time:"styles_time___bQuG",backdrop:"styles_backdrop__2CHGI",visible:"styles_visible__zmC7_",alert:"styles_alert__1bU9a"}},290:function(e,t,n){},298:function(e,t){},300:function(e,t){},37:function(e,t,n){e.exports={container:"styles_container__10MD0",hint:"styles_hint__2rDGF",grouped:"styles_grouped__2K5-H",addEvent:"styles_addEvent__3LcHk",item:"styles_item__22gS9",itemType:"styles_itemType__12yvw",spacing:"styles_spacing__AWfQV",details:"styles_details__2X22Q",duration:"styles_duration__1EfuX",time:"styles_time__CfIYV",submit:"styles_submit__39tBr"}},40:function(e,t,n){e.exports={container:"styles_container__3R_IO",list:"styles_list__V6atM",done:"styles_done__T3LaX",marker:"styles_marker__1v4R9",lineBefore:"styles_lineBefore__3FZJa",lineAfter:"styles_lineAfter__2tf62",hidden:"styles_hidden__QZJee",bullet:"styles_bullet__3qHV-",link:"styles_link__3mTg0",caption:"styles_caption__3cP02",line:"styles_line__JJEXr",text:"styles_text__1tFeb",progress:"styles_progress__2qcQG",progressBar:"styles_progressBar__1AayW"}},420:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(48),s=n.n(r),i=(n(290),n(23)),o=n(14),l=n(13),u=n.n(l),j=n(18),d=n(8),b=n(29),p=n.n(b),f=n(7),h=n.n(f),O=n(107),x=n.n(O),m=(h.a.shape({uuid:h.a.string,name:h.a.string,creationTime:h.a.number,date:h.a.string,thumbnail:h.a.string}),"1.0"),v="utf-8",g=4,_={contentTypes:x.a.js2xml({_declaration:{_attributes:{version:m,encoding:v}},Types:{_attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},Default:{_attributes:{Extension:"xml",ContentType:"si/xml"}}}},{compact:!0})},k="\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b",y=n(232),w=n(504),N=n(16),C=n(223),I=function(){var e=new C.a("sipacker");return e.version(1).stores({packs:["uuid"].join(", "),files:["fileURI","type","hash","packUUID","addedAt"].join(", ")}),e};function S(e){return R.apply(this,arguments)}function R(){return(R=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),e.next=3,n.packs.get(t);case 3:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I(),e.next=3,t.packs.toArray();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),e.next=3,n.packs.put(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),e.next=3,n.packs.delete(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=n(224),A=n.n(E);function q(e){return new Promise((function(t,n){var a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,c=2097152,r=Math.ceil(e.size/c),s=new A.a.ArrayBuffer,i=new FileReader,o=0;i.onload=function(e){s.append(e.target.result),++o<r?l():t(s.end())},i.onerror=function(){return n("Unable to hash file")};var l=function(){var t=o*c,n=t+c>=e.size?e.size:t+c;i.readAsArrayBuffer(a.call(e,t,n))};l()}))}var L=n(253),M=n(225),z=n.n(M),H={image:["image/png","image/jpeg"],audio:["audio/mpeg","audio/wav","audio/ogg"],video:["video/mpeg"]},Y=[].concat(Object(N.a)(H.image),Object(N.a)(H.audio),Object(N.a)(H.video));function K(e,t){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(u.a.mark((function e(t,n){var a,c,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y.includes(t.type)){e.next=2;break}throw"Mime-type is not supported";case 2:if(t.filename){e.next=4;break}throw"Blob instance must have filename propery";case 4:return a=I(),e.next=7,q(t);case 7:return c=e.sent,e.next=10,a.files.where({packUUID:n,hash:c}).toArray();case 10:if(!e.sent.length){e.next=13;break}throw"File with such hash already exist";case 13:r=Object.entries(H).find((function(e){return Object(d.a)(e,2)[1].some((function(e){return e===t.type}))}))[0],s=Object(L.a)(),i={fileURI:s,type:r,blob:t,fileName:t.filename,hash:c,packUUID:n,addedAt:Date.now()},e.t0=r,e.next="image"===e.t0?19:23;break;case 19:return e.next=21,V(t);case 21:return i.miniature=e.sent,e.abrupt("break",23);case 23:return e.next=25,a.files.put(i);case 25:return e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(j.a)(u.a.mark((function e(t){var n,a,c,r,s,i,o,l,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("img"),a=URL.createObjectURL(t),n.src=a,e.next=5,new Promise((function(e){return n.onload=e}));case 5:return c=n.width,r=n.height,s=Math.min(c,r,100),i=s,o=s,c>r?o=i*r/c:i=o*c/r,(l=document.createElement("canvas")).width=i,l.height=o,z()(l),l.getContext("2d").drawImage(n,0,0,l.width,l.height),e.next=17,new Promise((function(e){return l.toBlob(e)}));case 17:return j=e.sent,URL.revokeObjectURL(a),e.abrupt("return",j);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return J.apply(this,arguments)}function J(){return(J=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),e.next=3,n.files.get(t);case 3:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I(),e.next=3,t.files.toArray();case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return e.packUUID})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=(t=e.sent).map((function(e){return e.uuid})),e.next=6,X();case 6:return n=e.sent,e.abrupt("return",n.filter((function(e){return!t.includes(e)})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),e.next=3,n.files.where("fileURI").equals(t).delete();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(j.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=I(),!t.includes("null")){e.next=7;break}return t.splice(t.indexOf("null"),1),e.next=5,$();case 5:a=e.sent,t.push.apply(t,Object(N.a)(a));case 7:return e.next=9,n.files.where("packUUID").anyOf(t).limit(20).offset(0).reverse().sortBy("addedAt");case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return se.apply(this,arguments)}function se(){return(se=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(),e.next=3,n.files.where({packUUID:t}).primaryKeys();case 3:return a=e.sent,e.next=6,n.files.bulkDelete(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=n(1),oe=n(4),le=n(59),ue=n(71),je=n.n(ue),de=n(496),be=n(477),pe=n(494),fe=n(22),he=n(73);function Oe(e,t){var n=Object(o.a)({},e);return delete n[t],n}function xe(e,t,n){var a=Object(o.a)({},e);return a[t]=n,a}var me=Object(he.e)(Object(he.c)({pack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pack/load":return t.pack;default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dashboard/setUploading":return Object(o.a)(Object(o.a)({},e),{},{uploading:t.uploading});default:return e}},fileRendering:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fileRendering/fileRenderingStarted":return e[t.fileURI]?Object(o.a)({},e):Object(o.a)(Object(o.a)({},e),{},Object(oe.a)({},t.fileURI,t.callback));case"fileRendering/fileRenderingStopped":return Oe(e,t.fileURI);case"fileRendering/fileUnlinked":var n=e[t.fileURI];return n&&n(),Oe(e,t.fileURI);case"fileRendering/setFileUnlinkCallback":return xe(e,t.fileURI,t.callback);default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"menu/setPosition":return Object(o.a)(Object(o.a)({},e),{},{position:t.position});default:return e}}})),ve=n(19),ge=n(141),_e=n(173),ke=n.n(_e),ye=n(47),we=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==Object(d.a)(e,2)[1]})))},Ne=Object(ye.a)(),Ce=function(){},Ie=function(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",seconds:"numeric"}).format(e)},Se=function(e){return{pack:e.pack}},Re={simple:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439",auction:"\u0410\u0443\u043a\u0446\u0438\u043e\u043d",cat:"\u0421 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c",bagcat:"\u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",sponsored:"\u0411\u0435\u0437 \u0440\u0438\u0441\u043a\u0430"},De="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0430\u043a\u0430",Ue="\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0430\u043a\u0430";function Be(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.author||n.push(De),t.language||n.push(Ue),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(j.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new ke.a).file("[Content_Types].xml",_.contentTypes),a={declaration:{attributes:{version:m,encoding:v}},elements:[{type:"comment",comment:"This package was generated using SIPacker \u2014 free open-source online tool for generating SIGame packs. Feel free to leave feedback on https://github.com/VityaSchel/SIPacker"},{type:"element",name:"package",attributes:{xmlns:"http://vladimirkhil.com/ygpackage3.0.xsd",id:t.uuid,name:t.name,version:t.version,restriction:t.over18?"18+":void 0,date:t.date,publisher:t.publisher,difficulty:t.difficulty,logo:t.logo,language:t.language,software:"sipacker"},elements:[t.tags&&{type:"element",name:"tags",elements:t.tags.split(",").map((function(e){return{type:"element",name:"tag",elements:[{type:"text",text:e}]}}))},{type:"element",name:"info",elements:[{type:"element",name:"authors",elements:t.authors.split(",").map((function(e){return{type:"element",name:"author",elements:[{type:"text",text:e}]}}))},t.comment&&{type:"element",name:"comments",elements:[{type:"text",text:t.comment}]}]}]}]},n.file("content.xml",x.a.js2xml(a,{compact:!0})),e.next=6,n.generateAsync({type:"blob"});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(j.a)(u.a.mark((function e(t){var n,a,c,r,s,i,o,l,j,d,b,p,f,h,O,m,v,g,_,k,y;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.loadAsync(t);case 3:if(n=e.sent,a=n.files["content.xml"]){e.next=7;break}return e.abrupt("return",{error:"noContentXML"});case 7:return e.next=9,a.async("string");case 9:return c=e.sent,r=x.a.xml2js(c),i=function(e){if(e)return e.elements.map((function(e){return e.elements[0].text}))},o=(s=function(e,t){var n=e.elements.filter((function(e){return e.name===t}));return n&&n[0]})(r,"package"),l=o.attributes,j=l.id,d=l.name,b=l.version,p=l.difficulty,f=l.restriction,h=l.date,O=l.publisher,m=l.logo,v=l.language,g=s(o,"info"),_=i(s(g,"authors")),k=i(s(o,"tags")),y=we({uuid:j,name:d,version:Number(b),difficulty:Number(p),creationTime:Date.now(),over18:"18+"===f,date:h,authors:_.join(","),publisher:O,tags:null===k||void 0===k?void 0:k.join(","),logo:m,language:v||""}),e.next=21,B(y);case 21:return e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}var Ae=function(e){return Object(ie.jsx)(be.a,Object(o.a)(Object(o.a)({},e),{},{direction:"right"}))};var qe=Object(fe.b)((function(e){return{dashboard:e.dashboard}}))((function(e){var t=c.a.useState(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState([]),i=Object(d.a)(s,2),l=i[0],u=i[1];return c.a.useEffect((function(){var e=setInterval((function(){u(l.filter((function(e){return e.date>=Date.now()-5e3})))}),1e3);return function(){return clearInterval(e)}}),[l]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ge.a,{onDragEnter:function(){return r(!0)},onDragLeave:function(){return r(!1)},onDrop:function(t){if(r(!1),t){var n,a=Object(le.a)(t);try{var c=function(){var t,a,c=n.value,r=null!==(t=null===(a=e.dashboard)||void 0===a?void 0:a.uploading)&&void 0!==t?t:[],s=Date.now();e.dispatch({type:"dashboard/setUploading",uploading:r.concat({id:s,name:c.name})}),function(e){return Ee.apply(this,arguments)}(c).then((function(t){var n;if(t.error){var a={noContentXML:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0444\u0430\u0439\u043b content.xml \u0432 \u043f\u0430\u043a\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0430\u0440\u0445\u0438\u0432 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u043c\u0438 \u043f\u0443\u0442\u044f\u043c\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445."}[t.error],r=Date.now();u(l.concat({date:r,text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0430\u043a\u0430 \xab".concat(c.name,"\xbb: ").concat(a)}))}else e.reloadPacks();e.dispatch({type:"dashboard/setUploading",uploading:null===(n=me.getState().pack)||void 0===n?void 0:n.uploading.filter((function(e){return s!==e.id}))})}))};for(a.s();!(n=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}}},accept:[".siq"],children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(ie.jsxs)("div",Object(o.a)(Object(o.a)({className:je()([p.a.packBase,p.a.newPack,p.a.upload],Object(oe.a)({},p.a.dragOver,a))},t()),{},{children:[Object(ie.jsx)("input",Object(o.a)({},n())),Object(ie.jsxs)("span",{children:[Object(ie.jsx)(ve.k,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u0430\u043a\u0430"]})]}))}}),Object(ie.jsx)("div",{className:je()(p.a.backdrop,Object(oe.a)({},p.a.visible,a))}),Object(ie.jsx)(de.a,{open:l.length,onClose:function(){return u([])},TransitionComponent:Ae,children:Object(ie.jsx)(pe.a,{severity:"error",className:p.a.alert,children:l.map((function(e,t){return Object(ie.jsx)("p",{children:e.text},t)}))})})]})})),Le=n(252),Me=n(503),ze=n(483),He=n(484),Ye=c.a.createContext({});function Ke(e){var t,n,a=c.a.useState(),r=Object(d.a)(a,2),i=r[0],o=r[1],l={open:function(t,n){var a;return!!(null===(a=e.menu)||void 0===a?void 0:a.position)||(t.preventDefault(),o(n),e.dispatch({type:"menu/setPosition",position:[t.clientX,t.clientY]}),!1)}},u=function(t){null===t||void 0===t||t.preventDefault(),e.dispatch({type:"menu/setPosition",position:null})};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ye.Provider,{value:l,children:e.children}),s.a.createPortal(Object(ie.jsx)(Le.a,{open:null===(t=e.menu)||void 0===t?void 0:t.position,anchorReference:"anchorPosition",anchorPosition:(null===(n=e.menu)||void 0===n?void 0:n.position)&&{top:e.menu.position[1],left:e.menu.position[0]},onClose:u,children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(ie.jsxs)(Me.a,{onClick:(n=e.action,function(e){e.stopPropagation(),n(),u()}),children:[Object(ie.jsx)(ze.a,{children:e.icon}),Object(ie.jsx)(He.a,{children:e.name})]},t);var n}))}),document.body)]})}Ke.displayName="ContextMenu";var We,Ve=Object(fe.b)((function(e){return{menu:e.menu}}))(Ke),Qe=n(231),Ge=n(516),Je=n(514),Xe=n(512),Ze=n(513),$e=n(515),et=n(511),tt=n(493),nt=n(521),at=c.a.forwardRef((function(e,t){var n=c.a.useState(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],i=c.a.useState(),o=Object(d.a)(i,2),l=o[0],u=o[1],j=c.a.useState(""),b=Object(d.a)(j,2),p=b[0],f=b[1],h=c.a.useState(""),O=Object(d.a)(h,2),x=O[0],m=O[1],v=c.a.useState(!0),g=Object(d.a)(v,2),_=g[0],k=g[1],y=function(e){s(!1),We({confirmed:e,checked:_})};return c.a.useImperativeHandle(t,(function(){return{open:function(e,t,n){return new Promise((function(a){We=a,s(!0),u(e),f(t),m(n)}))}}})),Object(ie.jsxs)(et.a,{maxWidth:"xs",open:r,onClose:function(){return y(!1)},children:[Object(ie.jsx)(Xe.a,{children:e.title}),Object(ie.jsx)(Ze.a,{children:Object(ie.jsxs)(Je.a,{children:[l&&Object(ie.jsx)("p",{children:l}),e.children,x&&Object(ie.jsx)(nt.a,{control:Object(ie.jsx)(tt.a,{defaultChecked:!0,value:_,onChange:function(e){return k(e.target.checked)}}),label:x})]})}),Object(ie.jsxs)($e.a,{children:[Object(ie.jsx)(Ge.a,{autoFocus:!0,onClick:function(){return y(!1)},color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(ie.jsx)(Ge.a,{onClick:function(){return y(!0)},color:"primary",children:null!==p&&void 0!==p?p:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})]})}));at.displayName="ConfirmationDialog";var ct=at,rt=c.a.forwardRef((function(e,t){var n=c.a.useRef(),a=Object(i.g)();return c.a.useImperativeHandle(t,(function(){return{confirmPackDeletion:function(e){return Object(j.a)(u.a.mark((function t(){var c,r,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043a? \u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e.","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b");case 2:if(c=t.sent,r=c.confirmed,s=c.checked,i=s,!r){t.next=14;break}if(t.t0=i,!t.t0){t.next=11;break}return t.next=11,re(e);case 11:return t.next=13,F(e);case 13:a.push("/");case 14:return t.abrupt("return",r);case 15:case"end":return t.stop()}}),t)})))()},confirmRoundDeletion:function(){return Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434? \u0412\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0442\u0430\u043a\u0436\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b.","\u0423\u0434\u0430\u043b\u0438\u0442\u044c");case 2:return t=e.sent,a=t.confirmed,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()}}})),Object(ie.jsx)(ct,{ref:n})}));rt.displayName="DeleteConfirmationDialog";var st=rt,it=n(517),ot=c.a.forwardRef((function(e,t){var n=c.a.useState(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],i=c.a.useState((function(){return function(){}})),o=Object(d.a)(i,2),l=o[0],u=o[1],j=c.a.useState(""),b=Object(d.a)(j,2),p=b[0],f=b[1],h=c.a.useState(""),O=Object(d.a)(h,2),x=O[0],m=O[1],v=c.a.useState(""),g=Object(d.a)(v,2),_=g[0],k=g[1];c.a.useImperativeHandle(t,(function(){return{askToRename:function(e,t,n){u((function(){return e})),f(t),m(n),k(n),s(!0)}}}));var y=function(){s(!1),l()};return Object(ie.jsxs)(et.a,{maxWidth:"xs",open:r,onClose:y,children:[Object(ie.jsxs)(Xe.a,{children:["\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c ",p]}),Object(ie.jsx)(Ze.a,{children:Object(ie.jsx)(it.a,{label:"\u041d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f",placeholder:x,variant:"outlined",value:_,onChange:function(e){return k(e.target.value)},style:{marginTop:15}})}),Object(ie.jsxs)($e.a,{children:[Object(ie.jsx)(Ge.a,{autoFocus:!0,onClick:y,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(ie.jsx)(Ge.a,{onClick:function(){s(!1),l(_)},color:"primary",disabled:!_.length,children:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c"})]})]})}));ot.displayName="RenameDialog";var lt=ot;function ut(e){var t=c.a.useRef(),n=c.a.useRef(),a=c.a.useContext(ht),r=Ie(new Date(e.pack.creationTime)),s=c.a.useContext(Ye),i=function(){var n=Object(j.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.current.confirmPackDeletion(e.pack.uuid);case 2:if(!n.sent){n.next=4;break}a.reloadPacks();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var t=Object(j.a)(u.a.mark((function t(){var c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return n.current.askToRename(t,"\u043f\u0430\u043a",e.pack.name)}));case 2:if(void 0===(c=t.sent)){t.next=10;break}return t.next=6,S(e.pack.uuid);case 6:r=t.sent,B(r=Object(o.a)(Object(o.a)({},r),{},{name:c})),a.reloadPacks();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:[p.a.packBase,p.a.pack].join(" "),onContextMenu:function(e){s.open(e,[{name:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",icon:Object(ie.jsx)(Qe.a,{}),action:function(){return l()}},{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(ie.jsx)(ve.d,{}),action:function(){return i()}}])},children:[Object(ie.jsx)(bt,{src:e.pack.logo}),Object(ie.jsxs)("div",{className:p.a.info,children:[Object(ie.jsx)("span",{className:p.a.name,children:e.pack.name}),Object(ie.jsxs)("span",{className:p.a.time,children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",r]})]})]}),Object(ie.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(ie.jsx)(st,{ref:t}),Object(ie.jsx)(lt,{ref:n})]})]})}function jt(){return Object(ie.jsx)("div",{className:[p.a.packBase,p.a.newPack].join(" "),children:Object(ie.jsxs)("span",{children:[Object(ie.jsx)(y.a,{})," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u043a"]})})}function dt(e){return Object(ie.jsxs)("div",{className:[p.a.packBase,p.a.loading].join(" "),children:[Object(ie.jsx)(w.a,{variant:"rectangular",width:"100%",height:"100%",className:p.a.skeleton}),e.name&&Object(ie.jsxs)("span",{children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \xab",e.name,"\xbb"]})]})}function bt(e){var t=c.a.useState(),n=Object(d.a)(t,2),a=n[0],r=n[1];return c.a.useEffect((function(){var t=function(){};return e.src?Object(j.a)(u.a.mark((function n(){var a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G(e.src);case 2:a=n.sent,c=URL.createObjectURL(a.blob),t=function(){return URL.revokeObjectURL(c)},r(c);case 6:case"end":return n.stop()}}),n)})))():r(),function(){return t(a)}}),[e.src]),Object(ie.jsx)("div",{className:p.a.pictureContainer,children:a?Object(ie.jsx)("img",{src:a,className:p.a.thumbnail}):Object(ie.jsx)("div",{className:p.a.thumbnail})})}var pt=n(31);function ft(){return Object(ie.jsx)(Ot,{})}var ht=c.a.createContext({}),Ot=Object(fe.b)((function(e){return{dashboard:e.dashboard}}))((function(e){var t,n,a=c.a.useState(),r=Object(d.a)(a,2),s=r[0],i=r[1],o=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,n=t.sort((function(e,t){return e.creationTime-t.creationTime})),i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){return o()}),[]);var l={reloadPacks:function(){return o()}};return Object(ie.jsx)("div",{children:Object(ie.jsx)(ht.Provider,{value:l,children:Object(ie.jsxs)("div",{className:p.a.packsList,children:[Object(ie.jsx)(xt,{type:"create"}),Object(ie.jsx)(xt,{type:"upload",reloadPacks:o}),null===(t=e.dashboard)||void 0===t||null===(n=t.uploading)||void 0===n?void 0:n.reverse().map((function(e,t){var n=e.name;return Object(ie.jsx)(xt,{type:"loading",name:n},t)})),s?s.map((function(e){return Object(ie.jsx)(xt,{type:"pack",pack:e},e.uuid)})):new Array(5).fill().map((function(e,t){return Object(ie.jsx)(xt,{type:"loading"},t)}))]})})})}));function xt(e){return["loading","upload"].includes(e.type)?Object(ie.jsx)(mt,Object(o.a)({},e)):Object(ie.jsx)(pt.a,{to:"pack"===e.type?"/pack/".concat(e.pack.uuid):"".concat(e.type),children:Object(ie.jsx)(mt,Object(o.a)({},e))})}function mt(e){return{create:Object(ie.jsx)(jt,{}),upload:Object(ie.jsx)(qe,{reloadPacks:e.reloadPacks}),loading:Object(ie.jsx)(dt,{name:e.name}),pack:Object(ie.jsx)(ut,{pack:e.pack})}[e.type]}var vt=n(251),gt=n(505),_t=n(176),kt=n.n(_t),yt=n(510),wt=n(233),Nt=n(234),Ct=n(518),It=n(519),St=n(146);function Rt(){var e=c.a.useState(!1),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(ie.jsx)(Ct.a,{position:"static",style:{zIndex:4},children:Object(ie.jsxs)(It.a,{color:"primary",children:[Object(ie.jsx)("div",{className:kt.a.logoContainer,children:Object(ie.jsx)(pt.a,{to:"/",className:kt.a.logo,children:Object(ie.jsx)(St.a,{variant:"h6",component:"div",children:"SIPacker"})})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("a",{href:"https://github.com/VityaSchel/SIPacker",target:"_blank",rel:"noreferrer",children:Object(ie.jsx)(yt.a,{children:Object(ie.jsx)(wt.a,{})})}),Object(ie.jsx)(yt.a,{onClick:function(){return a(!0)},children:Object(ie.jsx)(Nt.a,{})})]}),Object(ie.jsxs)(et.a,{open:n,onClose:function(){return a(!1)},children:[Object(ie.jsx)(Xe.a,{children:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),Object(ie.jsx)(Ze.a,{children:Object(ie.jsxs)(Je.a,{children:[Object(ie.jsx)("p",{children:"\u0412\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e VityaSchel \u0432 2021 \u0433\u043e\u0434\u0443 \u0434\u043b\u044f \u0438\u0433\u0440\u044b SiGame \u043a\u0430\u043a \u043a\u0440\u043e\u0441\u0441\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430 SIQuester."}),Object(ie.jsx)("p",{children:"\u0412\u0441\u0435 \u0441\u0432\u043e\u0438 \u0438\u0434\u0435\u0438 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u0437\u043b\u0430\u0433\u0430\u0439\u0442\u0435 \u0432 \u043f\u0443\u043b-\u0440\u0435\u043a\u0432\u0435\u0441\u0442\u0430\u0445 \u0438\u043b\u0438 \u0445\u043e\u0442\u044f \u0431\u044b \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 Issues, \u0430 \u043d\u0435 \u0432 \u043c\u043e\u0438\u0445 \u043b\u0441."}),Object(ie.jsx)("p",{children:Object(ie.jsx)("a",{href:"https://github.com/VladimirKhil/SI/wiki/%D0%A1%D0%BF%D0%B5%D1%86%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B0-.siq",className:"onHover",children:"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430 .siq"})}),Object(ie.jsx)("p",{children:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0443 \u0425\u0438\u043b\u044e \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u043d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u043b \u043c\u043e\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 (\u043f\u0440\u0438\u0432\u0435\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c \u043c\u0430\u0444\u0438\u0438 \u043e\u043d\u043b\u0430\u0439\u043d \u0438 \u043c\u0430\u0444\u0438\u0438 \u0433\u043e)"}),Object(ie.jsxs)("p",{children:["\u0422\u0430\u043a\u0436\u0435 \u0445\u043e\u0447\u0443 \u043f\u043e\u0436\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u0430\u0447\u0438 \u0438 \u043b\u0435\u0433\u043a\u043e\u0439 \u0441\u043b\u0443\u0436\u0431\u044b ",Object(ie.jsx)("a",{href:"https://vk.com/id245297843",target:"_blank",rel:"noreferrer",className:"onHover",children:"\u0420\u043e\u043c\u0435 \u041a\u0443\u0447\u0438\u043d\u0443"}),", \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0432\u043e\u0438\u043c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u043c \u043d\u0430\u0442\u043e\u043b\u043a\u043d\u0443\u043b \u043c\u0435\u043d\u044f \u043d\u0430 \u0438\u0434\u0435\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430, \u043d\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043e \u043c\u043d\u043e\u0439 \u043f\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u042f \u0432 \u0430\u0440\u043c\u0438\u0438."]})]})}),Object(ie.jsx)($e.a,{children:Object(ie.jsx)(Ge.a,{onClick:function(){return a(!1)},children:"\u041e\u041a"})})]})]})})}var Dt=n(177),Ut=n.n(Dt),Bt=n(235),Pt=n(170),Ft=n.n(Pt);function Tt(){var e=c.a.useState(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(i.g)(),s=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(Bt.v4)(),a={uuid:t,name:n,date:Ft()().format("DD.MM.YYYY"),creationTime:Date.now(),language:"",version:g,difficulty:5,rounds:[]},e.next=4,B(a);case 4:r.push("/pack/".concat(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=["\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u043e\u0442 \u0441\u043b\u0430\u0432\u044f\u043d","\u0418\u0433\u0440\u044b, \u043c\u0443\u0437\u044b\u043a\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435","\u041a\u0438\u043d\u043e\u043f\u0430\u043a","\u0410\u043d\u0438\u043c\u0435 \u0438 \u043f\u0440\u043e\u0447\u0438\u0439 \u0431\u0443\u043b\u043b\u0449\u0438\u0442","\u041c\u0435\u043c\u043d\u0430\u044f \u0421\u043e\u043b\u044f\u043d\u043a\u0430"];return Object(ie.jsxs)("div",{className:Ut.a.container,children:[Object(ie.jsx)(it.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0430",variant:"outlined",value:n,onChange:function(e){return a(e.target.value)},className:Ut.a.field,placeholder:o[Math.floor(Math.random()*o.length)],onKeyUp:function(e){"Enter"===e.key&&s()},autoFocus:!0}),Object(ie.jsx)(Ge.a,{variant:"contained",onClick:function(){return s()},disabled:!n.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}var Et=n(109),At=n.n(Et),qt=n(500),Lt=n(82);var Mt=Object(fe.b)(Se)((function(e){var t=[At.a.link,"onHover","noDefaults"].join(" "),n=Object(i.h)(),a=c.a.useState([]),r=Object(d.a)(a,2),s=r[0],o=r[1];return c.a.useEffect((function(){for(var t,a=n.pathname.split(new RegExp("/pack/".concat(k)),2)[1],c=a.split("/"),r={dashboard:{to:"/",name:"\u041f\u0430\u043a\u0438"},currentPack:{to:"/pack/".concat(e.pack.uuid),name:e.pack.name},settings:{to:"/pack/".concat(e.pack.uuid,"/settings"),name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},rounds:{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(c[2]),name:"\u0420\u0430\u0443\u043d\u0434 ".concat(c[2])},theme:{name:"\u0422\u0435\u043c\u0430 ".concat(c[4])},questions:{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(c[2],"/themes/").concat(c[4],"/questions/").concat(c[6]),name:"\u0412\u043e\u043f\u0440\u043e\u0441 \u0437\u0430 ".concat(c[6])}},s=(t={default:[r.dashboard,r.currentPack]},Object(oe.a)(t,Lt.d,[r.dashboard,r.currentPack,r.settings]),Object(oe.a)(t,Lt.c,[r.dashboard,r.currentPack,r.rounds]),Object(oe.a)(t,Lt.a,[r.dashboard,r.currentPack,r.rounds,r.theme,r.questions]),t),i=0,l=Object.entries(s);i<l.length;i++){var u=Object(d.a)(l[i],2),j=u[0],b=u[1];if(new RegExp("^".concat(j,"/?$")).test(a))return o(b)}return o(s.default)}),[n,e.pack]),Object(ie.jsx)(qt.a,{children:s.map((function(e,n){var a=e.to,c=e.name;return a&&n!==s.length-1?Object(ie.jsx)(pt.a,{to:a,className:t,children:c},n):Object(ie.jsx)(St.a,{color:n===s.length-1?"text.primary":"text.secondary",children:c},n)}))})})),zt=n(113),Ht=n.n(zt),Yt=n(525),Kt=n(487),Wt=n(236),Vt=n(237),Qt=c.a.forwardRef((function(e,t){return Object(ie.jsx)(Kt.a,Object(o.a)({ref:t},e))})),Gt=c.a.forwardRef((function(e,t){var n=c.a.useState(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],i=c.a.useState([]),o=Object(d.a)(i,2),l=o[0],b=o[1],p=c.a.useState(),f=Object(d.a)(p,2),h=f[0],O=f[1];c.a.useImperativeHandle(t,(function(){return{save:function(e){s(!0),O(e)}}})),c.a.useEffect((function(){return(null===h||void 0===h?void 0:h.uuid)&&x()}),[h]);var x=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(h);case 2:if(t=e.sent,b(t),!t.length){e.next=6;break}return e.abrupt("return");case 6:setTimeout(m,500);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(h);case 2:t=e.sent,Object(Wt.saveAs)(t,Object(Vt.slugify)(h.name)),s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(et.a,{maxWidth:"xs",open:r,TransitionComponent:Qt,onClose:function(){return l.length&&s(!1)},children:[Object(ie.jsx)(Xe.a,{children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0430\u0440\u0445\u0438\u0432\u0430"}),Object(ie.jsx)(Ze.a,{children:Object(ie.jsx)(Je.a,{children:l.length?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("p",{children:"\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0430\u043a\u0430:"}),Object(ie.jsx)("ul",{children:l.map((function(e){return Object(ie.jsx)("li",{children:e},e)}))})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("p",{children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u043f\u0430\u043a\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b\u043e\u0432."}),Object(ie.jsx)(Yt.a,{color:"primary"})]})})}),l.length&&Object(ie.jsx)($e.a,{children:Object(ie.jsx)(Ge.a,{autoFocus:!0,onClick:function(){return s(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}));Gt.displayName="ConfirmationDialog";var Jt=Gt;var Xt=Object(fe.b)(Se)((function(e){var t,n=c.a.useRef(),a=c.a.useRef(),r=Object(i.g)(),s=Object(i.h)().pathname,l=function(){var t=Object(j.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.confirmRoundDeletion();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return a=Object(o.a)({},e.pack),c=parseInt(s.split("/pack/".concat(e.pack.uuid,"/rounds/"),2)[1]),a.rounds.splice(c-1,1),t.next=9,B(a);case 9:r.push("/pack/".concat(a.uuid));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=e.pack&&(t={},Object(oe.a)(t,Lt.b,[[function(){return a.current.save(e.pack)},Object(ie.jsx)(ve.j,{},"download")],["/pack/".concat(e.pack.uuid,"/settings"),Object(ie.jsx)(ve.r,{},"settings")],[function(){n.current.confirmPackDeletion(e.pack.uuid)},Object(ie.jsx)(ve.d,{},"delete"),Ht.a.delete]]),Object(oe.a)(t,Lt.c,[[l,Object(ie.jsx)(ve.d,{},"delete"),Ht.a.delete]]),Object(oe.a)(t,Lt.a,[[b,Object(ie.jsx)(ve.d,{},"delete"),Ht.a.delete]]),t),f=s.split("/pack/".concat(e.pack.uuid),2)[1],h=Object.entries(p).find((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return new RegExp("^".concat(n,"/?$")).test(f)&&a}));return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:Ht.a.buttons,children:h&&h[1].map((function(e,t){var n=Object(d.a)(e,3),a=n[0],c=n[1],r=n[2];return Object(ie.jsx)(ie.Fragment,{children:"string"===typeof a?Object(ie.jsx)(pt.a,{to:a,className:r,children:Object(ie.jsx)(yt.a,{children:c})},t):Object(ie.jsx)(yt.a,{className:r,onClick:a,children:c},t)})}))}),Object(ie.jsx)(st,{ref:n}),Object(ie.jsx)(Jt,{ref:a})]})})),Zt=n(238),$t=n.n(Zt),en=n(61),tn=n.n(en),nn=n(532),an=n(531),cn=n(110),rn=n(537),sn=n(239),on=n.n(sn);function ln(e){if(e.transform){var t="translate(0px"+e.transform.slice(e.transform.indexOf(","),e.transform.length);return Object(o.a)(Object(o.a)({},e),{},{transform:t})}return e}function un(e){return Object(ie.jsx)(cn.b,{draggableId:String(e.draggableId),index:e.index,children:function(t){return Object(ie.jsx)(rn.a,Object(o.a)(Object(o.a)({className:[e.className,on.a.item].join(" "),ref:t.innerRef},t.draggableProps),{},{style:ln(t.draggableProps.style),children:e.children(t)}))}})}var jn=n(132),dn=n.n(jn);function bn(e){return Object(ie.jsx)("div",Object(o.a)(Object(o.a)({className:dn.a.handle},e.provided.dragHandleProps),{},{children:Object(ie.jsx)(ve.f,{})}))}function pn(e){var t=c.a.useRef(),n=function(){var n=Object(j.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.current.confirmRoundDeletion();case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:e.handleRemoveRound(e.index);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(ie.jsx)(un,Object(o.a)(Object(o.a)({},e),{},{className:tn.a.cardOfRound,children:function(a){return e.editing?Object(ie.jsxs)("div",{className:tn.a.item,children:[Object(ie.jsx)(bn,{provided:a}),Object(ie.jsx)(fn,Object(o.a)({},e)),Object(ie.jsx)(hn,{handleRemoveRound:n}),Object(ie.jsx)(st,{ref:t})]}):Object(ie.jsx)(pt.a,{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(e.index+1),className:tn.a.link,children:Object(ie.jsx)(an.a,{children:Object(ie.jsx)(fn,Object(o.a)({},e))})})}}))}function fn(e){var t=e.item;return Object(ie.jsx)(nn.a,{style:{paddingBottom:Uc.spacing(2)},className:tn.a.flex1,children:e.editing?Object(ie.jsx)(it.a,{value:e.roundNamesTextInput[e.index],label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0443\u043d\u0434\u0430",variant:"outlined",onChange:function(t){return e.handleRoundNameChange(t,e.index)},size:"small",className:tn.a.inputField}):Object(ie.jsxs)(St.a,{variant:"body2",color:"text.secondary",className:tn.a.flex2,children:["\u0420\u0430\u0443\u043d\u0434 ",e.index+1,". ",t.name]})})}function hn(e){return Object(ie.jsx)(yt.a,{onClick:e.handleRemoveRound,className:tn.a.delete,children:Object(ie.jsx)(ve.d,{})})}var On=n(83),xn=n.n(On),mn=n(502),vn=n(501),gn=n(507),_n=n(533);function kn(e){var t=c.a.useState(!1),n=Object(d.a)(t,2),a=n[0],r=n[1];return Object(ie.jsxs)("div",{className:[xn.a.addItem,e.className].join(" "),children:[Object(ie.jsx)(yn,{setAddingItem:r,handleAddItem:e.onAdd,className:je()(xn.a.button,Object(oe.a)({},xn.a.expand,a)),addingItem:a,label:e.inputLabel}),Object(ie.jsx)("div",{className:je()([xn.a.button,xn.a.addButtonOuter],Object(oe.a)({},xn.a.expand,!a)),children:Object(ie.jsx)(Ge.a,{variant:"contained",startIcon:Object(ie.jsx)(ve.a,{}),onClick:function(){return r(!0)},className:xn.a.addButton,children:e.buttonLabel})})]})}function yn(e){var t=c.a.useState(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useRef(),i=function(){e.setAddingItem(!1),a.length&&(e.handleAddItem(a),r(""))};return c.a.useEffect((function(){e.addingItem&&s.current.focus()}),[e.addingItem]),Object(ie.jsxs)(vn.a,{variant:"outlined",className:e.className,children:[Object(ie.jsx)(mn.a,{size:"small",children:e.label}),Object(ie.jsx)(gn.a,{label:e.label,size:"small",type:"text",value:a,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&i()},style:{paddingRight:0},inputRef:s,endAdornment:Object(ie.jsx)(_n.a,{position:"end",children:Object(ie.jsx)(yt.a,{onClick:i,children:a.length?Object(ie.jsx)(ve.e,{}):Object(ie.jsx)(ve.b,{})})})})]})}function wn(e){var t=c.a.useState({map:new WeakMap,length:0}),n=Object(d.a)(t,2),a=n[0],r=n[1];return Object(ie.jsx)(cn.a,{onDragEnd:e.onDragEnd,children:Object(ie.jsx)(cn.c,{droppableId:e.droppableId,children:function(t){return Object(ie.jsxs)("div",Object(o.a)(Object(o.a)({ref:t.innerRef},t.droppableProps),{},{className:e.droppableClassName,children:[function(){var t=e.list.length?e.list.map((function(t,n){var c=function(e){return a.map.has(e)||a.map.set(e,++a.length),a.map.get(e)};return Object(ie.jsx)(e.itemComponent,Object(o.a)({index:n,draggableId:e.useIdAsKey?t.id:c(t),item:t},e.draggableProps),e.useIdAsKey?t.id:c(t))})):Object(ie.jsx)(St.a,{variant:"body1",gutterBottom:!0,className:dn.a.noItems,children:e.noItemsLabel});return r(a),t}(),t.placeholder]}))}})})}var Nn=n(144),Cn=n.n(Nn);function In(e){return Object(ie.jsxs)("div",{className:Cn.a.toolbar,children:[Object(ie.jsx)("h2",{className:Cn.a.text,children:e.heading}),e.showButton&&e.editing&&Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(St.a,{color:"text.secondary",className:Cn.a.hint,children:"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})}),e.showButton&&Object(ie.jsx)(yt.a,{onClick:e.onSwitch,children:e.editing?Object(ie.jsx)(ve.e,{}):Object(ie.jsx)(ve.g,{})})]})}var Sn=Object(fe.b)(Se)((function(e){var t=c.a.useState(e.pack.rounds),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(!1),i=Object(d.a)(s,2),l=i[0],b=i[1],p=e.pack,f=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(N.a)(p.rounds)).push({name:t,themes:[]}),h(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(n),a=Object(o.a)(Object(o.a)({},p),{},{rounds:n}),t.next=4,B(a);case 4:e.dispatch({type:"pack/load",pack:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=a.map((function(e){return e.name}));return Object(ie.jsxs)("div",{className:tn.a.rounds,children:[Object(ie.jsx)(In,{showButton:Boolean(a.length),onSwitch:function(){b(!l)},editing:l,heading:"\u0420\u0430\u0443\u043d\u0434\u044b \u043f\u0430\u043a\u0430"}),Object(ie.jsx)(wn,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),c=a.splice(t,1),r=Object(d.a)(c,1)[0];return a.splice(n,0,r),a}(a,e.source.index,e.destination.index);h(t)}},droppableId:"rounds",droppableClassName:tn.a.droppable,itemComponent:pn,draggableProps:{pack:p,editing:l,handleRemoveRound:function(e){var t=Object(N.a)(p.rounds);t.splice(e,1),h(t)},handleRoundNameChange:function(e,t){var n=Object(N.a)(a);n[t].name=e.target.value,h(n)},roundNamesTextInput:O},list:a,noItemsLabel:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0440\u0430\u0443\u043d\u0434\u043e\u0432"}),Object(ie.jsx)(kn,{onAdd:f,inputLabel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0443\u043d\u0434\u0430",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434"})]})})),Rn=n(40),Dn=n.n(Rn);function Un(e){return e.children.map((function(t,n){return Object(ie.jsx)(Bn,{first:e.starting&&0===n,last:e.ending&&n===e.children.length-1,children:t},n)}))}function Bn(e){var t=Object(i.h)().pathname.split("/").filter(String)[1],n=e.children.link&&e.children.link.replace("%packUUID%",t);return Object(ie.jsxs)("li",{className:e.children.done&&Dn.a.done,children:[Object(ie.jsx)(Pn,{first:e.first,last:e.last}),n?Object(ie.jsxs)(pt.a,{to:n,className:Dn.a.link,children:[Object(ie.jsx)("span",{children:e.children.name}),Object(ie.jsx)(ve.o,{})]}):Object(ie.jsx)("span",{children:e.children.name})]})}function Pn(e){return Object(ie.jsxs)("span",{className:Dn.a.marker,children:[Object(ie.jsx)("span",{className:je()(Dn.a.lineBefore,Object(oe.a)({},Dn.a.hidden,e.first))}),Object(ie.jsx)("span",{className:Dn.a.bullet}),Object(ie.jsx)("span",{className:je()(Dn.a.lineAfter,Object(oe.a)({},Dn.a.hidden,e.last))})]})}var Fn=Object(fe.b)(Se)((function(e){var t,n=Boolean(e.pack.rounds.some((function(e){return e.themes.some((function(e){return e.questions.length}))}))),a=Boolean(e.pack.rounds.some((function(e){return e.themes.length}))),c=e.pack.rounds.length&&Boolean(e.pack.rounds.every((function(e){return e.themes.length>=5}))),r=Boolean(e.pack.rounds.reduce((function(e,t){return e+t.themes.reduce((function(e,t){return e+t.questions.length}),0)}),0)>=25),s=Boolean(e.pack.rounds.some((function(e){return e.themes.some((function(e){return e.questions.some((function(e){return"auction"===e.type}))}))}))),i=Boolean(e.pack.rounds.some((function(e){return e.themes.some((function(e){return e.questions.some((function(e){return"bagcat"===e.type}))}))}))),o={required:[{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u043e\u0432 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.authors)},{name:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u044f\u0437\u044b\u043a \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.language)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0443\u043d\u0434",link:"/pack/%packUUID%/",done:Boolean(e.pack.rounds.length)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u043c\u0443",link:e.pack.rounds.length&&"/pack/%packUUID%/rounds/1",done:a},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",link:e.pack.rounds.length&&(null===(t=e.pack.rounds[0].questions)||void 0===t?void 0:t.length)&&"/pack/%packUUID%/rounds/1/1",done:n}],optional:[{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043a\u043e\u043d\u043a\u0443 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.icon)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.tags)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5 \u0442\u0435\u043c \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",done:c},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 25 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u0441\u0435\u0433\u043e",done:r},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439",done:s},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",done:i},{name:"\u0421\u0436\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0431\u044b\u043b \u043c\u0435\u043d\u0435\u0435 1 \u041c\u0411"}]},l=function(e){return e.filter((function(e){return void 0!==e.done}))},u=function(e,t){return e+Number(t.done)},j=l(o.required).reduce(u,0)+l(o.optional).reduce(u,0),d=l(o.required).length+l(o.optional).length;return Object(ie.jsxs)("div",{className:Dn.a.container,children:[Object(ie.jsx)(St.a,{variant:"h6",className:Dn.a.text,children:"\u0427\u0435\u043a\u043b\u0438\u0441\u0442:"}),Object(ie.jsxs)("div",{className:Dn.a.progress,children:[Object(ie.jsx)(Yt.a,{variant:"determinate",value:j/d*100,className:Dn.a.progressBar}),Object(ie.jsxs)(St.a,{variant:"subtitle1",color:"text.secondary",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e: ",j," \u0438\u0437 ",d]})]}),Object(ie.jsxs)("ol",{className:Dn.a.list,children:[Object(ie.jsx)(Un,{starting:!0,children:o.required}),Object(ie.jsxs)("div",{className:Dn.a.caption,children:[Object(ie.jsx)("span",{className:Dn.a.line}),Object(ie.jsx)(St.a,{variant:"overline",className:Dn.a.text,children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043a"}),Object(ie.jsx)("span",{className:Dn.a.line})]}),Object(ie.jsx)(Un,{ending:!0,children:o.optional})]})]})}));function Tn(){return Object(ie.jsxs)("div",{className:$t.a.roundsPage,children:[Object(ie.jsx)(Sn,{}),Object(ie.jsx)(Fn,{})]})}var En=n(145),An=n.n(En),qn=n(140),Ln=n(30),Mn=n(89),zn=n(492),Hn=n(497),Yn=n(524),Kn=n(498),Wn=n(245),Vn=n.n(Wn),Qn=n(66),Gn=n.n(Qn),Jn=n(136),Xn=n.n(Jn),Zn=n(21),$n=n.n(Zn),ea=n(488);function ta(e){var t=c.a.useContext(Ye);return Object(ie.jsxs)(ea.a,{className:$n.a.filters,children:[Object(ie.jsxs)("div",{className:$n.a.text,children:[Object(ie.jsx)(ve.l,{}),Object(ie.jsx)(St.a,{variant:"overline",color:"text.secondary",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"})]}),e.packs.map((function(n,a){var c,r;return Object(ie.jsx)(nt.a,{control:Object(ie.jsx)(tt.a,{checked:Boolean(null===(c=e.checkboxes[a])||void 0===c?void 0:c.checked),onChange:function(t){return function(t,n){var a=Object(N.a)(e.checkboxes);a[n]=Object(o.a)(Object(o.a)({},a[n]),{},{checked:t.target.checked}),e.onChange(a)}(t,a)}}),className:$n.a.checkbox,label:null===n?"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0438":n.name,onContextMenu:(r=null===n?null:n.uuid,function(n){t.open(n,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(ie.jsx)(ve.d,{}),action:function(){var t=Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==r){t.next=8;break}return t.next=3,$();case 3:return n=t.sent,t.next=6,Promise.all(n.map(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:t.next=10;break;case 8:return t.next=10,re(r);case 10:e.reloadPacks();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}])})},a)}))]})}var na=n(509);function aa(e){var t=c.a.useState(),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],b=c.a.useState(!1),p=Object(d.a)(b,2),f=p[0],h=p[1],O=c.a.useContext(Ye);c.a.useEffect((function(){var t=URL.createObjectURL(e.file.miniature);return r(t),function(){return URL.revokeObjectURL(t)}}),[e.file.miniature]);var x=function(){var t=Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.file.fileURI,h(!0),t.next=4,te(n);case 4:me.dispatch({type:"fileRendering/fileUnlinked",fileURI:n}),h(!1),e.onRemove(),l(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(na.a,{item:!0,xs:4,md:6,sm:12,className:$n.a.item,onClick:function(){return e.handleSelect(e.file.fileURI)},onContextMenu:function(e){O.open(e,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(ie.jsx)(ve.d,{}),action:function(){return x()}}])},children:Object(ie.jsxs)("div",{className:$n.a.itemInner,children:[Object(ie.jsx)(yt.a,{className:$n.a.button,size:"small",onClick:function(e){e.stopPropagation(),l(!0)},children:Object(ie.jsx)(ve.n,{})}),Object(ie.jsxs)("div",{className:$n.a.preview,children:[Object(ie.jsx)("img",{src:a,className:$n.a.foreground}),Object(ie.jsx)("img",{src:a,className:$n.a.background})]}),Object(ie.jsx)("div",{className:$n.a.fileName,children:e.file.fileName})]})}),Object(ie.jsxs)(et.a,{open:o,onClose:function(e){if(f)return!1;e.stopPropagation(),l(!1)},children:[Object(ie.jsxs)(Xe.a,{className:$n.a.title,children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435 ",e.file.filename]}),Object(ie.jsxs)(Ze.a,{children:[Object(ie.jsxs)("p",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430: ",Object(ie.jsx)("b",{children:Xn()(e.file.blob.size,{symbols:ja})})]}),Object(ie.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f: ",Object(ie.jsx)("b",{children:Ie(new Date(e.file.addedAt))})]}),Object(ie.jsx)(Ge.a,{variant:"contained",className:$n.a.delete,onClick:x,disabled:f,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b"})]})]})]})}function ca(e){var t=c.a.useState([]),n=Object(d.a)(t,2),a=n[0],r=n[1];c.a.useEffect((function(){s()}),[e.packs]);var s=function(){var t=Object(j.a)(u.a.mark((function t(){var n,a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(Object.keys(e.packs));case 2:n=t.sent,a=[],s=Object(le.a)(n);try{for(s.s();!(i=s.n()).done;)o=i.value,c!==o.packUUID?(c=o.packUUID,a.push({packName:e.packs[c],files:[o]})):a[a.length-1].files.push(o)}catch(l){s.e(l)}finally{s.f()}r(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(ie.jsx)("div",{className:$n.a.list,children:Object(ie.jsx)("div",{className:$n.a.content,children:a.length?a.map((function(t,n){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:$n.a.packDivider,children:t.packName?Object(ie.jsxs)(ie.Fragment,{children:["\u041f\u0430\u043a ",Object(ie.jsx)("b",{children:t.packName})]}):Object(ie.jsx)(ie.Fragment,{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u043a"})}),Object(ie.jsx)(na.a,{container:!0,spacing:2,className:$n.a.grid,children:t.files.map((function(t,a){return Object(ie.jsx)(aa,{file:t,handleSelect:e.handleSelect,onRemove:s},"".concat(n,"_").concat(a))}))})]},n)})):Object(ie.jsxs)("div",{className:$n.a.noFilesYet,children:[Object(ie.jsx)(St.a,{className:$n.a.hint,children:"\u0424\u0430\u0439\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),Object(ie.jsx)(St.a,{className:$n.a.hint,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),Object(ie.jsx)(St.a,{className:$n.a.hint,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})})})}var ra=n(490),sa=n(538),ia=n(534);function oa(e){var t=c.a.useState(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(),i=Object(d.a)(s,2),l=i[0],b=i[1],p=c.a.useState(),f=Object(d.a)(p,2),h=f[0],O=f[1],x=c.a.useState([]),m=Object(d.a)(x,2),v=m[0],g=m[1],_=c.a.useState(!1),k=Object(d.a)(_,2),y=k[0],w=k[1],N=function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(!1),r(!0),O(n.length),a=[],c=!1,t.t0=u.a.keys(n);case 6:if((t.t1=t.t0()).done){t.next=23;break}return s=t.t1.value,b(Number(s)+1),(i=n[s]).filename=i.name,t.prev=11,t.next=14,K(i,e.packUUID);case 14:t.next=21;break;case 16:t.prev=16,t.t2=t.catch(11),console.error(t.t2),c=!0,g(a.concat({filename:i.name,errorMessage:t.t2}));case 21:t.next=6;break;case 23:w(!0),c||(r(!1),e.setTab("added"));case 25:case"end":return t.stop()}}),t,null,[[11,16]])})));return function(e){return t.apply(this,arguments)}}();return a?Object(ie.jsx)("div",{className:$n.a.uploadingFiles,children:Object(ie.jsxs)("div",{className:$n.a.uploadingScreen,children:[Object(ie.jsx)("div",{className:$n.a.uploadingCaption,children:y?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ve.e,{}),Object(ie.jsx)("span",{className:$n.a.caption,children:v.length<h?"\u0424\u0430\u0439\u043b\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ia.a,{size:20,thickness:10}),Object(ie.jsxs)("span",{className:$n.a.caption,children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 ",l," \u0438\u0437 ",h]})]})}),Boolean(v.length)&&Object(ie.jsxs)("div",{className:$n.a.errors,children:[Object(ie.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432:"}),v.map((function(e,t){return Object(ie.jsxs)("span",{children:["\u0424\u0430\u0439\u043b \xab",e.filename,"\xbb: ",{"File with such hash already exist":"\u0422\u0430\u043a\u043e\u0439 \u0444\u0430\u0439\u043b \u0443\u0436\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0432 \u044d\u0442\u043e\u0442 \u043f\u0430\u043a"}[e.errorMessage]]},t)}))]}),y&&Object(ie.jsx)(Ge.a,{variant:"contained",onClick:function(){return r(!1)},children:"\u041e\u041a"})]})}):Object(ie.jsx)(ge.a,{onDropAccepted:N,accept:Y,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(ie.jsxs)("div",Object(o.a)(Object(o.a)({className:$n.a.dropzone},t()),{},{children:[Object(ie.jsx)("input",Object(o.a)({},n())),Object(ie.jsxs)("span",{className:$n.a.flex,children:[Object(ie.jsx)(ve.k,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b"]}),Object(ie.jsxs)("span",{className:$n.a.supportedTypes,children:[Object(ie.jsx)("span",{children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u0442\u0438\u043f\u044b \u0444\u0430\u0439\u043b\u043e\u0432:"}),Object(ie.jsx)("span",{children:"\u0424\u043e\u0442\u043e: png, jpeg, gif"}),Object(ie.jsx)("span",{children:"\u0410\u0443\u0434\u0438\u043e: mp3, wav, ogg"}),Object(ie.jsx)("span",{children:"\u0412\u0438\u0434\u0435\u043e: mp4"})]})]}))}})}var la=c.a.forwardRef((function(e,t){var n=c.a.useState("added"),a=Object(d.a)(n,2),r=a[0],s=a[1],i=c.a.useState(!1),o=Object(d.a)(i,2),l=o[0],b=o[1],p=c.a.useState((function(){return Ce})),f=Object(d.a)(p,2),h=f[0],O=f[1],x=c.a.useState([]),m=Object(d.a)(x,2),v=m[0],g=m[1],_=c.a.useState([]),k=Object(d.a)(_,2),y=k[0],w=k[1],N=c.a.useState([]),C=Object(d.a)(N,2),I=C[0],S=C[1],R=function(){b(!1),O((function(){return Ce}))};c.a.useImperativeHandle(t,(function(){return{open:function(e,t){return Object(j.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return O((function(){return t})),n.next=3,U();case 3:b(!0),w(e);case 5:case"end":return n.stop()}}),n)})))()}}}));var U=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,e.next=5,$();case 5:e.sent.length&&t.push(null),g(t),S(t.map((function(e){var t,n=null===e,a=n?null:e.uuid,c=null===(t=I.find((function(e){return e.uuid===a})))||void 0===t?void 0:t.checked;return{uuid:a,checked:void 0!==c?Boolean(c):!n}})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object.fromEntries(I.filter((function(e){return e.checked})).map((function(e){var t;return[e.uuid,null===e.uuid?"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0438":null===(t=v.find((function(t){return t.uuid===e.uuid})))||void 0===t?void 0:t.name]})));return Object(ie.jsxs)(et.a,{open:l,onClose:R,children:[Object(ie.jsxs)(Xe.a,{className:$n.a.title,children:[Object(ie.jsx)("span",{children:"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0444\u0430\u0439\u043b\u043e\u0432"}),Object(ie.jsx)(yt.a,{onClick:R,className:$n.a.close,sx:{color:function(e){return e.palette.grey[500]}},children:Object(ie.jsx)(ve.c,{})})]}),Object(ie.jsxs)(Ze.a,{className:$n.a.dialog,children:[Object(ie.jsxs)(ra.a,{value:r,variant:"fullWidth",onChange:function(e,t){return s(t)},textColor:"inherit",className:$n.a.tabs,children:[Object(ie.jsx)(sa.a,{label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435",value:"added"}),Object(ie.jsx)(sa.a,{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",value:"upload"})]}),"added"===r&&Object(ie.jsxs)("div",{className:$n.a.files,children:[Object(ie.jsx)(ta,{packs:v,checkboxes:I,onChange:S,reloadPacks:U}),Object(ie.jsx)(ca,{packs:B,handleSelect:function(e){R(),setTimeout((function(){return h(e)}),1)}})]}),"upload"===r&&Object(ie.jsx)("div",{className:$n.a.upload,children:Object(ie.jsx)(oa,{packUUID:y,setTab:s})})]})]})}));la.displayName="FileStorage";var ua=la,ja={B:"\u0411",kB:"\u043a\u0411",MB:"\u041c\u0411",GB:"\u0413\u0411",TB:"\u0422\u0411",PB:"\u041f\u0411",EB:"\u042d\u0411",ZB:"\u0417\u0411",YB:"\u0419\u0411"};function da(e){var t=e.onClick;return Object(ie.jsx)("div",{className:Gn.a.placeholder,onClick:t,children:Object(ie.jsx)("span",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c"})})}function ba(e){var t=e.onClick;return Object(ie.jsx)("div",{className:Gn.a.fileMissing,onClick:t,children:Object(ie.jsx)(ve.h,{className:Gn.a.icon})})}function pa(){return Object(ie.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u0432\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0435\u0433\u043e, \u043d\u043e \u0437\u0430\u0442\u0435\u043c \u0443\u0434\u0430\u043b\u0438\u043b\u0438 \u0438\u0437 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0444\u0430\u0439\u043b\u043e\u0432."})}function fa(e){var t=e.src;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("span",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430: ",t.name]}),Object(ie.jsxs)("span",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430: ",Xn()(t.size,{symbols:ja})]})]})}function ha(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),Object(ie.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0444\u0430\u0439\u043b, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043b\u0435\u0432\u0435\u0435."})]})}function Oa(){return Object(ie.jsx)("div",{className:Gn.a.loading,children:Object(ie.jsx)(ia.a,{})})}function xa(e){var t=e.src,n=e.srcUrl,a=e.onClick,c=e.label;return Object(ie.jsx)("img",{src:n,alt:n?"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044f ".concat(c," \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \xab").concat(t.name,"\xbb"):"",onClick:a,className:Gn.a.image})}var ma=Object(fe.b)((function(e){return{pack:e.pack,fileRendering:e.fileRendering}}))((function(e){var t=c.a.useState({}),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(null),i=Object(d.a)(s,2),o=i[0],l=i[1],b=c.a.useState(!1),p=Object(d.a)(b,2),f=p[0],h=p[1],O=c.a.useRef();c.a.useEffect((function(){a.fileURI&&e.dispatch({type:"fileRendering/setFileUnlinkCallback",fileURI:a.fileURI,callback:function(){return h(!0)}})}),[h]),c.a.useEffect((function(){var t=e.value,n=function(){};return l(),t?Object(j.a)(u.a.mark((function a(){var c,s,i,o,j;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G(t);case 2:if(c=a.sent){a.next=5;break}return a.abrupt("return",h(!0));case 5:h(!1),s=c.miniature,i=c.fileName,o=s.size,r({name:i,size:o}),j=URL.createObjectURL(s),l(j),e.dispatch({type:"fileRendering/fileRenderingStarted",fileURI:c.fileURI,callback:function(){return h(!0)}}),n=function(){URL.revokeObjectURL(j),me.dispatch({type:"fileRendering/fileRenderingStopped",fileURI:c.fileURI})};case 14:case"end":return a.stop()}}),a)})))():(r({}),l(null)),function(){return n()}}),[e.value]);var x=function(){var t=Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return O.current.open(e.pack.uuid,t)}));case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:e.onChange(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(ie.jsxs)("div",{className:Gn.a.container,children:[Object(ie.jsxs)(St.a,{variant:"body",color:"text.primary",gutterBottom:!0,className:Gn.a.label,children:[e.label,":"]}),Object(ie.jsxs)("div",{className:Gn.a.preview,children:[null===o?Object(ie.jsx)(da,{onClick:x}):f?Object(ie.jsx)(ba,{onClick:x}):void 0!==o?Object(ie.jsx)(xa,{src:a,srcUrl:o,label:e.label,onClick:x}):Object(ie.jsx)(Oa,{}),Object(ie.jsxs)("div",{className:Gn.a.info,children:[f?Object(ie.jsx)(pa,{}):a.size?Object(ie.jsx)(fa,{src:a}):Object(ie.jsx)(ha,{}),Object(ie.jsx)(Ge.a,{variant:"contained",onClick:function(){h(!1),e.onChange(void 0)},disabled:!o&&!f,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u0435"})]})]}),Object(ie.jsx)(ua,{ref:O})]})})),va=["name","formik"],ga=["formik","name"],_a=["formik","name","options"],ka=["formik","name"],ya=["formik","name"],wa=["formik","name"],Na=function(e,t){return{error:e.touched[t]&&Boolean(e.errors[t]),helperText:e.touched[t]&&e.errors[t]}};function Ca(e){var t=e.name,n=e.formik,a=Object(Mn.a)(e,va);return Object(ie.jsx)(it.a,Object(o.a)(Object(o.a)({name:t,value:n.values[t],onChange:function(e){n.handleChange(e),n.setTouched(Object(o.a)(Object(o.a)({},n.touched),{},Object(oe.a)({},t,!0)))}},Na(n,t)),a))}function Ia(e){var t=e.formik,n=e.name,a=Object(Mn.a)(e,ga),c=t.values[n].split(",");1===c.length&&""===c[0]&&(c=[]);var r=function(e){"Enter"===e.key&&e.preventDefault()};return Object(ie.jsx)(zn.a,Object(o.a)(Object(o.a)({},a),{},{multiple:!0,options:[],value:c,getOptionLabel:function(e){return e},freeSolo:!0,clearOnBlur:!0,onChange:function(e,a){t.setFieldValue(n,a.map((function(e){return e.replaceAll(",","")||"."})).join(",")),t.setTouched(Object(o.a)(Object(o.a)({},t.touched),{},Object(oe.a)({},n,!0)))},renderInput:function(e){return Object(ie.jsx)(it.a,Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},a),e),Na(t,n)),{},{placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 Enter, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onKeyDown:r}))}}))}function Sa(e){var t=e.formik,n=e.name,a=e.options,c=Object(Mn.a)(e,_a),r={error:t.touched[n]&&Boolean(t.errors[n])};return Object(ie.jsxs)(vn.a,{fullWidth:!0,children:[Object(ie.jsx)(mn.a,Object(o.a)(Object(o.a)({},r),{},{children:e.label})),Object(ie.jsx)(Hn.a,Object(o.a)(Object(o.a)(Object(o.a)({},c),{},{name:n,value:t.values[n],onChange:function(e){t.handleChange(e),t.setTouched(Object(o.a)(Object(o.a)({},t.touched),{},Object(oe.a)({},n,!0)))}},r),{},{children:Object.entries(a).map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(ie.jsx)(Me.a,{value:n,children:a},n)}))})),Object(ie.jsx)(Yn.a,{error:!0,children:t.touched[n]&&t.errors[n]})]})}function Ra(e){var t=e.formik,n=e.name,a=Object(Mn.a)(e,ka);return Object(ie.jsx)(nt.a,Object(o.a)({control:Object(ie.jsx)(tt.a,{name:n,checked:t.values[n],onChange:function(e){t.handleChange(e),t.setTouched(Object(o.a)(Object(o.a)({},t.touched),{},Object(oe.a)({},n,!0)))}})},a))}function Da(e){var t=e.formik,n=e.name,a=Object(Mn.a)(e,ya),r=c.a.useState(t.values[n]),s=Object(d.a)(r,2),i=s[0],l=s[1];return c.a.useEffect((function(){return t.setFieldValue(n,i)}),[i]),Object(ie.jsxs)("div",{className:Vn.a.slider,children:[Object(ie.jsx)("span",{children:a.label}),Object(ie.jsx)(Kn.a,Object(o.a)({name:n,value:i,onChange:function(e){l(e.target.value),t.setTouched(Object(o.a)(Object(o.a)({},t.touched),{},Object(oe.a)({},n,!0)))},valueLabelDisplay:"auto",marks:!0},a))]})}function Ua(e){var t=e.formik,n=e.name,a=Object(Mn.a)(e,wa);return Object(ie.jsx)(ma,Object(o.a)(Object(o.a)({},a),{},{value:t.values[n],onChange:function(e){var a;if(t.setFieldValue(n,e),void 0!==e)a=Object(o.a)(Object(o.a)({},t.touched),{},Object(oe.a)({},n,!0));else{var c=Object(o.a)({},t.touched);delete c[n],a=c}t.setTouched(a)}}))}var Ba=n(137),Pa={logo:Ln.e("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0430\u043a\u0430"),name:Ln.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),authors:Ln.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0430"),publisher:Ln.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0437\u0434\u0430\u0442\u0435\u043b\u044f"),difficulty:Ln.c("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u043a\u0430").positive().min(1).max(10).integer("\u0427\u0438\u0441\u043b\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438"),comment:Ln.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),tags:Ln.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433\u0438"),language:Ln.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u043f\u0430\u043a\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u044f\u0437\u044b\u043a"),over18:Ln.b("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u043a\u0430")},Fa=Ln.d(Pa);var Ta=Object(fe.b)(Se)((function(e){var t={};Object.keys(Pa).forEach((function(n){return t[n]=e.pack[n]||""}));var n=c.a.useState(!1),a=Object(d.a)(n,2),r=a[0],s=a[1],l=Object(i.g)(),b=Object(qn.a)({initialValues:t,validationSchema:Fa,onSubmit:function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),a=Object(o.a)(Object(o.a)({},e.pack),n),t.next=4,B(a);case 4:e.dispatch({type:"pack/load",pack:a}),l.push("/pack/".concat(a.uuid));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return Object(Ba.a)((function(e){Object.keys(b.touched).length&&e.preventDefault()})),Object(ie.jsxs)("div",{className:An.a.container,children:[Object(ie.jsxs)("form",{onSubmit:b.handleSubmit,className:An.a.form,children:[Object(ie.jsx)(Ca,{name:"name",formik:b,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:r}),Object(ie.jsx)(Ia,{name:"authors",formik:b,label:"\u0410\u0432\u0442\u043e\u0440\u044b",disabled:r}),Object(ie.jsx)(Ua,{name:"logo",formik:b,label:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(ie.jsx)(Ca,{name:"publisher",formik:b,label:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043f\u0430\u043a\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:r}),Object(ie.jsx)(Da,{name:"difficulty",label:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c",formik:b,disabled:r,step:1,min:1,max:10}),Object(ie.jsx)(Sa,{name:"language",formik:b,label:"\u042f\u0437\u044b\u043a \u043f\u0430\u043a\u0430",options:{"":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e","ru-RU":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (ru-RU)","en-US":"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 (en-US)"},disabled:r}),Object(ie.jsx)(Ca,{name:"comment",formik:b,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:r}),Object(ie.jsx)(Ia,{name:"tags",formik:b,label:"\u0422\u0435\u0433\u0438 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:r}),Object(ie.jsx)(Ra,{name:"over18",formik:b,label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 18+",disabled:r}),Object(ie.jsx)(Ge.a,{color:"primary",variant:"contained",type:"submit",disabled:r,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(ie.jsx)(i.a,{when:Object.keys(b.touched).length&&!r,message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439?"}),Object(ie.jsx)("div",{className:An.a.info,children:Object(ie.jsxs)("ul",{children:[Object(ie.jsxs)("li",{children:["\u0412\u0435\u0440\u0441\u0438\u044f XML \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430: ",Object(ie.jsx)("span",{children:m})]}),Object(ie.jsxs)("li",{children:["\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435: ",Object(ie.jsx)("span",{children:v})]}),Object(ie.jsxs)("li",{children:["\u0412\u0435\u0440\u0441\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430: ",Object(ie.jsx)("span",{children:e.pack.version})]}),Object(ie.jsxs)("li",{children:["UUID: ",Object(ie.jsx)("span",{children:e.pack.uuid})]}),Object(ie.jsxs)("li",{children:["\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",Object(ie.jsx)("span",{children:e.pack.date})]})]})})]})})),Ea=n(246),Aa=n.n(Ea),qa=n(247),La=n.n(qa);function Ma(){return Object(ie.jsx)("div",{className:La.a.centered,children:Object(ie.jsx)(St.a,{variant:"h1",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})}var za=n(50),Ha=n.n(za),Ya=n(526),Ka=n(527),Wa=n(529),Va=n(530),Qa=n(528),Ga=n(520),Ja=n(491);function Xa(e){var t=Object(i.j)().url;return Object(ie.jsx)(Ya.a,{component:Ga.a,className:Ha.a.table,children:Object(ie.jsx)(Ka.a,{children:Object(ie.jsx)(Qa.a,{children:e.themes.map((function(e,n){return Object(ie.jsxs)(Wa.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ie.jsx)(Va.a,{component:"th",scope:"row",style:{minWidth:"30%"},children:e.name}),e.questions.length?e.questions.map((function(e,a){return Object(ie.jsx)(Va.a,{className:Ha.a.tableCell,children:Object(ie.jsx)(pt.a,{to:"".concat(t,"/themes/").concat(n+1,"/questions/").concat(e.price),children:Object(ie.jsx)(Ja.a,{className:Ha.a.buttonBase,children:e.price})})},a)})):Object(ie.jsx)(Va.a,{align:"right",children:Object(ie.jsx)("span",{className:Ha.a.noItemsYet,children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"})})]},n)}))})})})}var Za=n(539);function $a(e){return Object(ie.jsx)(Va.a,{align:"right",style:{width:e.wp/26*100+"%"},children:e.children})}var ec=Object(fe.b)(Se)((function(e){var t=Object(i.g)(),n=Object(i.j)(),a=e.theme.questions.sort((function(e,t){return e.price-t.price}));return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ya.a,{children:Object(ie.jsxs)(Ka.a,{sx:{minWidth:650},children:[Object(ie.jsx)(Za.a,{children:Object(ie.jsxs)(Wa.a,{children:[Object(ie.jsx)(Va.a,{children:"\u0426\u0435\u043d\u0430"}),Object(ie.jsx)($a,{wp:10,children:"\u0422\u0435\u043a\u0441\u0442"}),Object(ie.jsx)($a,{wp:9,children:"\u041e\u0442\u0432\u0435\u0442"}),Object(ie.jsx)($a,{wp:4,children:"\u0412\u0438\u0434 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"}),Object(ie.jsx)($a,{wp:1,children:Object(ie.jsx)(ve.m,{})}),Object(ie.jsx)($a,{wp:1,children:Object(ie.jsx)(ve.p,{})}),Object(ie.jsx)($a,{wp:1,children:Object(ie.jsx)(ve.t,{})})]})}),Object(ie.jsx)(Qa.a,{children:a.map((function(a,c){return Object(ie.jsxs)(Wa.a,{className:Ha.a.tableRow,sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,onClick:(s=a.price,function(){t.push("".concat(n.url,"/themes/").concat(e.themeIndex+1,"/questions/").concat(s))}),children:[Object(ie.jsx)(Va.a,{component:"th",scope:"row",children:a.price}),Object(ie.jsx)($a,{wp:10,children:a.text}),Object(ie.jsx)($a,{wp:10,children:a.answer}),Object(ie.jsx)($a,{wp:3,children:(r=a.type,Re[r]||r)}),Object(ie.jsx)($a,{wp:1,children:a.image&&Object(ie.jsx)(ve.e,{})}),Object(ie.jsx)($a,{wp:1,children:a.audio&&Object(ie.jsx)(ve.e,{})}),Object(ie.jsx)($a,{wp:1,children:a.movie&&Object(ie.jsx)(ve.e,{})})]},c);var r,s}))})]})}),Object(ie.jsx)(Ge.a,{color:"primary",startIcon:Object(ie.jsx)(ve.a,{}),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"})]})})),tc=n(499),nc=n(535),ac=n(536),cc=function(e){return Object(ie.jsx)("div",Object(o.a)(Object(o.a)({onClick:function(e){return e.stopPropagation()}},e),{},{children:e.children}))};cc.displayName="ClickIsolator";var rc=cc;var sc=Object(fe.b)(Se)((function(e){var t=e.item,n=e.draggableId===e.expandId,a=c.a.useState(t.name),r=Object(d.a)(a,2),s=r[0],i=r[1],o=function(t){t.stopPropagation(),e.handleRemoveTheme(e.index)},l=function(t){var n=t.target.value;i(n),e.handleChangeThemeName(e.index,n)};return Object(ie.jsx)(un,{index:e.index,draggableId:t.id.toString(),children:function(a){return Object(ie.jsxs)(tc.a,{expanded:n,onChange:function(n,a){return e.setExpand(a?t.id:void 0)},children:[Object(ie.jsx)(nc.a,{expandIcon:Object(ie.jsx)(ve.i,{}),children:Object(ie.jsxs)("div",{className:Ha.a.toolbar,children:[Object(ie.jsx)(bn,{provided:a}),Object(ie.jsx)(rc,{className:Ha.a.name,children:Object(ie.jsx)(it.a,{value:s,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b",variant:"outlined",onChange:l,size:"small",fullWidth:!0})}),Object(ie.jsx)(yt.a,{onClick:o,className:Ha.a.delete,children:Object(ie.jsx)(ve.d,{className:Ha.a.delete})})]})}),Object(ie.jsx)(ac.a,{children:Object(ie.jsx)(ec,{theme:t,themeIndex:e.index})})]})}})}));function ic(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(wn,{droppableId:"themes",onDragEnd:e.onDragEnd,list:e.themes,draggableProps:{setExpand:e.setExpand,handleRemoveTheme:e.handleRemoveTheme,handleChangeThemeName:e.handleChangeThemeName,expandId:e.expand},noItemsLabel:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u043c",itemComponent:sc,useIdAsKey:!0}),Object(ie.jsx)(kn,{onAdd:e.handleAddTheme,inputLabel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043c\u0443",className:Ha.a.addTheme})]})}var oc=Object(fe.b)(Se)((function(e){var t=c.a.useState([]),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(),o=Object(d.a)(s,2),l=o[0],b=o[1],p=Object(i.h)().pathname.split(new RegExp("/pack/".concat(k,"/rounds/")),2)[1],f=c.a.useState(),h=Object(d.a)(f,2),O=h[0],x=h[1],m=c.a.useState(!1),v=Object(d.a)(m,2),g=v[0],_=v[1],y=e.pack.rounds[p-1];c.a.useEffect((function(){b(!!y)}),[]);var w=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(N.a)(a)).push({name:t,id:Date.now(),questions:[{price:100,text:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0443 \u0432\u0438\u0442\u0438 \u0447\u0435\u043b\u0430 \u0438\u0433\u0440 \u0432 \u0441\u0442\u043e\u0440\u0430\u0445?",answer:"3",type:"simple"},{price:200,image:"ihskdab,jsakjd",answer:"Stigfinnare",type:"auction"}]}),C(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(n),(a=Aa()(e.pack)).rounds[p-1].themes=n,t.next=5,B(a);case 5:e.dispatch({type:"pack/load",pack:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.useEffect((function(){y&&r(y.themes)}),[]),void 0!==l&&(l?Object(ie.jsxs)("div",{children:[Object(ie.jsx)(In,{showButton:!0,onSwitch:function(){return _(!g)},editing:g,heading:"\u0422\u0435\u043c\u044b \u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0440\u0430\u0443\u043d\u0434\u0430 ".concat(y.name)}),a.length&&!g?Object(ie.jsx)(Xa,{themes:a}):Object(ie.jsx)(ic,{themes:a,onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),c=a.splice(t,1),r=Object(d.a)(c,1)[0];return a.splice(n,0,r),a}(a,e.source.index,e.destination.index);C(t)}},expand:O,setExpand:x,setEditing:_,handleAddTheme:w,handleRemoveTheme:function(e){var t=Object(N.a)(a);t.splice(e,1),C(t)},handleChangeThemeName:function(e,t){var n=Object(N.a)(a);n[e].name=t,C(n)}})]}):Object(ie.jsx)(Ma,{}))})),lc=n(37),uc=n.n(lc),jc=Object(ie.jsxs)("p",{children:[Object(ie.jsx)("b",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"})," \u2014 \u044d\u0442\u043e \u0447\u0438\u0441\u043b\u043e \u043e\u0447\u043a\u043e\u0432, \u043e\u0431\u044b\u0447\u043d\u043e \u043a\u0440\u0430\u0442\u043d\u043e\u0435 100, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0438 \u0442\u0435\u0440\u044f\u0435\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 (\u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0412\u043e\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0440\u0438\u0441\u043a\u0430). \u042d\u0442\u043e \u0447\u0438\u0441\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0440\u0430\u0443\u043d\u0434\u0430."]}),dc=Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("p",{children:[Object(ie.jsx)("b",{children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439"})," \u2014 \u042d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f, \u0437\u0430\u0442\u0435\u043c \u0443 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0435\u0441\u0442\u044c \u0432\u0440\u0435\u043c\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443. \u041d\u0430\u0436\u0430\u0432\u0448\u0438\u0439 \u0440\u0430\u043d\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u0441\u0447\u0451\u0442\u0443 \u0438\u0433\u0440\u043e\u043a\u0430, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e - \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0441\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441\u043e \u0441\u0447\u0451\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0441\u043d\u043e\u0432\u0430 \u043c\u043e\u0433\u0443\u0442 \u0436\u0430\u0442\u044c \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0432\u0448\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438."]}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("b",{children:"\u0410\u0443\u043a\u0446\u0438\u043e\u043d"})," \u2014 \u041f\u0440\u0438 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f \u0441\u0443\u043c\u043c (\u043d\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0442\u043e\u0433\u043e, \u043a\u043e\u043c\u0443 \u0432\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u0441\u0442\u0430\u043b\u0441\u044f), \u0434\u0435\u043b\u0430\u044e\u0442 \u0441\u0442\u0430\u0432\u043a\u0438, \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0440\u0430\u0432\u043d\u0430 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u041c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c \xab\u041f\u0430\u0441\xbb \u0438 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0442\u043e\u0440\u0433\u043e\u0432. \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u0439\u0442\u0438 \xab\u0432\u0430-\u0431\u0430\u043d\u043a\xbb \u2014 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0441\u0451 \u043d\u0430 \u043a\u043e\u043d. \u0412\u0430-\u0431\u0430\u043d\u043a \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u043d\u043e \u043f\u043e\u0439\u0442\u0438 \u0432\u0430-\u0431\u0430\u043d\u043a \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u044f \u043f\u043e \u0441\u0443\u043c\u043c\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443. \u0422\u043e\u0442, \u043a\u0442\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445, \u0431\u0443\u0434\u0435\u0442 \u0435\u0434\u0438\u043d\u0438\u043b\u0438\u0447\u043d\u043e \u0438\u0433\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f. \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0440\u0430\u0432\u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0433\u0440\u0430\u044e\u0449\u0435\u0433\u043e."]}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("b",{children:"\u0421 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c"})," \u2014 \u0422\u043e\u0442, \u043a\u043e\u043c\u0443 \u0434\u043e\u0441\u0442\u0430\u043b\u0441\u044f \u0432\u043e\u043f\u0440\u043e\u0441, \u043e\u0431\u044f\u0437\u0430\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0431\u044f\u0437\u0430\u043d \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u0412\u043e\u043f\u0440\u043e\u0441 \u0438\u043c\u0435\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0443\u044e \u0434\u043e \u043e\u0442\u0434\u0430\u0447\u0438."]}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("b",{children:"\u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435"})," \u2014 \u041d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 1 \u0447\u0435\u043b\u043e\u0432\u0435\u043a. \u041e\u0442\u0432\u0435\u0447\u0430\u044e\u0449\u0435\u0433\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438\u0433\u0440\u043e\u043a. \u0423 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0442\u0435\u043c\u0430 \u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c."]}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)("b",{children:"\u0411\u0435\u0437 \u0440\u0438\u0441\u043a\u0430"})," \u2014 \u041d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0433\u0440\u043e\u043a, \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0438\u0439 \u0435\u0433\u043e. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u043d \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u0443\u043c\u043c\u0443, \u0440\u0430\u0432\u043d\u0443\u044e \u0443\u0434\u0432\u043e\u0435\u043d\u043d\u043e\u043c\u0443 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u043d \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0442\u0435\u0440\u044f\u0435\u0442."]})]}),bc="\u0420\u0430\u043d\u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0442\u0435\u043c\u0430\u043c\u0438, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438\u0448\u044c \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c \u0438 \u043a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",pc=Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("p",{children:"\u0423 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \xab\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\xbb, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430, \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0438 \u043e\u0442 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0440\u0430\u0443\u043d\u0434\u0430."}),Object(ie.jsxs)("p",{children:["\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0438\u043b\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435",Object(ie.jsx)("b",{children:"\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),", \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0435 \u043d\u0438\u0436\u0435."]}),Object(ie.jsx)("p",{children:"\u0412\u043e \u0432\u0442\u043e\u0440\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u043c, \u043d\u0430 \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0434\u0430\u0435\u0442\u0441\u044f \u0434\u0432\u0430 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430: \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0430\u044f \u0438 \u043d\u0430\u0438\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0437 \u0432\u0441\u0435\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0440\u0430\u0443\u043d\u0434\u0435."}),Object(ie.jsx)("p",{children:"\u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u044d\u0442\u043e \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0432 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c \u0432\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0432\u0430\u043c\u0438 \u0448\u0430\u0433\u043e\u043c. \u0415\u0441\u043b\u0438 \u0448\u0430\u0433 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d, \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u0440\u0430\u0439\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),fc=Object(ie.jsxs)("p",{children:["\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0435\u0441\u0442\u044c ",Object(ie.jsx)("b",{children:"\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})," \u2014 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0439 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u2014 \u0442\u0435\u043a\u0441\u0442\u0430, \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u0430\u0443\u0434\u0438\u043e \u0438\u043b\u0438 \u0432\u0438\u0434\u0435\u043e, \u0442\u0435\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e 100 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 \u043e\u0434\u0438\u043d \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439."]}),hc=n(248),Oc=n(508);function xc(e){return Object(ie.jsxs)("div",{className:uc.a.hint,children:[e.children,Object(ie.jsx)(Oc.a,{title:e.hint,children:Object(ie.jsx)(yt.a,{children:Object(ie.jsx)(hc.a,{})})})]})}function mc(e){var t=e.formik,n={formik:t,disabled:e.submitting},a=Object(o.a)(Object(o.a)({},n),{},{type:"number",InputProps:{inputProps:{min:0,max:4294967295}}});return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(St.a,{variant:"h6",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0435"}),Object(ie.jsx)(xc,{hint:jc,children:Object(ie.jsx)(Ca,Object(o.a)({name:"price",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},n))}),Object(ie.jsx)(xc,{hint:dc,children:Object(ie.jsx)(Sa,Object(o.a)({name:"type",label:"\u0422\u0438\u043f \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:Re},n))}),"cat"===t.values.type&&Object(ie.jsx)(xc,{hint:bc,children:Object(ie.jsx)(Ca,Object(o.a)({name:"realprice",label:"\u041d\u0430\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},n))}),"bagcat"===t.values.type&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(xc,{hint:pc,children:Object(ie.jsx)(Sa,Object(o.a)({name:"questionPriceType",label:"\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:{fixed:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432\u0430\u043c\u0438",minMax:"\u0412\u044b\u0431\u043e\u0440\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0430 \u0438\u0437 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0430 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0440\u0430\u0443\u043d\u0434\u0435",byPlayer:"\u0418\u0433\u0440\u043e\u043a\u043e\u043c \u0432 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0430\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u0438 \u0448\u0430\u0433\u043e\u043c"}},n))}),"fixed"===t.values.questionPriceType&&Object(ie.jsx)(xc,{hint:bc,children:Object(ie.jsx)(Ca,Object(o.a)({name:"realprice",label:"\u041d\u0430\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},a))}),"byPlayer"===t.values.questionPriceType&&Object(ie.jsx)(xc,{hint:bc,children:Object(ie.jsxs)("div",{className:uc.a.grouped,children:[Object(ie.jsx)(Ca,Object(o.a)({name:"realpriceFrom",label:"\u041e\u0442"},a)),Object(ie.jsx)(Ca,Object(o.a)({name:"realpriceTo",label:"\u0414\u043e"},a)),Object(ie.jsx)(Ca,Object(o.a)({name:"realpriceStep",label:"\u0428\u0430\u0433"},a))]})})]}),"bagcat"===t.values.type&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ra,Object(o.a)({name:"transferToSelf",label:"\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0441\u0435\u0431\u0435"},n)),Object(ie.jsx)(xc,{hint:Object(ie.jsxs)("p",{children:["\u0415\u0441\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d \u0432\u0430\u0440\u0438\u0430\u043d\u0442 ",Object(ie.jsx)("b",{children:"\u041d\u0438\u043a\u043e\u0433\u0434\u0430"}),", \u0442\u043e \u0432\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f, \u0438\u0433\u0440\u043e\u043a\u0443 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"]}),children:Object(ie.jsx)(Sa,Object(o.a)({name:"detailsDisclosure",label:"\u041a\u043e\u0433\u0434\u0430 \u0443\u0437\u043d\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:{before:"\u0414\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",after:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",never:"\u041d\u0438\u043a\u043e\u0433\u0434\u0430"}},n))})]})]})}var vc=n(249),gc=n.n(vc);function _c(e){var t=c.a.useState(3),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(),i=Object(d.a)(s,2),o=i[0],l=i[1],u=function(t){t.stopPropagation(),e.onDelete(e.index)},j=new Array(10).fill().map((function(e,t){return new gc.a(.1).times(t+1).toNumber()})),b=new Array(18).fill().map((function(e,t){return 1+.5*(t+1)})),p=new Array(20).fill().map((function(e,t){return 11+t})),f=new Array(6).fill().map((function(e,t){return 30+5*(t+1)})),h=[].concat(Object(N.a)(j),Object(N.a)(b),Object(N.a)(p),Object(N.a)(f)).map((function(e,t){return{_label:e,value:t}})),O=function(e,t){t=t.map((function(e){return e._label}));for(var n=0;n<t.length;n++)if(t[n]<=e&&t[n+1]>e)return n;return e};return Object(ie.jsx)(un,{index:e.index,draggableId:e.draggableId.toString(),children:function(t){var n,c,s,i;return Object(ie.jsxs)(tc.a,{children:[Object(ie.jsx)(nc.a,{expandIcon:Object(ie.jsx)(ve.i,{}),children:Object(ie.jsxs)("div",{className:uc.a.item,children:[Object(ie.jsx)(bn,{provided:t}),Object(ie.jsxs)(St.a,{variant:"body1",className:uc.a.itemType,children:[null!==(n={image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",voice:"\u0410\u0443\u0434\u0438\u043e",video:"\u0412\u0438\u0434\u0435\u043e",text:"\u0422\u0435\u043a\u0441\u0442",say:"\u0421\u043b\u043e\u0432\u043e \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e"}[e.item.type])&&void 0!==n?n:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \xab".concat(e.item.type,"\xbb"),Object(ie.jsx)("span",{className:uc.a.spacing}),{image:Object(ie.jsx)(ve.m,{}),voice:Object(ie.jsx)(ve.p,{}),video:Object(ie.jsx)(ve.t,{}),text:Object(ie.jsx)(ve.s,{}),say:Object(ie.jsx)(ve.q,{})}[e.item.type]]}),Object(ie.jsx)(St.a,{variant:"body2",color:"text.secondary",children:(i=e.item.duration,"".concat(i.toFixed(1)," c\u0435\u043a."))}),Object(ie.jsx)(yt.a,{onClick:u,className:uc.a.delete,children:Object(ie.jsx)(ve.d,{className:uc.a.delete})})]})}),Object(ie.jsx)(ac.a,{children:Object(ie.jsxs)("div",{className:uc.a.details,children:[Object(ie.jsxs)("div",{className:uc.a.duration,children:[Object(ie.jsx)(Kn.a,{defaultValue:h.find((function(e){return 3===e._label})).value,step:null,marks:h,min:h[0].value,max:h[h.length-1].value,valueLabelDisplay:(c=h,s=a,c.map((function(e){return e._label})).includes(s)?"on":"off"),valueLabelFormat:function(e){return h[e]._label},value:O(a,h),onChange:function(e){return r(h[e.target.value]._label)}}),Object(ie.jsx)(it.a,{label:"\u0412\u0440\u0435\u043c\u044f",variant:"outlined",size:"small",type:"number",InputProps:{inputProps:{min:.1,step:.1}},className:uc.a.time,value:a,onChange:function(e){return r(Number(e.target.value))}})]}),{text:Object(ie.jsx)(it.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",multiline:!0,rows:4,fullWidth:!0}),image:Object(ie.jsx)(ma,{value:o,onChange:l,label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})}[e.item.type]]})})]})}})}function kc(e){var t=e.formik,n=c.a.useState([]),a=Object(d.a)(n,2),r=a[0],s=a[1],i=c.a.useState(""),o=Object(d.a)(i,2),l=o[0],u=o[1];return Object(ie.jsxs)("div",{className:uc.a.scenario,children:[Object(ie.jsx)(xc,{hint:fc,children:Object(ie.jsx)(St.a,{variant:"h6",children:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})}),Object(ie.jsx)(wn,{droppableId:"scenario",onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),c=a.splice(t,1),r=Object(d.a)(c,1)[0];return a.splice(n,0,r),a}(r,e.source.index,e.destination.index);s(t)}},list:r,draggableProps:{onDelete:function(e){var t=Object(N.a)(r);t.splice(e,1),s(t)},formik:t},noItemsLabel:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u0443\u0441\u0442",itemComponent:_c}),r.length<100&&Object(ie.jsxs)("div",{className:uc.a.addEvent,children:[Object(ie.jsxs)(vn.a,{fullWidth:!0,children:[Object(ie.jsx)(mn.a,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"}),Object(ie.jsxs)(Hn.a,{name:name,value:l,onChange:function(e){return u(e.target.value)},label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435",displayEmpty:!0,children:[Object(ie.jsx)(Me.a,{value:"text",children:"\u0422\u0435\u043a\u0441\u0442 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435"}),Object(ie.jsx)(Me.a,{value:"say",children:"\u0421\u043b\u043e\u0432\u043e \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e"}),Object(ie.jsx)(Me.a,{value:"image",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(ie.jsx)(Me.a,{value:"voice",children:"\u0410\u0443\u0434\u0438\u043e"}),Object(ie.jsx)(Me.a,{value:"video",children:"\u0412\u0438\u0434\u0435\u043e"})]})]}),Object(ie.jsx)(yt.a,{onClick:function(){u(),s([].concat(Object(N.a)(r),[{type:l,duration:3}]))},disabled:!l,children:Object(ie.jsx)(ve.a,{})})]}),Object(ie.jsx)(St.a,{variant:"body2",color:"text.secondary",children:"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})]})}var yc=Ln.c().integer().min(1,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0").max(4294967295),wc=Ln.d({price:yc.required("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),realprice:yc,type:Ln.e().required("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),transferToSelf:Ln.b(),detailsDisclosure:Ln.e(),realpriceFrom:Ln.c(),realpriceTo:Ln.c(),realpriceStep:Ln.c(),scenario:Ln.a().of(Ln.d().shape({type:Ln.e()})).min(1).max(100)});function Nc(){Object(i.g)();var e=c.a.useState(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(qn.a)({initialValues:{},validationSchema:wc,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(Ba.a)((function(e){Object.keys(r.touched).length&&e.preventDefault()})),Object(ie.jsxs)("div",{className:uc.a.container,children:[Object(ie.jsxs)("form",{onSubmit:r.handleSubmit,className:uc.a.form,children:[Object(ie.jsx)(mc,{formik:r,submitting:n}),Object(ie.jsx)(Ge.a,{color:"primary",variant:"contained",type:"submit",disabled:n,className:uc.a.submit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(ie.jsx)(kc,{formik:r,submitting:n}),Object(ie.jsx)(i.a,{when:Object.keys(r.touched).length&&!n,message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439?"})]})}var Cc=Object(fe.b)(Se)((function(e){var t=c.a.useState(),n=Object(d.a)(t,2),a=n[0],r=n[1],s=c.a.useState(),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(i.i)();return c.a.useEffect((function(){var t=e.pack;if(!t)return r(!0);var n=t.rounds[j.roundIndex-1];if(!n)return r(!0);var a=n.themes[j.themeIndex-1];if(!a)return r(!0);var c=a.questions.find((function(e){return e.price===Number(j.questionPrice)}));if(!c)return r(!0);u(c),r(!1)}),[j]),void 0!==a&&a?Object(ie.jsx)(Ma,{}):Object(ie.jsx)(Nc,{data:l})}));var Ic=Object(fe.b)(Se)((function(e){var t=Object(i.j)().path;return e.pack&&("notFound"===e.pack?Object(ie.jsx)(Ma,{}):Object(ie.jsxs)("div",{className:At.a.container,children:[Object(ie.jsxs)("div",{className:At.a.toolbar,children:[Object(ie.jsx)(Mt,{}),Object(ie.jsx)(Xt,{})]}),Object(ie.jsxs)(i.d,{children:[Object(ie.jsx)(i.b,{exact:!0,path:t,children:Object(ie.jsx)(Tn,{})}),Object(ie.jsx)(i.b,{path:"".concat(t,"/settings"),children:Object(ie.jsx)(Ta,{})}),Object(ie.jsx)(i.b,{path:"".concat(t,"/rounds/:roundIndex/themes/:themeIndex/questions/:questionPrice"),children:Object(ie.jsx)(Cc,{})}),Object(ie.jsx)(i.b,{path:"".concat(t,"/rounds/:roundIndex"),children:Object(ie.jsx)(oc,{})}),Object(ie.jsx)(i.b,{path:"*",children:Object(ie.jsx)(Ma,{})})]})]}))})),Sc=n(250),Rc=n.n(Sc);var Dc=Object(fe.b)(null)((function(e){var t=Object(i.h)();c.a.useEffect((function(){n(t.pathname.split("/").filter(String))}),[t]);var n=function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pack"!==n[0]){t.next=6;break}return a=n[1],t.next=4,S(a);case 4:c=t.sent,e.dispatch({type:"pack/load",pack:null!==c&&void 0!==c?c:"notFound"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ie.jsx)("div",{className:Rc.a.container,children:e.children})})),Uc=(n(419),Object(vt.a)({palette:{mode:"dark",primary:{main:"#4248fb"}}}));function Bc(){return Object(ie.jsx)(fe.a,{store:me,children:Object(ie.jsx)(gt.a,{theme:Uc,children:Object(ie.jsx)(i.c,{history:Ne,children:Object(ie.jsx)(Ve,{children:Object(ie.jsxs)(Dc,{children:[Object(ie.jsx)(Rt,{}),Object(ie.jsxs)(i.d,{children:[Object(ie.jsx)(i.b,{exact:!0,path:"/",children:Object(ie.jsx)(ft,{})}),Object(ie.jsx)(i.b,{path:"/create",children:Object(ie.jsx)(Tt,{})}),Object(ie.jsx)(i.b,{path:["/pack/:packUUID","/pack/:packUUID/*"],children:Object(ie.jsx)(Ic,{})}),Object(ie.jsx)(i.b,{path:"*",children:Object(ie.jsx)(Ma,{})})]})]})})})})})}s.a.render(Object(ie.jsx)(c.a.StrictMode,{children:Object(ie.jsx)(Bc,{})}),document.getElementById("root"))},50:function(e,t,n){e.exports={toolbar:"styles_toolbar__1W5Un",name:"styles_name__2RB5S",delete:"styles_delete__2ihaf",addTheme:"styles_addTheme__1hwa9",table:"styles_table__3es8F",tableCell:"styles_tableCell__1cve7",buttonBase:"styles_buttonBase__2kQLq",heading:"styles_heading__1IQEt",noItemsYet:"styles_noItemsYet__BxKD2",tableRow:"styles_tableRow__2jH6j"}},61:function(e,t,n){e.exports={rounds:"styles_rounds__1ZZ2U",heading:"styles_heading__-ydFv",cardOfRound:"styles_cardOfRound__2AkoD",item:"styles_item__3E1HY",delete:"styles_delete__24Jnc",link:"styles_link__B9CM5",flex1:"styles_flex1__3-SY4",inputField:"styles_inputField__38y2T",droppable:"styles_droppable__25geG"}},66:function(e,t,n){e.exports={container:"styles_container__OqZ1N",label:"styles_label__VxlIK",preview:"styles_preview__2qqOY",image:"styles_image__29S6D",placeholder:"styles_placeholder__1vE4B",loading:"styles_loading__1wm-5",fileMissing:"styles_fileMissing__3t61m",icon:"styles_icon__345-2",info:"styles_info__1nl83"}},82:function(e){e.exports=JSON.parse('{"b":"","c":"/rounds/\\\\d+","d":"/settings","a":"/rounds/\\\\d+/themes/\\\\d+/questions/\\\\d+"}')},83:function(e,t,n){e.exports={addItem:"styles_addItem__3dCij",addButton:"styles_addButton__3g9mJ",button:"styles_button__3ZegY",expand:"styles_expand__2-jSs",addButtonOuter:"styles_addButtonOuter__1y9QO"}}},[[420,1,2]]]);
//# sourceMappingURL=main.e11cb9e1.chunk.js.map