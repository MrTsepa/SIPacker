(this.webpackJsonpsipacker=this.webpackJsonpsipacker||[]).push([[0],{114:function(e,t,n){e.exports={link:"styles_link__iWnvj",toolbar:"styles_toolbar__viJ4P",container:"styles_container__3KW9G"}},143:function(e,t,n){e.exports={noItems:"styles_noItems__19dBE",handle:"styles_handle__DHO5p"}},151:function(e,t,n){e.exports={toolbar:"styles_toolbar__1dso8",text:"styles_text__16Cv2",hint:"styles_hint__2upGK"}},152:function(e,t,n){e.exports={container:"styles_container__1vfWp",form:"styles_form__LUKmR",info:"styles_info__1RrDx"}},183:function(e,t,n){e.exports={navigation:"styles_navigation__b3eL_",logoContainer:"styles_logoContainer__3hxi2",logo:"styles_logo__Triy9"}},184:function(e,t,n){e.exports={container:"styles_container__2Npq2",field:"styles_field__1Q5KE"}},20:function(e,t,n){e.exports={title:"styles_title__3sESC",link:"styles_link__2prgs",dialog:"styles_dialog__2HYt8",tabs:"styles_tabs__3oGTF",files:"styles_files__gJLVp",filters:"styles_filters__1TEOe",text:"styles_text__3q7xF",checkbox:"styles_checkbox__2-7wb",list:"styles_list__QxZ1P",content:"styles_content__3DAbo",packDivider:"styles_packDivider__1eh-l",grid:"styles_grid__2YaAc",item:"styles_item__3OyXq",disabled:"styles_disabled__2XnpE",itemInner:"styles_itemInner__j4sTM",preview:"styles_preview__2vnda",foreground:"styles_foreground__3OtLE",background:"styles_background__2v4Hw",fileName:"styles_fileName__Y6Kge",button:"styles_button__2BATH",noFilesYet:"styles_noFilesYet__1Hcst",hint:"styles_hint__1anpH",upload:"styles_upload__i5SMD",addForm:"styles_addForm__3SMiC",dropzone:"styles_dropzone__7zJs4",flex:"styles_flex__1oz2f",supportedTypes:"styles_supportedTypes__UNDK8",downloadByURL:"styles_downloadByURL__2kp1o",input:"styles_input__2FHJt",uploadingFiles:"styles_uploadingFiles__3pQjA",uploadingScreen:"styles_uploadingScreen__3l-EZ",uploadingCaption:"styles_uploadingCaption__2Thca",caption:"styles_caption__3MYtC",errors:"styles_errors__3zZJK",delete:"styles_delete__GzwCF"}},234:function(e,t,n){e.exports={slider:"styles_slider__2_T4D"}},24:function(e,t,n){e.exports={packsList:"styles_packsList__3_FVk",hoverUnfocused:"styles_hoverUnfocused__QnvyG",packBase:"styles_packBase__1LyE6",hoverFocused:"styles_hoverFocused__3wnZX",loading:"styles_loading__3SVRQ",pack:"styles_pack__P7r43",info:"styles_info__2vfvj",visibilityDelay:"styles_visibilityDelay__2WqMA",newPack:"styles_newPack__SHDep",skeleton:"styles_skeleton__2LQD-",upload:"styles_upload__nOCvw",thumbnail:"styles_thumbnail__1aU0y",pictureContainer:"styles_pictureContainer__3Ksvb",name:"styles_name__10d11",time:"styles_time___bQuG",backdrop:"styles_backdrop__2CHGI",visible:"styles_visible__zmC7_",alert:"styles_alert__1bU9a",url:"styles_url__3P2Nf"}},245:function(e){e.exports=JSON.parse('[{"signs":["0,89504E470D0A1A0A"],"mime":"image/png"},{"signs":["0,FFD8"],"mime":"image/jpeg"},{"signs":["0,474946383961"],"mime":"image/gif"},{"signs":["0,494433","0,FFFB"],"mime":"audio/mpeg"},{"signs":["0,52494646"],"mime":"audio/x-wav"},{"signs":["0,4F67675300020000000000000000"],"mime":"audio/ogg"},{"signs":["0,000000146674797069736F6D","0,000000186674797033677035","0,0000001C667479704D534E56012900464D534E566D703432","4,6674797033677035","4,667479704D534E56","4,6674797069736F6D"],"mime":"video/mp4"}]')},255:function(e,t,n){e.exports={roundsPage:"styles_roundsPage__2xjXR"}},256:function(e,t,n){e.exports={item:"styles_item__2_EzC"}},258:function(e,t,n){e.exports={centered:"styles_centered__23ouW"}},261:function(e,t,n){e.exports={container:"styles_container__2xIAm"}},300:function(e,t,n){},308:function(e,t){},310:function(e,t){},32:function(e,t,n){e.exports={container:"styles_container__10MD0",hint:"styles_hint__2rDGF",grouped:"styles_grouped__2K5-H",addEvent:"styles_addEvent__3LcHk",item:"styles_item__22gS9",itemType:"styles_itemType__12yvw",spacing:"styles_spacing__AWfQV",details:"styles_details__2X22Q",duration:"styles_duration__1EfuX",time:"styles_time__CfIYV",submit:"styles_submit__39tBr"}},41:function(e,t,n){e.exports={container:"styles_container__3R_IO",list:"styles_list__V6atM",done:"styles_done__T3LaX",marker:"styles_marker__1v4R9",lineBefore:"styles_lineBefore__3FZJa",lineAfter:"styles_lineAfter__2tf62",hidden:"styles_hidden__QZJee",bullet:"styles_bullet__3qHV-",link:"styles_link__3mTg0",caption:"styles_caption__3cP02",line:"styles_line__JJEXr",text:"styles_text__1tFeb",progress:"styles_progress__2qcQG",progressBar:"styles_progressBar__1AayW"}},430:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(51),s=n.n(c),i=(n(300),n(30)),o=n(23),u=n(14),l=n(9),d=n.n(l),j=n(15),b=n(7),p=n(24),f=n.n(p),h=n(8),m=n.n(h),x=n(100),O=n.n(x),v=(m.a.shape({uuid:m.a.string,name:m.a.string,creationTime:m.a.number,date:m.a.string,thumbnail:m.a.string}),"1.0"),g="utf-8",y=4,k=O.a.js2xml({_declaration:{_attributes:{version:v,encoding:g}},Types:{_attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},Default:{_attributes:{Extension:"xml",ContentType:"si/xml"}}}},{compact:!0}),_="\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b",w=n(249),N=n(518),S=n(16),R=n(229),C=function(){var e=new R.a("sipacker");return e.version(1).stores({packs:["uuid"].join(", "),files:["fileURI","type","hash","packUUID","addedAt"].join(", ")}),e};function I(e){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.packs.get(t);case 3:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C(),e.next=3,t.packs.toArray();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.packs.put(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.packs.delete(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(230),A=n.n(q);function L(e){return new Promise((function(t,n){var a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,r=2097152,c=Math.ceil(e.size/r),s=new A.a.ArrayBuffer,i=new FileReader,o=0;i.onload=function(e){s.append(e.target.result),++o<c?u():t(s.end())},i.onerror=function(){return n("Unable to hash file")};var u=function(){var t=o*r,n=t+r>=e.size?e.size:t+r;i.readAsArrayBuffer(a.call(e,t,n))};u()}))}var z=n(104),M=n(231),W=n.n(M),H={image:["image/png","image/jpeg","image/gif"],audio:["audio/mpeg","audio/wav","audio/ogg"],video:["video/mpeg"]},G=[].concat(Object(S.a)(H.image),Object(S.a)(H.audio),Object(S.a)(H.video));function V(e,t){return K.apply(this,arguments)}function K(){return(K=Object(j.a)(d.a.mark((function e(t,n){var a,r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G.includes(t.type)){e.next=2;break}throw"File mime-type is not supported";case 2:if(t.filename){e.next=4;break}throw"Blob instance must have filename propery";case 4:return a=C(),e.next=7,L(t);case 7:return r=e.sent,e.next=10,a.files.where({packUUID:n,hash:r}).toArray();case 10:if(!e.sent.length){e.next=13;break}throw"File with such hash already exist";case 13:c=Object.entries(H).find((function(e){return Object(b.a)(e,2)[1].some((function(e){return e===t.type}))}))[0],s=Object(z.a)(),i={fileURI:s,type:c,blob:t,size:t.size,fileName:t.filename,hash:r,packUUID:n,addedAt:Date.now()},e.t0=c,e.next="image"===e.t0?19:23;break;case 19:return e.next=21,Q(t);case 21:return i.miniature=e.sent,e.abrupt("break",23);case 23:return e.next=25,a.files.put(i);case 25:return e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(j.a)(d.a.mark((function e(t,n,a){var r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C(),e.next=3,r.files.where({packUUID:a,url:t}).toArray();case 3:if(!e.sent.length){e.next=6;break}throw"File with such url already exist";case 6:return c="unknown"===n.type?"unknown":Object.entries(H).find((function(e){return Object(b.a)(e,2)[1].some((function(e){return e===n.type}))}))[0],s=Object(z.a)(),i={fileURI:s,type:c,url:t,size:n.size,fileName:n.name,packUUID:a,addedAt:Date.now()},e.next=11,r.files.put(i);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("img"),a=URL.createObjectURL(t),n.src=a,e.next=5,new Promise((function(e){return n.onload=e}));case 5:return r=n.width,c=n.height,s=Math.min(r,c,100),i=s,o=s,r>c?o=i*c/r:i=o*r/c,(u=document.createElement("canvas")).width=i,u.height=o,W()(u),u.getContext("2d").drawImage(n,0,0,u.width,u.height),e.next=17,new Promise((function(e){return u.toBlob(e)}));case 17:return l=e.sent,URL.revokeObjectURL(a),e.abrupt("return",l);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.files.get(t);case 3:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.files.where({packUUID:t}).primaryKeys();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return ae.apply(this,arguments)}function ae(){return(ae=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C(),e.next=3,t.files.toArray();case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return e.packUUID})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ce.apply(this,arguments)}function ce(){return(ce=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=(t=e.sent).map((function(e){return e.uuid})),e.next=6,ne();case 6:return n=e.sent,e.abrupt("return",n.filter((function(e){return!t.includes(e)})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.files.where("fileURI").equals(t).delete();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(j.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C(),!t.includes("null")){e.next=7;break}return t.splice(t.indexOf("null"),1),e.next=5,re();case 5:a=e.sent,t.push.apply(t,Object(S.a)(a));case 7:return e.next=9,n.files.where("packUUID").anyOf(t).limit(20).offset(0).reverse().sortBy("addedAt");case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return de.apply(this,arguments)}function de(){return(de=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.next=3,n.files.where({packUUID:t}).primaryKeys();case 3:return a=e.sent,e.next=6,n.files.bulkDelete(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=n(4),be=n(40),pe=n(55),fe=n.n(pe),he=n(512),me=n(500),xe=n(507),Oe=n(21),ve=n(76);function ge(e,t){var n=Object(u.a)({},e);return delete n[t],n}function ye(e,t,n){var a=Object(u.a)({},e);return a[t]=n,a}var ke=Object(ve.e)(Object(ve.c)({pack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pack/load":return t.pack;default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dashboard/setUploading":return Object(u.a)(Object(u.a)({},e),{},{uploading:t.uploading});default:return e}},fileRendering:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fileRendering/fileRenderingStarted":return e[t.fileURI]?Object(u.a)({},e):Object(u.a)(Object(u.a)({},e),{},Object(je.a)({},t.fileURI,t.callback));case"fileRendering/fileRenderingStopped":return ge(e,t.fileURI);case"fileRendering/fileUnlinked":if(!Object.keys(e).includes(t.fileURI))return e;var n=e[t.fileURI];return n&&n(),ge(e,t.fileURI);case"fileRendering/setFileUnlinkCallback":return ye(e,t.fileURI,t.callback);default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"menu/setPosition":return Object(u.a)(Object(u.a)({},e),{},{position:t.position});default:return e}}})),_e=n(131),we=n.n(_e),Ne=n(27),Se=n(28),Re=n(20),Ce=n.n(Re),Ie=n(147),Ue=n(77),De=n(529),Fe=n(505),Pe=n(517),Ee=n(510),Be=n(515),Te=n(516),qe=n(538),Ae=n(535),Le=n(509),ze=n(511),Me=n(234),We=n.n(Me),He=n(70),Ge=n.n(He),Ve=n(153),Ke=n(528),Ye=n(525),Je=n(526),Qe=n(524),Xe=n(527),Ze=n(19),$e=n(48),et=n(235),tt=n.n(et),nt=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==Object(b.a)(e,2)[1]})))},at=Object($e.a)(),rt=function(){},ct=function(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",seconds:"numeric"}).format(e)},st=function(e){return{pack:e.pack}},it={simple:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439",auction:"\u0421\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 (\u0410\u0443\u043a\u0446\u0438\u043e\u043d)",cat:"\u0421 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c",bagcat:"\u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",sponsored:"\u0411\u0435\u0437 \u0440\u0438\u0441\u043a\u0430"},ot=function(e,t){var n=null!==t&&void 0!==t?t:{},a=Object.keys(e.fields),r={number:0,string:"",boolean:!1};return a.forEach((function(a){return n[a]=t?t[a]:r[e.fields[a].type]})),n},ut=function(e){return Boolean(e.rounds.length&&e.rounds.every((function(e){return e.themes.every((function(e){return e.questions.length}))})))},lt=function(e){return Boolean(e.rounds.length&&e.rounds.every((function(e){return e.themes.length})))},dt=function(e){return Boolean(e.rounds.reduce((function(e,t){return e+t.themes.reduce((function(e,t){return e+t.questions.length}),0)}),0)>=25)},jt=function(e){return Boolean(e.rounds.some((function(e){return e.themes.some((function(e){return e.questions.some((function(e){return"auction"===e.type}))}))})))},bt=function(e){return Boolean(e.rounds.some((function(e){return e.themes.some((function(e){return e.questions.some((function(e){return"bagcat"===e.type}))}))})))},pt=function(e){return Boolean(e.rounds.length&&e.rounds.every((function(e){return e.themes.every((function(e){return e.questions.every((function(e){var t;return null===(t=e.scenario)||void 0===t?void 0:t.length}))}))})))},ft={B:"\u0411",kB:"\u043a\u0411",MB:"\u041c\u0411",GB:"\u0413\u0411",TB:"\u0422\u0411",PB:"\u041f\u0411",EB:"\u042d\u0411",ZB:"\u0417\u0411",YB:"\u0419\u0411"},ht=function(e){return null===e?"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e":tt()(e,{symbols:ft})};var mt={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",gif:"image/gif",mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/x-wav",mp4:"video/mpeg"},xt=n(498),Ot=n(263),vt=n(496),gt=n(497),yt=n(1),kt=r.a.createContext({});function _t(e){var t,n,a=r.a.useState(),c=Object(b.a)(a,2),i=c[0],o=c[1],u={open:function(t,n){var a;return!!(null===(a=e.menu)||void 0===a?void 0:a.position)||(t.preventDefault(),o(n),e.dispatch({type:"menu/setPosition",position:[t.clientX,t.clientY]}),!1)}},l=function(t){null===t||void 0===t||t.preventDefault(),e.dispatch({type:"menu/setPosition",position:null})};return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(kt.Provider,{value:u,children:e.children}),s.a.createPortal(Object(yt.jsx)(Ot.a,{open:null===(t=e.menu)||void 0===t?void 0:t.position,anchorReference:"anchorPosition",anchorPosition:(null===(n=e.menu)||void 0===n?void 0:n.position)&&{top:e.menu.position[1],left:e.menu.position[0]},onClose:l,children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(yt.jsxs)(Pe.a,{onClick:(n=e.action,function(e){e.stopPropagation(),n(),l()}),children:[Object(yt.jsx)(vt.a,{children:e.icon}),Object(yt.jsx)(gt.a,{children:e.name})]},t);var n}))}),document.body)]})}_t.displayName="ContextMenu";var wt=Object(Oe.b)((function(e){return{menu:e.menu}}))(_t);function Nt(e){var t=r.a.useContext(kt);return Object(yt.jsxs)(xt.a,{className:Ce.a.filters,children:[Object(yt.jsxs)("div",{className:Ce.a.text,children:[Object(yt.jsx)(Ze.l,{}),Object(yt.jsx)(Ve.a,{variant:"overline",color:"text.secondary",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"})]}),e.packs.map((function(n,a){var r,c;return Object(yt.jsx)(Ae.a,{control:Object(yt.jsx)(Le.a,{checked:Boolean(null===(r=e.checkboxes[a])||void 0===r?void 0:r.checked),onChange:function(t){return function(t,n){var a=Object(S.a)(e.checkboxes);a[n]=Object(u.a)(Object(u.a)({},a[n]),{},{checked:t.target.checked}),e.onChange(a)}(t,a)}}),className:Ce.a.checkbox,label:null===n?"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0438":n.name,onContextMenu:(c=null===n?null:n.uuid,function(n){t.open(n,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(yt.jsx)(Ze.d,{}),action:function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==c){t.next=8;break}return t.next=3,re();case 3:return n=t.sent,t.next=6,Promise.all(n.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:return e.sent.forEach((function(e){return ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:e})})),e.next=6,le(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:t.next=14;break;case 8:return t.next=10,ee(c);case 10:return t.sent.forEach((function(e){return ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:e})})),t.next=14,le(c);case 14:e.reloadPacks();case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}])})},a)}))]})}var St=n(522),Rt=n.p+"static/media/unknownFileType.a6b95591.svg";function Ct(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(!1),i=Object(b.a)(s,2),o=i[0],u=i[1],l=r.a.useState(!1),p=Object(b.a)(l,2),f=p[0],h=p[1],m=r.a.useContext(kt);r.a.useEffect((function(){var t=e.file.url;if(!t){var n=URL.createObjectURL(e.file.miniature);return c(n),function(){return URL.revokeObjectURL(n)}}c("unknown"===e.file.type?Rt:t)}),[e.file.miniature]);var x=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.file.fileURI,h(!0),t.next=4,se(n);case 4:ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:n}),h(!1),e.onRemove(),u(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(St.a,{item:!0,xs:4,md:6,sm:12,className:fe()(Ce.a.item,Object(je.a)({},Ce.a.disabled,e.disabled)),onClick:function(){return e.handleSelect(e.file.fileURI)},onContextMenu:function(e){m.open(e,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(yt.jsx)(Ze.d,{}),action:function(){return x()}}])},children:Object(yt.jsxs)("div",{className:Ce.a.itemInner,children:[Object(yt.jsx)(Qe.a,{className:Ce.a.button,size:"small",onClick:function(e){e.stopPropagation(),u(!0)},children:Object(yt.jsx)(Ze.n,{})}),Object(yt.jsxs)("div",{className:Ce.a.preview,children:[Object(yt.jsx)("img",{src:a,className:Ce.a.foreground}),Object(yt.jsx)("img",{src:a,className:Ce.a.background})]}),Object(yt.jsx)("div",{className:Ce.a.fileName,children:e.file.fileName})]})}),Object(yt.jsxs)(Ye.a,{open:o,onClose:function(e){if(f)return!1;e.stopPropagation(),u(!1)},children:[Object(yt.jsxs)(Je.a,{className:Ce.a.title,children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435 ",e.file.filename]}),Object(yt.jsxs)(Xe.a,{children:[Object(yt.jsxs)("p",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430: ",Object(yt.jsx)("b",{children:ht(e.file.size)})]}),Object(yt.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f: ",Object(yt.jsx)("b",{children:ct(new Date(e.file.addedAt))})]}),e.file.url&&Object(yt.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u0439\u043b\u0430:",Object(yt.jsx)("b",{children:Object(yt.jsx)("a",{target:"_blank",href:e.file.url,rel:"noreferrer",className:Ce.a.link,children:e.file.url})})]}),Object(yt.jsx)(Ke.a,{variant:"contained",className:Ce.a.delete,onClick:x,disabled:f,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b"})]})]})]})}function It(e){var t=r.a.useState([]),n=Object(b.a)(t,2),a=n[0],c=n[1];r.a.useEffect((function(){s()}),[e.packs]);var s=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a,r,s,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(Object.keys(e.packs));case 2:n=t.sent,a=[],s=Object(be.a)(n);try{for(s.s();!(i=s.n()).done;)o=i.value,r!==o.packUUID?(r=o.packUUID,a.push({packName:e.packs[r],files:[o]})):a[a.length-1].files.push(o)}catch(u){s.e(u)}finally{s.f()}c(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(yt.jsx)("div",{className:Ce.a.list,children:Object(yt.jsx)("div",{className:Ce.a.content,children:a.length?a.map((function(t,n){return Object(yt.jsxs)("div",{children:[Object(yt.jsx)("div",{className:Ce.a.packDivider,children:t.packName?Object(yt.jsxs)(yt.Fragment,{children:["\u041f\u0430\u043a ",Object(yt.jsx)("b",{children:t.packName})]}):Object(yt.jsx)(yt.Fragment,{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u043a"})}),Object(yt.jsx)(St.a,{container:!0,spacing:2,className:Ce.a.grid,children:t.files.map((function(t,a){return Object(yt.jsx)(Ct,{file:t,handleSelect:e.handleSelect,onRemove:s,disabled:"unknown"!==t.type&&t.type!==e.acceptableType},"".concat(n,"_").concat(a))}))})]},n)})):Object(yt.jsxs)("div",{className:Ce.a.noFilesYet,children:[Object(yt.jsx)(Ve.a,{className:Ce.a.hint,children:"\u0424\u0430\u0439\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),Object(yt.jsx)(Ve.a,{className:Ce.a.hint,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),Object(yt.jsx)(Ve.a,{className:Ce.a.hint,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})})})}var Ut=n(503),Dt=n(551),Ft=n(545),Pt=r.a.forwardRef((function(e,t){var n=r.a.useState(0),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(0),o=Object(b.a)(i,2),u=o[0],l=o[1],p=r.a.useState("uploading"),f=Object(b.a)(p,2),h=f[0],m=f[1];return r.a.useImperativeHandle(t,(function(){return{upload:function(t){return Object(j.a)(d.a.mark((function n(){var a,r,c,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l(t.length),m("uploading"),a=[],r=!1,n.t0=d.a.keys(t);case 5:if((n.t1=n.t0()).done){n.next=22;break}return c=n.t1.value,s(Number(c)+1),(i=t[c]).filename=i.name,n.prev=10,n.next=13,V(i,e.pack.uuid);case 13:n.next=20;break;case 15:n.prev=15,n.t2=n.catch(10),console.error(n.t2),r=!0,e.setErrors(a.concat({filename:i.name,errorMessage:n.t2}));case 20:n.next=5;break;case 22:m("uploaded"),!r&&e.setTab("added");case 24:case"end":return n.stop()}}),n,null,[[10,15]])})))()}}})),Object(yt.jsx)("div",{className:Ce.a.uploadingFiles,style:{display:!e.display&&"none"},children:Object(yt.jsxs)("div",{className:Ce.a.uploadingScreen,children:[Object(yt.jsxs)("div",{className:Ce.a.uploadingCaption,children:["uploading"===h&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Ft.a,{size:20,thickness:10}),Object(yt.jsxs)("span",{className:Ce.a.caption,children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 ",c," \u0438\u0437 ",u]})]}),"uploaded"===h&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Ze.e,{}),Object(yt.jsx)("span",{className:Ce.a.caption,children:e.errors.length<u?"\u0424\u0430\u0439\u043b\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})]})]}),Boolean(e.errors.length)&&Object(yt.jsxs)("div",{className:Ce.a.errors,children:[Object(yt.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432:"}),e.errors.map((function(e,t){return Object(yt.jsxs)("span",{children:["\u0424\u0430\u0439\u043b \xab",e.filename,"\xbb: ",{"File with such hash already exist":"\u0422\u0430\u043a\u043e\u0439 \u0444\u0430\u0439\u043b \u0443\u0436\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0432 \u044d\u0442\u043e\u0442 \u043f\u0430\u043a"}[e.errorMessage]]},t)}))]}),"uploaded"===h&&Object(yt.jsx)(Ke.a,{variant:"contained",onClick:function(){return e.setStage("addForm")},children:"\u041e\u041a"})]})})}));Pt.displayName="UploadingFiles";var Et=Object(Oe.b)(st,null,null,{forwardRef:!0})(Pt),Bt=n(53),Tt=n.n(Bt),qt=n(523),At=n(506),Lt=n(238),zt=n.n(Lt),Mt=function(e){var t;return null!==(t={"image/png":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 PNG","image/jpeg":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 JPEG","image/gif":"\u0410\u043d\u0438\u043c\u0430\u0446\u0438\u044f GIF"}[e])&&void 0!==t?t:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"},Wt=["image/png","image/jpeg"];function Ht(e){var t,n=r.a.useState({blob:null===(t=e.files)||void 0===t?void 0:t[0],index:0}),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(),o=Object(b.a)(i,2),u=o[0],l=o[1],p=r.a.useState(),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState(),O=Object(b.a)(x,2),v=O[0],g=O[1];r.a.useEffect((function(){g(e.files),y()}),[e.files]);var y=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a,r,c,s,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null!==u&&void 0!==u?u:new WeakMap,a=[],r=null!==h&&void 0!==h?h:new WeakMap,c=[],s=Object(be.a)(e.files),t.prev=5,o=d.a.mark((function e(){var t,s,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.value,Wt.includes(t.type)){e.next=3;break}return e.abrupt("return","continue");case 3:return s=URL.createObjectURL(t),n.set(t,{size:t.size,src:s,blob:t}),a.push(s),e.next=8,new Promise((function(e){return new zt.a(t,{quality:.7,success:e})}));case 8:o=e.sent,u=URL.createObjectURL(o),r.set(t,{size:o.size,src:u,blob:o}),c.push(u);case 12:case"end":return e.stop()}}),e)})),s.s();case 8:if((i=s.n()).done){t.next=15;break}return t.delegateYield(o(),"t0",10);case 10:if("continue"!==t.t0){t.next=13;break}return t.abrupt("continue",13);case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),s.e(t.t1);case 20:return t.prev=20,s.f(),t.finish(20);case 23:return l(n),m(r),t.abrupt("return",(function(){var e,t;return null===a||void 0===a||null===(e=a.concat.apply(a,c))||void 0===e||null===(t=e.forEach)||void 0===t?void 0:t.call(e,URL.revokeObjectURL)}));case 26:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(){return t.apply(this,arguments)}}();return Object(yt.jsxs)("div",{className:Tt.a.preview,children:[Object(yt.jsxs)("div",{className:Tt.a.list,children:[Object(yt.jsx)("div",{className:Tt.a.scrollable,children:e.files.map((function(e,t){return Object(yt.jsx)("div",{className:fe()(Tt.a.treeFile,Object(je.a)({},Tt.a.selected,c.blob===e)),title:e.name,onClick:function(){return s({blob:e,index:t})},children:e.name},t)}))}),Object(yt.jsxs)("div",{className:Tt.a.actions,children:[Object(yt.jsx)(Ke.a,{onClick:function(){return e.onContinue(v)},color:"primary",variant:"contained",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),Object(yt.jsx)(Ke.a,{onClick:e.onCancel,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}),Object(yt.jsxs)("div",{className:Tt.a.file,children:[Object(yt.jsx)("h2",{children:c.blob.name}),Object(yt.jsx)("h4",{children:Mt(c.blob.type)}),Wt.includes(c.blob.type)?u&&h&&Object(yt.jsx)(Gt,{originals:u,compresses:h,selectedFile:c,setFile:function(e,t){v[e]=t,g(v)}}):Object(yt.jsx)(Kt,{file:c})]})]})}function Gt(e){var t,n,a=r.a.useState("original"),c=Object(b.a)(a,2),s=c[0],i=c[1],o=null===(t=e.originals)||void 0===t?void 0:t.get(e.selectedFile.blob),u=null===(n=e.compresses)||void 0===n?void 0:n.get(e.selectedFile.blob),l=100-u.size/o.size*100,d=function(t,n){"original"===n?e.setFile(e.selectedFile.index,o.blob):"compressed"===n&&e.setFile(e.selectedFile.index,u.blob),i(n)};return Object(yt.jsxs)("div",{className:Tt.a.choose,children:[Object(yt.jsxs)("div",{className:Tt.a.versionsPreview,children:[Object(yt.jsx)("div",{onClick:function(){return d(0,"original")},children:Object(yt.jsx)("img",{src:o.src,alt:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b"})}),Object(yt.jsx)("div",{onClick:function(){return 0!==l&&d(0,"compressed")},children:Object(yt.jsx)("img",{src:u.src,alt:"\u0421\u0436\u0430\u0442\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f"})})]}),Object(yt.jsxs)(qt.a,{value:s,onChange:d,name:"version-chooser",row:!0,className:Tt.a.row,children:[Object(yt.jsx)(Ae.a,{value:"original",control:Object(yt.jsx)(At.a,{}),label:Object(yt.jsx)(Vt,{label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b",sublabel:ht(o.size)})}),Object(yt.jsx)(Ae.a,{value:"compressed",disabled:0===l,control:Object(yt.jsx)(At.a,{}),label:Object(yt.jsx)(Vt,{label:"\u0421\u0436\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",sublabel:"".concat(ht(u.size)," (-").concat(l.toFixed(2),"%)")})})]})]})}function Vt(e){return Object(yt.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(yt.jsx)("span",{children:e.label}),Object(yt.jsx)("span",{style:{color:"#a0a0a0"},children:e.sublabel})]})}function Kt(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1];return r.a.useEffect((function(){var t=URL.createObjectURL(e.file.blob);return c(t),function(){return URL.revokeObjectURL(t)}}),[e.file]),Object(yt.jsxs)("div",{className:Tt.a.fileInfo,children:[["image/png","image/jpeg","image/gif"].includes(e.file.blob.type)&&Object(yt.jsx)("img",{src:a}),Object(yt.jsxs)("div",{className:Tt.a.info,children:[Object(yt.jsxs)("span",{children:["\u0420\u0430\u0437\u043c\u0435\u0440: ",ht(e.file.blob.size)]}),Object(yt.jsxs)("span",{className:Tt.a.hint,children:[Object(yt.jsx)(Ze.n,{})," \u0421\u0436\u0430\u0442\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u044d\u0442\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u0436\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0436\u0430\u0442\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e."]})]})]})}function Yt(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState([]),i=Object(b.a)(s,2),o=i[0],u=i[1],l=r.a.useState("AddForm"),d=Object(b.a)(l,2),j=d[0],p=d[1],f=r.a.useRef();r.a.useEffect((function(){return p("addForm")}),[]);return Object(yt.jsxs)("div",{className:Ce.a.upload,children:["addForm"===j&&Object(yt.jsx)(Sn,{setFiles:c,setTab:e.setTab,setErrors:u,packUUID:e.packUUID,setStage:p}),"preview"===j&&Object(yt.jsx)(Ht,{onContinue:function(e){p("uploading"),f.current.upload(e)},onCancel:function(){return p("addForm")},files:a}),Object(yt.jsx)(Et,{ref:f,display:"uploading"===j,errors:o,setErrors:u,setStage:p,setTab:e.setTab})]})}var Jt=r.a.forwardRef((function(e,t){var n=r.a.useState("added"),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],p=r.a.useState((function(){return rt})),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState([]),O=Object(b.a)(x,2),v=O[0],g=O[1],y=r.a.useState([]),k=Object(b.a)(y,2),_=k[0],w=k[1],N=r.a.useState([]),S=Object(b.a)(N,2),R=S[0],C=S[1],I=r.a.useState(),U=Object(b.a)(I,2),F=U[0],P=U[1],E=function(){l(!1),m((function(){return rt}))};r.a.useImperativeHandle(t,(function(){return{open:function(e,t,n){return Object(j.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m((function(){return n})),a.next=3,B();case 3:l(!0),w(e),P(t);case 6:case"end":return a.stop()}}),a)})))()}}}));var B=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,e.next=5,re();case 5:e.sent.length&&t.push(null),g(t),C(t.map((function(e){var t,n=null===e,a=n?null:e.uuid,r=null===(t=R.find((function(e){return e.uuid===a})))||void 0===t?void 0:t.checked;return{uuid:a,checked:void 0!==r?Boolean(r):!n}})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=Object.fromEntries(R.filter((function(e){return e.checked})).map((function(e){var t;return[e.uuid,null===e.uuid?"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0438":null===(t=v.find((function(t){return t.uuid===e.uuid})))||void 0===t?void 0:t.name]})));return Object(yt.jsxs)(Ye.a,{open:u,onClose:E,children:[Object(yt.jsxs)(Je.a,{className:Ce.a.title,children:[Object(yt.jsx)("span",{children:"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0444\u0430\u0439\u043b\u043e\u0432"}),Object(yt.jsx)(Qe.a,{onClick:E,className:Ce.a.close,sx:{color:function(e){return e.palette.grey[500]}},children:Object(yt.jsx)(Ze.c,{})})]}),Object(yt.jsxs)(Xe.a,{className:Ce.a.dialog,children:[Object(yt.jsxs)(Ut.a,{value:c,variant:"fullWidth",onChange:function(e,t){return s(t)},textColor:"inherit",className:Ce.a.tabs,children:[Object(yt.jsx)(Dt.a,{label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435",value:"added"}),Object(yt.jsx)(Dt.a,{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",value:"upload"})]}),"added"===c&&Object(yt.jsxs)("div",{className:Ce.a.files,children:[Object(yt.jsx)(Nt,{packs:v,checkboxes:R,onChange:C,reloadPacks:B}),Object(yt.jsx)(It,{packs:T,handleSelect:function(e){E(),setTimeout((function(){return h(e)}),1)},acceptableType:F})]}),"upload"===c&&Object(yt.jsx)(Yt,{packUUID:_,setTab:s})]})]})}));Jt.displayName="FileStorage";var Qt=Jt;function Xt(e){var t=e.onClick;return Object(yt.jsx)("div",{className:Ge.a.placeholder,onClick:t,children:Object(yt.jsx)("span",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c"})})}function Zt(e){var t=e.onClick;return Object(yt.jsx)("div",{className:Ge.a.fileMissing,onClick:t,children:Object(yt.jsx)(Ze.h,{className:Ge.a.icon})})}function $t(){return Object(yt.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u0432\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0435\u0433\u043e, \u043d\u043e \u0437\u0430\u0442\u0435\u043c \u0443\u0434\u0430\u043b\u0438\u043b\u0438 \u0438\u0437 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0444\u0430\u0439\u043b\u043e\u0432."})}function en(e){var t=e.src;return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsxs)("span",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430: ",t.name]}),Object(yt.jsxs)("span",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430: ",ht(t.size)]})]})}function tn(){return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),Object(yt.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0444\u0430\u0439\u043b, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043b\u0435\u0432\u0435\u0435."})]})}function nn(){return Object(yt.jsx)("div",{className:Ge.a.loading,children:Object(yt.jsx)(Ft.a,{})})}function an(e){var t=e.src,n=e.srcUrl,a=e.onClick,r=e.label;return Object(yt.jsx)("img",{src:n,alt:n?"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044f ".concat(r," \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \xab").concat(t.name,"\xbb"):"",onClick:a,className:Ge.a.image})}var rn=Object(Oe.b)((function(e){return{pack:e.pack,fileRendering:e.fileRendering}}))((function(e){var t=r.a.useState({}),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(null),i=Object(b.a)(s,2),o=i[0],u=i[1],l=r.a.useState(!1),p=Object(b.a)(l,2),f=p[0],h=p[1],m=r.a.useRef();r.a.useEffect((function(){a.fileURI&&e.dispatch({type:"fileRendering/setFileUnlinkCallback",fileURI:a.fileURI,callback:function(){return h(!0)}})}),[h]),r.a.useEffect((function(){var t=e.value,n=function(){};return u(),t?Object(j.a)(d.a.mark((function a(){var r,s,i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z(t);case 2:if(r=a.sent){a.next=5;break}return a.abrupt("return",h(!0));case 5:h(!1),s=r.miniature,i=r.fileName,o=r.size,c({name:i,size:o}),r.url?u("unknown"===r.type?Rt:r.url):(l=URL.createObjectURL(s),u(l)),e.dispatch({type:"fileRendering/fileRenderingStarted",fileURI:r.fileURI,callback:function(){return h(!0)}}),n=function(){var e;(null===(e=l)||void 0===e?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(l),ke.dispatch({type:"fileRendering/fileRenderingStopped",fileURI:r.fileURI})};case 13:case"end":return a.stop()}}),a)})))():(c({}),u(null)),function(){return n()}}),[e.value]);var x=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return m.current.open(e.pack.uuid,"image",t)}));case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:e.onChange(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(yt.jsxs)("div",{className:Ge.a.container,children:[Object(yt.jsxs)(Ve.a,{variant:"body",color:"text.primary",gutterBottom:!0,className:Ge.a.label,children:[e.label,":"]}),Object(yt.jsxs)("div",{className:Ge.a.preview,children:[null===o?Object(yt.jsx)(Xt,{onClick:x}):f?Object(yt.jsx)(Zt,{onClick:x}):void 0!==o?Object(yt.jsx)(an,{src:a,srcUrl:o,label:e.label,onClick:x}):Object(yt.jsx)(nn,{}),Object(yt.jsxs)("div",{className:Ge.a.info,children:[f?Object(yt.jsx)($t,{}):void 0!==a.size?Object(yt.jsx)(en,{src:a}):Object(yt.jsx)(tn,{}),Object(yt.jsx)(Ke.a,{variant:"contained",onClick:function(){h(!1),e.onChange(void 0)},disabled:!o&&!f,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u0435"})]})]}),Object(yt.jsx)(Qt,{ref:m})]})})),cn=["name","formik"],sn=["formik","name"],on=["formik","name","options"],un=["formik","name"],ln=["formik","name"],dn=["formik","name"],jn=function(e,t){return{error:Boolean(e.errors[t]),helperText:e.errors[t]}};function bn(e){var t=e.name,n=e.formik,a=Object(Ue.a)(e,cn);return Object(yt.jsx)(De.a,Object(u.a)(Object(u.a)({name:t,value:n.values[t],onChange:function(e){n.handleChange(e),n.setTouched(Object(u.a)(Object(u.a)({},n.touched),{},Object(je.a)({},t,!0)))}},jn(n,t)),a))}function pn(e){var t,n,a=e.formik,r=e.name,c=Object(Ue.a)(e,sn),s=null!==(t=a.values[r])&&void 0!==t?t:[];1===s.length&&""===s[0]&&(s=[]);var i=function(e){"Enter"===e.key&&e.preventDefault()};return Object(yt.jsx)(Fe.a,Object(u.a)(Object(u.a)({},c),{},{multiple:!0,options:null!==(n=e.options)&&void 0!==n?n:[],value:s,getOptionLabel:function(e){return e},freeSolo:!0,clearOnBlur:!0,onChange:function(e,t){a.setFieldValue(r,t),a.setTouched(Object(u.a)(Object(u.a)({},a.touched),{},Object(je.a)({},r,!0)))},renderInput:function(e){return Object(yt.jsx)(De.a,Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},c),e),jn(a,r)),{},{placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 Enter, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onKeyDown:i}))}}))}function fn(e){var t=e.formik,n=e.name,a=e.options,r=Object(Ue.a)(e,on),c={error:Boolean(t.errors[n])};return Object(yt.jsxs)(Be.a,{fullWidth:!0,children:[Object(yt.jsx)(Te.a,Object(u.a)(Object(u.a)({},c),{},{children:e.label})),Object(yt.jsx)(Ee.a,Object(u.a)(Object(u.a)(Object(u.a)({},r),{},{name:n,value:t.values[n],onChange:function(e){t.handleChange(e),t.setTouched(Object(u.a)(Object(u.a)({},t.touched),{},Object(je.a)({},n,!0)))}},c),{},{children:Object.entries(a).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(yt.jsx)(Pe.a,{value:n,children:a},n)}))})),Object(yt.jsx)(qe.a,{error:!0,children:t.errors[n]&&t.errors[n]})]})}function hn(e){var t=e.formik,n=e.name,a=Object(Ue.a)(e,un);return Object(yt.jsx)(Ae.a,Object(u.a)({control:Object(yt.jsx)(Le.a,{name:n,checked:t.values[n],onChange:function(e){t.handleChange(e),t.setTouched(Object(u.a)(Object(u.a)({},t.touched),{},Object(je.a)({},n,!0)))}})},a))}function mn(e){var t=e.formik,n=e.name,a=Object(Ue.a)(e,ln),c=r.a.useState(t.values[n]),s=Object(b.a)(c,2),i=s[0],o=s[1];return r.a.useEffect((function(){return t.setFieldValue(n,i)}),[i]),Object(yt.jsxs)("div",{className:We.a.slider,children:[Object(yt.jsx)("span",{children:a.label}),Object(yt.jsx)(ze.a,Object(u.a)({name:n,value:i,onChange:function(e){return requestAnimationFrame((function(){return function(e){o(e),t.setTouched(Object(u.a)(Object(u.a)({},t.touched),{},Object(je.a)({},n,!0)))}(e.target.value)}))},valueLabelDisplay:"auto",marks:!0},a))]})}function xn(e){var t=e.formik,n=e.name,a=Object(Ue.a)(e,dn);return Object(yt.jsx)(rn,Object(u.a)(Object(u.a)({},a),{},{value:t.values[n],onChange:function(e){t.setFieldValue(n,null!==e&&void 0!==e?e:"");var a=Object(u.a)({},t.touched);if(void 0!==e||t.initialValues[n]!==(null!==e&&void 0!==e?e:""))a=Object(u.a)(Object(u.a)({},t.touched),{},Object(je.a)({},n,!0));else{var r=Object(u.a)({},t.touched);delete r[n],a=r}t.setTouched(a)}}))}var On=n(101),vn=n(31),gn=n(552),yn=n(244),kn=n.n(yn),_n=function(e){return e.split("/").splice(-1)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"};function wn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,u,l,j,b,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{"X-SIPacker-External-Media":"True"}});case 3:u=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),"Couldn't get the image";case 9:if(200===(null===(n=u)||void 0===n?void 0:n.status)){e.next=11;break}throw"Couldn't get the image";case 11:if(l={},j=null===(a=u)||void 0===a||null===(r=a.headers)||void 0===r||null===(c=r.get)||void 0===c?void 0:c.call(r,"content-type"),b=kn.a.parse(j).type,l.type=b,G.includes(l.type)){e.next=17;break}throw"File mime-type is not supported";case 17:return e.next=19,u.blob();case 19:return p=e.sent,l.size=p.size,l.name=p.name||(null===(s=u)||void 0===s||null===(i=s.headers)||void 0===i||null===(o=i.get)||void 0===o?void 0:o.call(i,"content-disposition"))||_n(t),e.abrupt("return",l);case 23:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Sn=function(e){var t;r.a.useEffect((function(){var t=function(t){var n,a=(t.clipboardData||t.originalEvent.clipboardData).items,r=[],c=Object(be.a)(a);try{for(c.s();!(n=c.n()).done;){var s=n.value;if("file"===s.kind){var i=s.getAsFile();r.push(i)}}}catch(o){c.e(o)}finally{c.f()}r.length&&(e.setFiles(r),e.setStage("preview"))};return document.addEventListener("paste",t),function(){return document.removeEventListener("paste",t)}}),[]);var n=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setFiles(n),e.setStage("preview");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url.startsWith("!")?t.url.substring(1):t.url,e.prev=1,e.next=4,vn.e().url("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441").validate(n);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{url:e.t0.errors});case 9:if(n.startsWith("http")){e.next=11;break}return e.abrupt("return",{url:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0445\u0435\u043c\u0430 https"});case 11:if(!n.startsWith("http://")){e.next=15;break}t.file={type:"unknown",size:null,name:_n(n)},e.next=30;break;case 15:return e.prev=15,e.next=18,wn(n);case 18:a=e.sent,t.file=a,e.next=30;break;case 22:e.prev=22,e.t1=e.catch(15),e.t2=e.t1,e.next="Couldn't get the image"===e.t2?27:"File mime-type is not supported"===e.t2?28:29;break;case 27:return e.abrupt("return",{url:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"});case 28:return e.abrupt("return",{url:"\u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430"});case 29:return e.abrupt("return",{url:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"});case 30:case"end":return e.stop()}}),e,null,[[1,6],[15,22]])})));return function(t){return e.apply(this,arguments)}}(),c=Object(On.a)({initialValues:{url:""},validate:a,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.prev=1,r=n.url.startsWith("!")?n.url.substring(1):n.url,t.next=5,Y(r,n.file,e.packUUID);case 5:t.next=13;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0),a=!0,e.setErrors([{filename:n.file.name,errorMessage:t.t0}]),e.setStage("addForm");case 13:!a&&e.setTab("added");case 14:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}),s=null===(t=c.values.url)||void 0===t?void 0:t.startsWith("http:");return Object(yt.jsxs)("div",{className:Ce.a.addForm,children:[Object(yt.jsx)(Ie.a,{onDropAccepted:n,accept:G,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(yt.jsxs)("div",Object(u.a)(Object(u.a)({className:Ce.a.dropzone},t()),{},{children:[Object(yt.jsx)("input",Object(u.a)({},n())),Object(yt.jsxs)("span",{className:Ce.a.flex,children:[Object(yt.jsx)(Ze.k,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435, \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b\u044b"]}),Object(yt.jsxs)("span",{className:Ce.a.supportedTypes,children:[Object(yt.jsx)("span",{children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u0442\u0438\u043f\u044b \u0444\u0430\u0439\u043b\u043e\u0432:"}),Object(yt.jsx)("span",{children:"\u0424\u043e\u0442\u043e: png, jpeg, gif"}),Object(yt.jsx)("span",{children:"\u0410\u0443\u0434\u0438\u043e: mp3, wav, ogg"}),Object(yt.jsx)("span",{children:"\u0412\u0438\u0434\u0435\u043e: mp4"})]})]}))}}),Object(yt.jsxs)("form",{onSubmit:c.handleSubmit,className:Ce.a.downloadByURL,children:[Object(yt.jsx)("span",{className:Ce.a.hint,children:"\u0418\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e URL:"}),Object(yt.jsx)(bn,{name:"url",formik:c,label:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u0439\u043b\u0430",placeholder:"https://example.com/image.png",size:"small",className:Ce.a.input}),Object(yt.jsx)(gn.a,{title:s?Object(yt.jsxs)("p",{children:["\u0412 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0435\u0434\u0438\u0430-\u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0443 https. \u041e\u0434\u043d\u0430\u043a\u043e, \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f SIGame \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 https, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c http \u0441\u0441\u044b\u043b\u043a\u0443 \u0432 SIPacker, \u0434\u043e\u043f\u0438\u0441\u0430\u0432 ! \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430, \u043d\u043e \u0432 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0447\u0435\u0440\u0435\u0437 \u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0444\u0430\u0439\u043b\u043e\u0432. \u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u0441\u0435 \u0440\u0430\u0432\u043d\u043e \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0433\u043e \u0430\u0434\u0440\u0435\u0441 \u0432\u043e\u0442 \u0442\u0430\u043a: ",Object(yt.jsxs)("pre",{children:["!",c.values.url]})]}):"",children:Object(yt.jsx)("span",{children:Object(yt.jsx)(Ke.a,{type:"submit",disabled:s,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})})]})]})},Rn=n(245),Cn=function(){function e(t,n){Object(Ne.a)(this,e),this.zip=t,this.packUUID=n,this.resolvedFiles={},this.folders={},this.warnings=[]}return Object(Se.a)(e,[{key:"getDir",value:function(e){return this.folders[e]||(this.folders[e]=this.zip.folder(e)),this.folders[e]}},{key:"resolve",value:function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z(t);case 4:if(a=e.sent){e.next=7;break}throw"\u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 ".concat(n);case 7:if(!a.url){e.next=10;break}return a.url.startsWith("https://")&&this.warnings.push("\u0424\u0430\u0439\u043b \xab".concat(a.fileName,"\xbb \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ").concat(a.url," \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 SIGame \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u0439, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0438\u0433\u0440\u0430 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b https. \u041f\u043e\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u043d\u0430 http \u0438\u043b\u0438 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u0443\u0439\u0442\u0435 \u0437\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 https \u0432 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 SIGame \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. \u0412 \u0432\u0435\u0431-\u0432\u0435\u0440\u0441\u0438\u0438 SIGame \u0444\u0430\u0439\u043b\u044b \u0441 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u043e\u043c https \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e.")),e.abrupt("return",a.url);case 10:if(!this.resolvedFiles[t]){e.next=12;break}return e.abrupt("return",this.resolvedFiles[t]);case 12:switch(a.blob.size>1048576&&this.warnings.push("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \xab".concat(a.fileName,"\xbb \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 1 \u041c\u0411")),a.type){case"image":for(r=Object(z.a)();Object.values(this.resolvedFiles).includes(r);)r=Object(z.a)();this.resolvedFiles[t]=r,s=this.getDir("Images"),c=Object.keys(Object.values(mt).indexOf(a.blob.type)),s.file("".concat(r,".").concat(c),a.blob)}return e.abrupt("return","@".concat(r,".").concat(c));case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!t.startsWith("@")){e.next=29;break}return t=t.substring(1),a=this.zip.folder("Images"),r=this.zip.folder("Audio"),c=this.zip.folder("Video"),s=function(){for(var e=0,n=[a,r,c];e<n.length;e++){var s,i=n[e],o=null!==(s=null===i||void 0===i?void 0:i.file(t))&&void 0!==s?s:null===i||void 0===i?void 0:i.file(encodeURIComponent(t));if(o)return o}},e.next=10,s();case 10:if(n=e.sent){e.next=15;break}throw{error:"File not found",file:t};case 15:return e.next=17,n.async("blob");case 17:n=e.sent;case 18:return e.next=20,In(n,t.split(".").splice(-1));case 20:return i=e.sent,(n=new Blob([n],{type:i})).filename=t,e.next=25,V(n,this.packUUID);case 25:return o=e.sent,e.abrupt("return",o);case 29:if(e.prev=29,u=wn(t)){e.next=33;break}throw{error:"URL error",file:t};case 33:return e.next=35,Y(t,u,this.packUUID);case 35:return l=e.sent,e.abrupt("return",l);case 39:throw e.prev=39,e.t0=e.catch(29),{error:e.t0};case 42:case"end":return e.stop()}}),e,this,[[29,39]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function In(e,t){return Un.apply(this,arguments)}function Un(){return(Un=Object(j.a)(d.a.mark((function e(t,n){var a,r,c,s,i,o,u,l,j,p,f,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(be.a)(Rn),e.prev=1,a.s();case 3:if((r=a.n()).done){e.next=29;break}c=r.value,s=c.signs,i=c.mime,o=Object(be.a)(s),e.prev=6,o.s();case 8:if((u=o.n()).done){e.next=19;break}return l=u.value,j=l.split(","),p=Object(b.a)(j,2),f=p[0],h=p[1],f=Number(f),e.next=14,Dn(t,f,h.length/2);case 14:if(e.sent!==h){e.next=17;break}return e.abrupt("return",i);case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),o.e(e.t0);case 24:return e.prev=24,o.f(),e.finish(24);case 27:e.next=3;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(1),a.e(e.t1);case 34:return e.prev=34,a.f(),e.finish(34);case 37:return e.abrupt("return",mt[n]);case 38:case"end":return e.stop()}}),e,null,[[1,31,34,37],[6,21,24,27]])})))).apply(this,arguments)}function Dn(e,t,n){return new Promise((function(a){var r=new FileReader;r.onloadend=function(e){if(e.target.readyState===FileReader.DONE){var t=new Uint8Array(e.target.result),n=[];t.forEach((function(e){n.push(e.toString(16))})),a(n.join("").toUpperCase())}},r.readAsArrayBuffer(e.slice(t,t+n))}))}function Fn(e){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,u,l,p,f,h,m,x,v,g,y,k,_,w,N,S,R;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.loadAsync(t);case 3:if(n=e.sent,a=n.files["content.xml"]){e.next=7;break}return e.abrupt("return",{error:"noContentXML"});case 7:return e.next=9,a.async("string");case 9:return r=e.sent,c=O.a.xml2js(r),i=function(e){return(null===e||void 0===e?void 0:e.elements)?e.elements.map((function(e){return e.elements[0].text})):[]},o=(s=function(e,t){var n=e.elements.filter((function(e){return e.name===t}));return n&&n[0]})(c,"package"),u=o.attributes,l=u.id,p=u.name,f=u.version,h=u.difficulty,m=u.restriction,x=u.date,v=u.publisher,g=u.logo,y=u.language,e.next=17,I(l);case 17:if(e.t0=e.sent,null===e.t0){e.next=20;break}return e.abrupt("return",{error:"packExist"});case 20:return k=new Cn(n,l),_=s(o,"info"),e.next=24,Promise.all(s(o,"rounds").elements.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.attributes.name,e.next=3,Promise.all(s(t,"themes").elements.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.attributes.name,e.next=3,Promise.all(s(t,"questions").elements.map(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,o,u,l,p,f,h,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null!==(n=null===(a=s(t,"type"))||void 0===a?void 0:a.attributes.name)&&void 0!==n?n:"simple",c=function(e){var n,a,r,c=s(t,"type"),i=null===c||void 0===c||null===(n=c.elements)||void 0===n?void 0:n.find((function(t){return t.attributes.name===e}));return null===i||void 0===i||null===(a=i.elements)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.text},o=["bagcat","cat"].includes(r)&&(isNaN(c("cost"))?"byPlayer":Number(c("cost"))>0?"fixed":"minMax"),f=!1,"bagcat"===r&&"byPlayer"===o&&(f=!0,h=c("cost").match(/^[\\d+;\\d+]\/\\d*$/),m=Object(b.a)(h,4),u=m[1],p=m[2],l=m[3]),e.t0=i(s(t,"right")),e.t1="bagcat"===r?c("knows"):void 0,e.t2=i(s(t,"wrong")),e.t3=Number(t.attributes.price),e.t4="cat"===r||"bagcat"===r&&"fixed"===o?Number(c("cost"))||100:void 0,e.t5=f?Number(u)||0:void 0,e.t6=f?Number(l)||0:void 0,e.t7=f?Number(p)||0:void 0,e.t8=["bagcat","cat"].includes(r)?c("theme"):void 0,e.next=16,Promise.all(s(t,"scenario").elements.map(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(n=null===(a=t.attributes)||void 0===a?void 0:a.type)&&void 0!==n?n:"text",e.t0=c,e.t1=Number(null===(r=t.attributes)||void 0===r?void 0:r.time)||3,e.next=5,Object(j.a)(d.a.mark((function e(){var n,a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c,s=null===(n=t.elements)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.text,e.t0=r,e.next="text"===e.t0?5:"say"===e.t0?6:"image"===e.t0?7:11;break;case 5:return e.abrupt("return",{text:s});case 6:return e.abrupt("return",{say:s});case 7:return e.next=9,k.connect(s);case 9:return e.t1=e.sent,e.abrupt("return",{imageField:e.t1});case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})))();case 5:return e.t2=e.sent,e.abrupt("return",{type:e.t0,duration:e.t1,data:e.t2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:return e.t9=e.sent,e.t10="bagcat"===r?c("self"):void 0,e.t11=r,e.abrupt("return",{correctAnswers:e.t0,detailsDisclosure:e.t1,incorrectAnswers:e.t2,price:e.t3,realprice:e.t4,realpriceFrom:e.t5,realpriceStep:e.t6,realpriceTo:e.t7,realtheme:e.t8,scenario:e.t9,transferToSelf:e.t10,type:e.t11});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,questions:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,themes:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 24:return w=e.sent,N=i(s(_,"authors")),S=i(s(o,"tags")),e.t1=nt,e.t2=l,e.t3=p,e.t4=Number(f),e.t5=Number(h),e.t6=Date.now(),e.t7="18+"===m,e.t8=x,e.t9=N,e.t10=v,e.t11=S,e.next=40,k.connect(g);case 40:return e.t12=e.sent,e.t13=y||"",e.t14=w,e.t15={uuid:e.t2,name:e.t3,version:e.t4,difficulty:e.t5,creationTime:e.t6,over18:e.t7,date:e.t8,authors:e.t9,publisher:e.t10,tags:e.t11,logo:e.t12,language:e.t13,rounds:e.t14},R=(0,e.t1)(e.t15),e.next=47,P(R);case 47:return e.abrupt("return",!0);case 50:return e.prev=50,e.t16=e.catch(0),console.error(e.t16),e.abrupt("return",e.t16.error?e.t16:{error:e.t16});case 54:case"end":return e.stop()}}),e,null,[[0,50]])})))).apply(this,arguments)}var En=n(54),Bn=n.n(En),Tn="\ufeff",qn="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0430\u043a\u0430",An="\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0430\u043a\u0430",Ln="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0440\u0430\u0443\u043d\u0434",zn="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0442\u0435\u043c\u0443 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",Mn="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0432\u043e\u043f\u0440\u043e\u0441 \u0432 \u043a\u0430\u0436\u0434\u043e\u0439 \u0442\u0435\u043c\u0435 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",Wn="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0442\u0435\u043c\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0440\u0430\u0443\u043d\u0434\u0430";function Hn(e){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.authors||n.push(qn),t.language||n.push(An),t.rounds.length?lt(t)?ut(t)?pt(t)||n.push(Wn):n.push(Mn):n.push(zn):n.push(Ln),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t){return"simple"!==e.type?[{type:"element",name:"type",attributes:{name:e.type},elements:Kn(e,t)}]:[]}function Kn(e,t){var n={theme:"realtheme",cost:"realprice",self:"transferToSelf",knows:"detailsDisclosure"};return{cat:["theme","cost"],auction:[],bagcat:["theme","cost","self","knows"],sponsored:[]}[e.type].map((function(a){var r=e[n[a]];if("cost"===a&&"bagcat"===e.type)switch(e.questionPriceType){case"minMax":r=0;break;case"byPlayer":r="[".concat(e.realpriceFrom,";").concat(e.realpriceTo,"]/").concat(e.realpriceStep)}return"theme"===a&&(r=Bn()(r)),"theme"===a&&void 0===r&&(r=Bn()(t)),"self"===a&&(r=String(Boolean(r))),{type:"element",name:"param",attributes:{name:a},elements:[{type:"text",text:r}]}}))}function Yn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new we.a,(a=n.folder("Texts")).file("authors.xml",'\ufeff<?xml version="1.0" encoding="utf-8"?><Authors />'),a.file("sources.xml",'\ufeff<?xml version="1.0" encoding="utf-8"?><Sources />'),n.file("[Content_Types].xml",Tn+k),r=new Cn(n),e.t0={attributes:{version:v,encoding:g}},e.t1={type:"comment",comment:"This package was generated using SIPacker \u2014 free open-source online tool for generating SIGame packs. Feel free to leave feedback on https://github.com/VityaSchel/SIPacker"},e.t2=t.uuid,e.t3=Bn()(t.name),e.t4=t.version,e.t5=t.over18?"18+":void 0,e.t6=t.date,e.t7=Bn()(t.publisher),e.t8=t.difficulty,e.next=17,r.resolve(t.logo,"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0430\u043a\u0430");case 17:return e.t9=e.sent,e.t10=t.language,e.t11={xmlns:"http://vladimirkhil.com/ygpackage3.0.xsd",id:e.t2,name:e.t3,version:e.t4,restriction:e.t5,date:e.t6,publisher:e.t7,difficulty:e.t8,logo:e.t9,language:e.t10,generator:"sipacker"},e.t12=[],e.t13=Object(S.a)(t.tags?[{type:"element",name:"tags",elements:t.tags.map((function(e){return{type:"element",name:"tag",elements:[{type:"text",text:Bn()(e)}]}}))}]:[]),e.t14={type:"element",name:"info",elements:[{type:"element",name:"authors",elements:t.authors.map((function(e){return{type:"element",name:"author",elements:[{type:"text",text:Bn()(e)}]}}))}].concat(Object(S.a)(t.comment?[{type:"element",name:"comments",elements:[{type:"text",text:Bn()(t.comment)}]}]:[]))},e.next=25,Promise.all(t.rounds.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={name:Bn()(t.name)},e.next=3,Promise.all(t.themes.map(function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={name:Bn()(n.name)},e.next=3,Promise.all(n.questions.map(function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={price:a.price},e.t1=[],e.t2=Object(S.a)(Vn(a,n.name)),e.next=5,Promise.all(a.scenario.map(function(){var e=Object(j.a)(d.a.mark((function e(c){var s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0={type:c.type,time:c.duration},"marker"===c.type){e.next=13;break}return e.t2=Bn()(null!==(s=c.data.text)&&void 0!==s?s:"").replaceAll("\n","\\n"),e.next=5,r.resolve(c.data.imageField,"\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0437\u0430 ".concat(a.price," \u0432 \u0442\u0435\u043c\u0435 \xab").concat(n.name,"\xbb \u0432 \u0440\u0430\u0443\u043d\u0434\u0435 \xab").concat(t.name,"\xbb"));case 5:e.t3=e.sent,e.t4=Bn()(null!==(i=c.data.say)&&void 0!==i?i:"").replaceAll("\n","\\n"),e.t5=c.type,e.t6={text:e.t2,image:e.t3,say:e.t4}[e.t5],e.t7={type:"text",text:e.t6},e.t1=[e.t7],e.next=14;break;case 13:e.t1=[];case 14:return e.t8=e.t1,e.abrupt("return",{type:"element",name:"atom",attributes:e.t0,elements:e.t8});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t3=e.sent,e.t4={type:"element",name:"scenario",elements:e.t3},e.t5={type:"element",name:"right",elements:a.correctAnswers.map((function(e){return{type:"element",name:"answer",elements:[{type:"text",text:Bn()(e)}]}}))},e.t6={type:"element",name:"wrong",elements:null===(c=a.incorrectAnswers)||void 0===c?void 0:c.map((function(e){return{type:"element",name:"answer",elements:[{type:"text",text:Bn()(e)}]}}))},e.t7=[e.t4,e.t5,e.t6],e.t8=e.t1.concat.call(e.t1,e.t2,e.t7),e.abrupt("return",{type:"element",name:"question",attributes:e.t0,elements:e.t8});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.t2={type:"element",name:"questions",elements:e.t1},e.t3=[e.t2],e.abrupt("return",{type:"element",name:"theme",attributes:e.t0,elements:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.t2={type:"element",name:"themes",elements:e.t1},e.t3=[e.t2],e.abrupt("return",{type:"element",name:"round",attributes:e.t0,elements:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 25:return e.t15=e.sent,e.t16={type:"element",name:"rounds",elements:e.t15},e.t17=[e.t14,e.t16],e.t18=e.t12.concat.call(e.t12,e.t13,e.t17),e.t19={type:"element",name:"package",attributes:e.t11,elements:e.t18},e.t20=[e.t1,e.t19],c={declaration:e.t0,elements:e.t20},s=O.a.js2xml(c),n.file("content.xml",Tn+s),i=r.warnings,e.next=37,n.generateAsync({type:"blob",compression:"DEFLATE"});case 37:return o=e.sent,e.abrupt("return",{result:o,warnings:i});case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qn=n(530);function Xn(e){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!==(n=null===(a=ke.getState().dashboard)||void 0===a?void 0:a.uploading)&&void 0!==n?n:[],i=Date.now(),ke.dispatch({type:"dashboard/setUploading",uploading:s.concat({id:i,name:t.name})}),e.next=5,Fn(t);case 5:if(o=e.sent,ke.dispatch({type:"dashboard/setUploading",uploading:null===(r=ke.getState().dashboard)||void 0===r||null===(c=r.uploading)||void 0===c?void 0:c.filter((function(e){return i!==e.id}))}),!o.error){e.next=10;break}throw null!==(u={noContentXML:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0444\u0430\u0439\u043b content.xml \u0432 \u043f\u0430\u043a\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0430\u0440\u0445\u0438\u0432 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u043c\u0438 \u043f\u0443\u0442\u044f\u043c\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445.",packExist:"\u041f\u0430\u043a \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","File not found":"\u041c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b \xab".concat(o.file,"\xbb \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u043f\u0430\u043a\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0430\u0440\u0445\u0438\u0432 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u043c\u0438 \u043f\u0443\u0442\u044f\u043c\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445."),"URL error":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ".concat(o.file),"Couldn't get the image":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ".concat(o.file,". \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u043d \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0443 http, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u044d\u0442\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u043e\u043c."),"File mime-type is not supported":"\u041c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b ".concat(null!==(l=o.file)&&void 0!==l?l:""," \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u0438\u0434\u0435\u043e)."),"Error: Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html":"\u0424\u0430\u0439\u043b \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0430\u043a\u043e\u043c SiGame \u0438\u043b\u0438 \u0430\u0440\u0445\u0438\u0432 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d."}[o.error])&&void 0!==u?u:o.error;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $n=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(""),o=Object(b.a)(i,2),u=o[0],l=o[1],p=r.a.useState(!1),h=Object(b.a)(p,2),m=h[0],x=h[1],O=r.a.useState(""),v=Object(b.a)(O,2),g=v[0],y=v[1],k=r.a.useContext(Oa);r.a.useImperativeHandle(t,(function(){return{open:function(){l(""),s(!0)}}})),r.a.useEffect((function(){var e=new URL(window.location.href).searchParams;if(e.has("import")){var t=e.get("import");l(t),s(!0)}}),[]);var _=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){y(e),x(!1)},y(""),x(!0),e.prev=3,e.next=6,fetch(u);case 6:n=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",t("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0430\u043a \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0430\u0432\u0442\u043e\u0440 \u0441\u0430\u0439\u0442\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u043b \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 CORS, \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0443\u044e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043a\u043e\u0432 \u043f\u043e URL"));case 12:return e.prev=12,e.next=15,n.blob();case 15:a=e.sent,e.next=21;break;case 18:return e.prev=18,e.t1=e.catch(12),e.abrupt("return",t("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u0430\u043a\u0430 \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443"));case 21:return e.prev=21,e.next=24,Xn(a);case 24:e.next=29;break;case 26:return e.prev=26,e.t2=e.catch(21),e.abrupt("return",t(e.t2));case 29:x(!1),s(!1),k.reloadPacks();case 32:case"end":return e.stop()}}),e,null,[[3,9],[12,18],[21,26]])})));return function(){return e.apply(this,arguments)}}();return Object(yt.jsxs)(Ye.a,{maxWidth:"xs",open:c,onClose:function(){if(m)return!1;s(!1)},children:[Object(yt.jsx)(Je.a,{children:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043a \u043f\u043e URL-\u0430\u0434\u0440\u0435\u0441\u0443"}),Object(yt.jsx)(Xe.a,{children:Object(yt.jsx)("div",{className:f.a.url,children:Object(yt.jsx)(De.a,{label:"\u0410\u0434\u0440\u0435\u0441 .siq \u0444\u0430\u0439\u043b\u0430",variant:"outlined",value:u,onChange:function(e){return l(e.target.value)},disabled:m,error:g,helperText:String(g)})})}),Object(yt.jsxs)(Qn.a,{children:[Object(yt.jsx)(Ke.a,{onClick:function(){return s(!1)},color:"primary",disabled:m,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(yt.jsx)(Ke.a,{onClick:_,color:"primary",disabled:m,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})]})}));$n.displayName="PackUploader";var ea=$n,ta=function(e){return Object(yt.jsx)(me.a,Object(u.a)(Object(u.a)({},e),{},{direction:"right"}))};var na=Object(Oe.b)((function(e){return{dashboard:e.dashboard}}))((function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState([]),i=Object(b.a)(s,2),o=i[0],l=i[1],p=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!1),n){t.next=3;break}return t.abrupt("return");case 3:a=Object(be.a)(n),t.prev=4,a.s();case 6:if((r=a.n()).done){t.next=20;break}return s=r.value,t.prev=8,t.next=11,Xn(s);case 11:e.reloadPacks(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(8),i=Date.now(),l(o.concat({date:i,text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0430\u043a\u0430 \xab".concat(s.name,"\xbb: ").concat(t.t0)}));case 18:t.next=6;break;case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(4),a.e(t.t1);case 25:return t.prev=25,a.f(),t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[4,22,25,28],[8,14]])})));return function(e){return t.apply(this,arguments)}}();return r.a.useEffect((function(){var e=setInterval((function(){l(o.filter((function(e){return e.date>=Date.now()-5e3})))}),1e3);return function(){return clearInterval(e)}}),[o]),Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Ie.a,{onDragEnter:function(){return c(!0)},onDragLeave:function(){return c(!1)},onDrop:p,accept:[".siq"],children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(yt.jsxs)("div",Object(u.a)(Object(u.a)({className:fe()([f.a.packBase,f.a.newPack,f.a.upload],Object(je.a)({},f.a.dragOver,a))},t()),{},{children:[Object(yt.jsx)("input",Object(u.a)({},n())),Object(yt.jsxs)("span",{children:[Object(yt.jsx)(Ze.k,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u0430\u043a\u0430"]})]}))}}),Object(yt.jsx)("div",{className:fe()(f.a.backdrop,Object(je.a)({},f.a.visible,a))}),Object(yt.jsx)(he.a,{open:o.length,onClose:function(){return l([])},TransitionComponent:ta,children:Object(yt.jsx)(xe.a,{severity:"error",className:f.a.alert,children:o.map((function(e,t){return Object(yt.jsx)("p",{children:e.text},t)}))})})]})})),aa=n(246);function ra(e){return Object(yt.jsx)("div",{className:[f.a.packBase,f.a.newPack,f.a.upload].join(" "),onClick:function(){return e.packUploaderRef.current.open()},children:Object(yt.jsxs)("span",{children:[Object(yt.jsx)(aa.a,{})," \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043a \u043f\u043e URL"]})})}var ca,sa=n(248),ia=n(531),oa=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(),o=Object(b.a)(i,2),u=o[0],l=o[1],d=r.a.useState(""),j=Object(b.a)(d,2),p=j[0],f=j[1],h=r.a.useState(""),m=Object(b.a)(h,2),x=m[0],O=m[1],v=r.a.useState(!0),g=Object(b.a)(v,2),y=g[0],k=g[1],_=function(e){s(!1),ca({confirmed:e,checked:y})};return r.a.useImperativeHandle(t,(function(){return{open:function(e,t,n){return new Promise((function(a){ca=a,s(!0),l(e),f(t),O(n)}))}}})),Object(yt.jsxs)(Ye.a,{maxWidth:"xs",open:c,onClose:function(){return _(!1)},children:[Object(yt.jsx)(Je.a,{children:e.title}),Object(yt.jsx)(Xe.a,{children:Object(yt.jsxs)(ia.a,{children:[u&&Object(yt.jsx)("p",{children:u}),e.children,x&&Object(yt.jsx)(Ae.a,{control:Object(yt.jsx)(Le.a,{defaultChecked:!0,value:y,onChange:function(e){return k(e.target.checked)}}),label:x})]})}),Object(yt.jsxs)(Qn.a,{children:[Object(yt.jsx)(Ke.a,{autoFocus:!0,onClick:function(){return _(!1)},color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(yt.jsx)(Ke.a,{onClick:function(){return _(!0)},color:"primary",children:null!==p&&void 0!==p?p:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})]})}));oa.displayName="ConfirmationDialog";var ua=oa,la=r.a.forwardRef((function(e,t){var n=r.a.useRef(),a=Object(o.g)();return r.a.useImperativeHandle(t,(function(){return{confirmPackDeletion:function(e){return Object(j.a)(d.a.mark((function t(){var r,c,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043a? \u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e.","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b");case 2:if(r=t.sent,c=r.confirmed,s=r.checked,i=s,!c){t.next=17;break}if(!i){t.next=14;break}return t.next=10,ee(e);case 10:return t.sent.forEach((function(e){return ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:e})})),t.next=14,le(e);case 14:return t.next=16,B(e);case 16:a.push("/");case 17:return t.abrupt("return",c);case 18:case"end":return t.stop()}}),t)})))()},confirmRoundDeletion:function(){return Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434? \u0412\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0442\u0430\u043a\u0436\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b.","\u0423\u0434\u0430\u043b\u0438\u0442\u044c");case 2:return t=e.sent,a=t.confirmed,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},confirmDeleteQuestion:function(t,a,r){return Object(j.a)(d.a.mark((function c(){var s,i,o,l;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441?","\u0423\u0434\u0430\u043b\u0438\u0442\u044c");case 2:if(s=c.sent,s.confirmed){c.next=6;break}return c.abrupt("return",!1);case 6:return i=Object(u.a)({},e.pack),r=parseInt(r),o=e.pack.rounds[t].themes[a],l=o.questions.findIndex((function(e){return e.price===Number(r)})),o.questions.splice(l,1),o.questions=o.questions.sort((function(e,t){return e.price-t.price})),c.next=14,P(i);case 14:return e.dispatch({type:"pack/load",pack:i}),c.abrupt("return",!0);case 16:case"end":return c.stop()}}),c)})))()}}})),Object(yt.jsx)(ua,{ref:n})}));la.displayName="DeleteConfirmationDialog";var da=Object(Oe.b)(st,null,null,{forwardRef:!0})(la),ja=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState((function(){return function(){}})),o=Object(b.a)(i,2),u=o[0],l=o[1],d=r.a.useState(""),j=Object(b.a)(d,2),p=j[0],f=j[1],h=r.a.useState(""),m=Object(b.a)(h,2),x=m[0],O=m[1],v=r.a.useState(""),g=Object(b.a)(v,2),y=g[0],k=g[1];r.a.useImperativeHandle(t,(function(){return{askToRename:function(e,t,n){l((function(){return e})),f(t),O(n),k(n),s(!0)}}}));var _=function(){s(!1),u()};return Object(yt.jsxs)(Ye.a,{maxWidth:"xs",open:c,onClose:_,children:[Object(yt.jsxs)(Je.a,{children:["\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c ",p]}),Object(yt.jsx)(Xe.a,{children:Object(yt.jsx)(De.a,{label:"\u041d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f",placeholder:x,variant:"outlined",value:y,onChange:function(e){return k(e.target.value)},style:{marginTop:15}})}),Object(yt.jsxs)(Qn.a,{children:[Object(yt.jsx)(Ke.a,{autoFocus:!0,onClick:_,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(yt.jsx)(Ke.a,{onClick:function(){s(!1),u(y)},color:"primary",disabled:!y.length,children:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c"})]})]})}));ja.displayName="RenameDialog";var ba=ja;function pa(e){var t=r.a.useRef(),n=r.a.useRef(),a=r.a.useContext(Oa),c=ct(new Date(e.pack.creationTime)),s=r.a.useContext(kt),i=function(){var n=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.current.confirmPackDeletion(e.pack.uuid);case 2:if(!n.sent){n.next=4;break}a.reloadPacks();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o=function(){var t=Object(j.a)(d.a.mark((function t(){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return n.current.askToRename(t,"\u043f\u0430\u043a",e.pack.name)}));case 2:if(void 0===(r=t.sent)){t.next=10;break}return t.next=6,I(e.pack.uuid);case 6:c=t.sent,P(c=Object(u.a)(Object(u.a)({},c),{},{name:r})),a.reloadPacks();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsxs)("div",{className:[f.a.packBase,f.a.pack].join(" "),onContextMenu:function(e){s.open(e,[{name:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",icon:Object(yt.jsx)(sa.a,{}),action:function(){return o()}},{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(yt.jsx)(Ze.d,{}),action:function(){return i()}}])},children:[Object(yt.jsx)(ma,{src:e.pack.logo}),Object(yt.jsxs)("div",{className:f.a.info,children:[Object(yt.jsx)("span",{className:f.a.name,children:e.pack.name}),Object(yt.jsxs)("span",{className:f.a.time,children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",c]})]})]}),Object(yt.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(yt.jsx)(da,{ref:t}),Object(yt.jsx)(ba,{ref:n})]})]})}function fa(){return Object(yt.jsx)("div",{className:[f.a.packBase,f.a.newPack].join(" "),children:Object(yt.jsxs)("span",{children:[Object(yt.jsx)(w.a,{})," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u043a"]})})}function ha(e){return Object(yt.jsxs)("div",{className:[f.a.packBase,f.a.loading].join(" "),children:[Object(yt.jsx)(N.a,{variant:"rectangular",width:"100%",height:"100%",className:f.a.skeleton}),e.name&&Object(yt.jsxs)("span",{children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \xab",e.name,"\xbb"]})]})}var ma=Object(Oe.b)(null)((function(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1];return r.a.useEffect((function(){a&&e.dispatch({type:"fileRendering/setFileUnlinkCallback",fileURI:e.src,callback:function(){return c()}})}),[c]),r.a.useEffect((function(){var t=function(){};return e.src?Object(j.a)(d.a.mark((function n(){var r,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(e.src);case 2:if(null!==(r=n.sent)){n.next=5;break}return n.abrupt("return",c());case 5:r.url?c("unknown"===r.type?Rt:r.url):(s=URL.createObjectURL(r.blob),c(s)),e.dispatch({type:"fileRendering/fileRenderingStarted",fileURI:e.src,callback:function(){return c()}}),t=function(){(null===a||void 0===a?void 0:a.startsWith("blob:"))&&URL.revokeObjectURL(a),e.dispatch({type:"fileRendering/fileRenderingStopped",fileURI:e.src})};case 8:case"end":return n.stop()}}),n)})))():c(),function(){return t(a)}}),[e.src]),Object(yt.jsx)("div",{className:f.a.pictureContainer,children:a?Object(yt.jsx)("img",{src:a,className:f.a.thumbnail}):Object(yt.jsx)("div",{className:f.a.thumbnail})})}));function xa(){return Object(yt.jsx)(va,{})}var Oa=r.a.createContext({}),va=Object(Oe.b)((function(e){return{dashboard:e.dashboard}}))((function(e){var t,n,a=r.a.useState(),c=Object(b.a)(a,2),s=c[0],i=c[1],o=r.a.useRef(),u=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,n=t.sort((function(e,t){return e.creationTime-t.creationTime})),i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){return u()}),[]);var l={reloadPacks:function(){return u()}};return Object(yt.jsx)("div",{children:Object(yt.jsxs)(Oa.Provider,{value:l,children:[Object(yt.jsxs)("div",{className:f.a.packsList,children:[Object(yt.jsx)(ga,{type:"create"}),Object(yt.jsx)(ga,{type:"upload",reloadPacks:u}),Object(yt.jsx)(ga,{type:"importByURL",packUploaderRef:o}),null===(t=e.dashboard)||void 0===t||null===(n=t.uploading)||void 0===n?void 0:n.reverse().map((function(e,t){var n=e.name;return Object(yt.jsx)(ga,{type:"loading",name:n},t)})),s?s.map((function(e){return Object(yt.jsx)(ga,{type:"pack",pack:e},e.uuid)})):new Array(5).fill().map((function(e,t){return Object(yt.jsx)(ga,{type:"loading"},t)}))]}),Object(yt.jsx)(ea,{ref:o})]})})}));function ga(e){return["loading","upload","importByURL"].includes(e.type)?Object(yt.jsx)(ya,Object(u.a)({},e)):Object(yt.jsx)(i.b,{to:"pack"===e.type?"/pack/".concat(e.pack.uuid):"".concat(e.type),children:Object(yt.jsx)(ya,Object(u.a)({},e))})}function ya(e){return{create:Object(yt.jsx)(fa,{}),upload:Object(yt.jsx)(na,{reloadPacks:e.reloadPacks}),importByURL:Object(yt.jsx)(ra,{packUploaderRef:e.packUploaderRef}),loading:Object(yt.jsx)(ha,{name:e.name}),pack:Object(yt.jsx)(pa,{pack:e.pack})}[e.type]}var ka=n(262),_a=n(519),wa=n(183),Na=n.n(wa),Sa=n(250),Ra=n(251),Ca=n(532),Ia=n(533);function Ua(){var e=r.a.useState(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(yt.jsx)(Ca.a,{position:"static",style:{zIndex:4},children:Object(yt.jsxs)(Ia.a,{color:"primary",children:[Object(yt.jsx)("div",{className:Na.a.logoContainer,children:Object(yt.jsx)(i.b,{to:"/",className:Na.a.logo,children:Object(yt.jsx)(Ve.a,{variant:"h6",component:"div",children:"SIPacker"})})}),Object(yt.jsxs)("div",{children:[Object(yt.jsx)("a",{href:"https://github.com/VityaSchel/SIPacker",target:"_blank",rel:"noreferrer",children:Object(yt.jsx)(Qe.a,{children:Object(yt.jsx)(Sa.a,{})})}),Object(yt.jsx)(Qe.a,{onClick:function(){return a(!0)},children:Object(yt.jsx)(Ra.a,{})})]}),Object(yt.jsxs)(Ye.a,{open:n,onClose:function(){return a(!1)},children:[Object(yt.jsx)(Je.a,{children:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),Object(yt.jsx)(Xe.a,{children:Object(yt.jsxs)(ia.a,{children:[Object(yt.jsx)("p",{children:"\u0412\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e VityaSchel \u0432 2021 \u0433\u043e\u0434\u0443 \u0434\u043b\u044f \u0438\u0433\u0440\u044b SiGame \u043a\u0430\u043a \u043a\u0440\u043e\u0441\u0441\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430 SIQuester."}),Object(yt.jsx)("p",{children:"\u0412\u0441\u0435 \u0441\u0432\u043e\u0438 \u0438\u0434\u0435\u0438 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u0437\u043b\u0430\u0433\u0430\u0439\u0442\u0435 \u0432 \u043f\u0443\u043b-\u0440\u0435\u043a\u0432\u0435\u0441\u0442\u0430\u0445 \u0438\u043b\u0438 \u0445\u043e\u0442\u044f \u0431\u044b \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 Issues, \u0430 \u043d\u0435 \u0432 \u043c\u043e\u0438\u0445 \u043b\u0441."}),Object(yt.jsx)("p",{children:Object(yt.jsx)("a",{href:"https://github.com/VladimirKhil/SI/wiki/%D0%A1%D0%BF%D0%B5%D1%86%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B0-.siq",className:"onHover",children:"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430 .siq"})}),Object(yt.jsx)("p",{children:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0443 \u0425\u0438\u043b\u044e \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u043d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u043b \u043c\u043e\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 (\u043f\u0440\u0438\u0432\u0435\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c \u043c\u0430\u0444\u0438\u0438 \u043e\u043d\u043b\u0430\u0439\u043d \u0438 \u043c\u0430\u0444\u0438\u0438 \u0433\u043e) \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c \u0441\u0430\u0439\u0442\u043e\u0432 sigame.ru \u0438 sigame.xyz \u0437\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e."}),Object(yt.jsxs)("p",{children:["\u0422\u0430\u043a\u0436\u0435 \u0445\u043e\u0447\u0443 \u043f\u043e\u0436\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u0430\u0447\u0438 \u0438 \u043b\u0435\u0433\u043a\u043e\u0439 \u0441\u043b\u0443\u0436\u0431\u044b ",Object(yt.jsx)("a",{href:"https://vk.com/id245297843",target:"_blank",rel:"noreferrer",className:"onHover",children:"\u0420\u043e\u043c\u0435 \u041a\u0443\u0447\u0438\u043d\u0443"}),", \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0432\u043e\u0438\u043c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u043c \u043d\u0430\u0442\u043e\u043b\u043a\u043d\u0443\u043b \u043c\u0435\u043d\u044f \u043d\u0430 \u0438\u0434\u0435\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430, \u043d\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043e \u043c\u043d\u043e\u0439 \u043f\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u042f \u0432 \u0430\u0440\u043c\u0438\u0438."]})]})}),Object(yt.jsx)(Qn.a,{children:Object(yt.jsx)(Ke.a,{onClick:function(){return a(!1)},children:"\u041e\u041a"})})]})]})})}var Da=n(184),Fa=n.n(Da),Pa=n(252),Ea=n(177),Ba=n.n(Ea);function Ta(){var e=r.a.useState(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(o.g)(),s=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(Pa.v4)(),a={uuid:t,name:n,date:Ba()().format("DD.MM.YYYY"),creationTime:Date.now(),language:"",version:y,difficulty:5,rounds:[]},e.next=4,P(a);case 4:c.push("/pack/".concat(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=["\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u043e\u0442 \u0441\u043b\u0430\u0432\u044f\u043d","\u0418\u0433\u0440\u044b, \u043c\u0443\u0437\u044b\u043a\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435","\u041a\u0438\u043d\u043e\u043f\u0430\u043a","\u0410\u043d\u0438\u043c\u0435 \u0438 \u043f\u0440\u043e\u0447\u0438\u0439 \u0431\u0443\u043b\u043b\u0449\u0438\u0442","\u041c\u0435\u043c\u043d\u0430\u044f \u0421\u043e\u043b\u044f\u043d\u043a\u0430"];return Object(yt.jsxs)("div",{className:Fa.a.container,children:[Object(yt.jsx)(De.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0430",variant:"outlined",value:n,onChange:function(e){return a(e.target.value)},className:Fa.a.field,placeholder:i[Math.floor(Math.random()*i.length)],onKeyUp:function(e){"Enter"===e.key&&s()},autoFocus:!0}),Object(yt.jsx)(Ke.a,{variant:"contained",onClick:function(){return s()},disabled:!n.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}var qa=n(114),Aa=n.n(qa),La=n(514),za=n(85);var Ma=Object(Oe.b)(st)((function(e){var t=[Aa.a.link,"onHover","noDefaults"].join(" "),n=Object(o.h)(),a=r.a.useState([]),c=Object(b.a)(a,2),s=c[0],u=c[1];return r.a.useEffect((function(){for(var t,a=n.pathname.split(new RegExp("/pack/".concat(_)),2)[1],r=a.split("/"),c={dashboard:{to:"/",name:"\u041f\u0430\u043a\u0438"},currentPack:{to:"/pack/".concat(e.pack.uuid),name:e.pack.name},settings:{to:"/pack/".concat(e.pack.uuid,"/settings"),name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},rounds:{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(r[2]),name:"\u0420\u0430\u0443\u043d\u0434 ".concat(r[2])},theme:{name:"\u0422\u0435\u043c\u0430 ".concat(r[4])},questions:{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(r[2],"/themes/").concat(r[4],"/questions/").concat(r[6]),name:"add"===r[6]?"\u041d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441":"\u0412\u043e\u043f\u0440\u043e\u0441 \u0437\u0430 ".concat(r[6])}},s=(t={default:[c.dashboard,c.currentPack]},Object(je.a)(t,za.e,[c.dashboard,c.currentPack,c.settings]),Object(je.a)(t,za.d,[c.dashboard,c.currentPack,c.rounds]),Object(je.a)(t,za.a,[c.dashboard,c.currentPack,c.rounds,c.theme,c.questions]),t),i=0,o=Object.entries(s);i<o.length;i++){var l=Object(b.a)(o[i],2),d=l[0],j=l[1];if(new RegExp("^".concat(d,"/?$")).test(a))return u(j)}return u(s.default)}),[n,e.pack]),Object(yt.jsx)(La.a,{children:s.map((function(e,n){var a=e.to,r=e.name;return a&&n!==s.length-1?Object(yt.jsx)(i.b,{to:a,className:t,children:r},n):Object(yt.jsx)(Ve.a,{color:n===s.length-1?"text.primary":"text.secondary",children:r},n)}))})})),Wa=n(92),Ha=n.n(Wa),Ga=n(539),Va=n(501),Ka=n(253),Ya=n(254),Ja=r.a.forwardRef((function(e,t){return Object(yt.jsx)(Va.a,Object(u.a)({ref:t},e))})),Qa=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],p=r.a.useState([]),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState([]),O=Object(b.a)(x,2),v=O[0],g=O[1],y=r.a.useState(),k=Object(b.a)(y,2),_=k[0],w=k[1];r.a.useImperativeHandle(t,(function(){return{save:function(e){s(!0),w(e)}}})),r.a.useEffect((function(){return(null===_||void 0===_?void 0:_.uuid)&&N()}),[_]);var N=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(_);case 2:if(t=e.sent,m(t),!t.length){e.next=6;break}return e.abrupt("return");case 6:l(!0),setTimeout(S,500);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Yn(_);case 4:a=e.sent,t=a.result,n=a.warnings,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",m([null===e.t0||void 0===e.t0?void 0:e.t0.message]));case 13:l(!1),Object(Ka.saveAs)(t,"".concat(Object(Ya.slugify)(_.name),".siq"),{autoBom:!0}),g(n),s(n.length);case 17:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(yt.jsxs)(Ye.a,{maxWidth:"xs",open:c,TransitionComponent:Ja,onClose:function(){return h.length&&s(!1)},children:[Object(yt.jsx)(Je.a,{children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0430\u0440\u0445\u0438\u0432\u0430"}),Object(yt.jsx)(Xe.a,{children:Object(yt.jsxs)(ia.a,{children:[u&&Boolean(!h.length)&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("p",{children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u043f\u0430\u043a\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b\u043e\u0432."}),Object(yt.jsx)(Ga.a,{color:"primary"})]}),Boolean(h.length)&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("p",{children:"\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0430\u043a\u0430:"}),Object(yt.jsx)("ul",{children:h.map((function(e,t){return Object(yt.jsx)("li",{children:e},t)}))})]}),Boolean(v.length)&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("p",{children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f, \u0438\u0445 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c:"}),Object(yt.jsx)("ul",{children:v.map((function(e,t){return Object(yt.jsx)("li",{className:Ha.a.warnings,children:e},t)}))})]})]})}),!u&&Object(yt.jsx)(Qn.a,{children:Object(yt.jsx)(Ke.a,{autoFocus:!0,onClick:function(){return s(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}));Qa.displayName="ConfirmationDialog";var Xa=Qa;var Za=Object(Oe.b)(st)((function(e){var t,n=r.a.useRef(),a=r.a.useRef(),c=Object(o.g)(),s=Object(o.h)().pathname,l=function(){var t=Object(j.a)(d.a.mark((function t(){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.confirmRoundDeletion();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return a=Object(u.a)({},e.pack),r=parseInt(s.split("/pack/".concat(e.pack.uuid,"/rounds/"),2)[1]),a.rounds.splice(r-1,1),t.next=9,P(a);case 9:c.push("/pack/".concat(a.uuid));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(j.a)(d.a.mark((function t(){var a,r,i,o,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.match(new RegExp("/pack/".concat(_,"/rounds/(\\d+)/themes/(\\d+)/questions/(\\d+)"))),r=Object(b.a)(a,4),i=r[1],o=r[2],u=r[3],i-=1,o-=1,t.next=5,n.current.confirmDeleteQuestion(i,o,u);case 5:c.push("/pack/".concat(e.pack.uuid,"/rounds/").concat(i+1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=e.pack&&(t={},Object(je.a)(t,za.c,[[function(){return a.current.save(e.pack)},Object(yt.jsx)(Ze.j,{},"download")],["/pack/".concat(e.pack.uuid,"/settings"),Object(yt.jsx)(Ze.r,{},"settings")],[function(){n.current.confirmPackDeletion(e.pack.uuid)},Object(yt.jsx)(Ze.d,{},"delete"),Ha.a.delete]]),Object(je.a)(t,za.d,[[l,Object(yt.jsx)(Ze.d,{},"delete"),Ha.a.delete]]),Object(je.a)(t,za.b,[[p,Object(yt.jsx)(Ze.d,{},"delete"),Ha.a.delete]]),t),h=s.split("/pack/".concat(e.pack.uuid),2)[1],m=Object.entries(f).find((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return new RegExp("^".concat(n,"/?$")).test(h)&&a}));return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("div",{className:Ha.a.buttons,children:m&&m[1].map((function(e,t){var n=Object(b.a)(e,3),a=n[0],r=n[1],c=n[2];return Object(yt.jsx)(yt.Fragment,{children:"string"===typeof a?Object(yt.jsx)(i.b,{to:a,className:c,children:Object(yt.jsx)(Qe.a,{children:r})},t):Object(yt.jsx)(Qe.a,{className:c,onClick:a,children:r},t)})}))}),Object(yt.jsx)(da,{ref:n}),Object(yt.jsx)(Xa,{ref:a})]})})),$a=n(255),er=n.n($a),tr=n(64),nr=n.n(tr),ar=n(547),rr=n(546),cr=n(115),sr=n(553),ir=n(256),or=n.n(ir);function ur(e){if(e.transform){var t="translate(0px"+e.transform.slice(e.transform.indexOf(","),e.transform.length);return Object(u.a)(Object(u.a)({},e),{},{transform:t})}return e}function lr(e){return Object(yt.jsx)(cr.b,{draggableId:String(e.draggableId),index:e.index,children:function(t){return Object(yt.jsx)(sr.a,Object(u.a)(Object(u.a)({className:[e.className,or.a.item].join(" "),ref:t.innerRef},t.draggableProps),{},{style:ur(t.draggableProps.style),children:e.children(t)}))}})}var dr=n(143),jr=n.n(dr);function br(e){return Object(yt.jsx)("div",Object(u.a)(Object(u.a)({className:jr.a.handle},e.provided.dragHandleProps),{},{children:Object(yt.jsx)(Ze.f,{})}))}function pr(e){var t=r.a.useRef(),n=r.a.useContext(kt),a=function(){var n=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.current.confirmRoundDeletion();case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:e.handleRemoveRound(e.index);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(e){n.open(e,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(yt.jsx)(Ze.d,{}),action:function(){return a()}}])};return Object(yt.jsx)(lr,Object(u.a)(Object(u.a)({},e),{},{className:nr.a.cardOfRound,children:function(n){return Object(yt.jsxs)(yt.Fragment,{children:[e.editing?Object(yt.jsxs)("div",{className:nr.a.item,children:[Object(yt.jsx)(br,{provided:n}),Object(yt.jsx)(fr,Object(u.a)({},e)),Object(yt.jsx)(hr,{handleRemoveRound:a})]}):Object(yt.jsx)(i.b,{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(e.index+1),className:nr.a.link,onContextMenu:c,children:Object(yt.jsx)(rr.a,{children:Object(yt.jsx)(fr,Object(u.a)({},e))})}),Object(yt.jsx)(da,{ref:t})]})}}))}function fr(e){var t=e.item;return Object(yt.jsx)(ar.a,{style:{paddingBottom:zc.spacing(2)},className:nr.a.flex1,children:e.editing?Object(yt.jsx)(De.a,{value:e.roundNamesTextInput[e.index],label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0443\u043d\u0434\u0430",variant:"outlined",onChange:function(t){return e.handleRoundNameChange(t,e.index)},size:"small",className:nr.a.inputField}):Object(yt.jsxs)(Ve.a,{variant:"body2",color:"text.secondary",className:nr.a.flex2,children:["\u0420\u0430\u0443\u043d\u0434 ",e.index+1,". ",t.name]})})}function hr(e){return Object(yt.jsx)(Qe.a,{onClick:e.handleRemoveRound,className:nr.a.delete,children:Object(yt.jsx)(Ze.d,{})})}var mr=n(86),xr=n.n(mr),Or=n(521),vr=n(548);function gr(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1];return Object(yt.jsxs)("div",{className:[xr.a.addItem,e.className].join(" "),children:[Object(yt.jsx)(yr,{setAddingItem:c,handleAddItem:e.onAdd,className:fe()(xr.a.button,Object(je.a)({},xr.a.expand,a)),addingItem:a,label:e.inputLabel}),Object(yt.jsx)("div",{className:fe()([xr.a.button,xr.a.addButtonOuter],Object(je.a)({},xr.a.expand,!a)),children:Object(yt.jsx)(Ke.a,{variant:"contained",startIcon:Object(yt.jsx)(Ze.a,{}),onClick:function(){return c(!0)},className:xr.a.addButton,children:e.buttonLabel})})]})}function yr(e){var t=r.a.useState(""),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useRef(),i=function(){e.setAddingItem(!1),a.length&&(e.handleAddItem(a),c(""))};return r.a.useEffect((function(){e.addingItem&&s.current.focus()}),[e.addingItem]),Object(yt.jsxs)(Be.a,{variant:"outlined",className:e.className,children:[Object(yt.jsx)(Te.a,{size:"small",children:e.label}),Object(yt.jsx)(Or.a,{label:e.label,size:"small",type:"text",value:a,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&i()},style:{paddingRight:0},inputRef:s,endAdornment:Object(yt.jsx)(vr.a,{position:"end",children:Object(yt.jsx)(Qe.a,{onClick:i,children:a.length?Object(yt.jsx)(Ze.e,{}):Object(yt.jsx)(Ze.b,{})})})})]})}function kr(e){var t=r.a.useState({map:new WeakMap,length:0}),n=Object(b.a)(t,2),a=n[0],c=n[1];return Object(yt.jsx)(cr.a,{onDragEnd:e.onDragEnd,children:Object(yt.jsx)(cr.c,{droppableId:e.droppableId,children:function(t){return Object(yt.jsxs)("div",Object(u.a)(Object(u.a)({ref:t.innerRef},t.droppableProps),{},{className:e.droppableClassName,children:[function(){var t=e.list.length?e.list.map((function(t,n){var r=function(e){return a.map.has(e)||a.map.set(e,++a.length),a.map.get(e)};return Object(yt.jsx)(e.itemComponent,Object(u.a)({index:n,draggableId:e.useIdAsKey?t.id:r(t),item:t},e.draggableProps),e.useIdAsKey?t.id:r(t))})):Object(yt.jsx)(Ve.a,{variant:"body1",gutterBottom:!0,className:jr.a.noItems,children:e.noItemsLabel});return c(a),t}(),t.placeholder]}))}})})}var _r=n(151),wr=n.n(_r);function Nr(e){return Object(yt.jsxs)("div",{className:wr.a.toolbar,children:[Object(yt.jsx)("h2",{className:wr.a.text,children:e.heading}),e.showButton&&e.editing&&Object(yt.jsx)(yt.Fragment,{children:Object(yt.jsx)(Ve.a,{color:"text.secondary",className:wr.a.hint,children:"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})}),e.showButton&&Object(yt.jsx)(Qe.a,{onClick:e.onSwitch,children:e.editing?Object(yt.jsx)(Ze.e,{}):Object(yt.jsx)(Ze.g,{})})]})}var Sr=Object(Oe.b)(st)((function(e){var t=r.a.useState([]),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(!1),i=Object(b.a)(s,2),o=i[0],l=i[1],p=e.pack;r.a.useEffect((function(){return c(e.pack.rounds)}),[e.pack.rounds]);var f=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(S.a)(p.rounds)).push({name:t,themes:[]}),h(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(n),a=Object(u.a)(Object(u.a)({},p),{},{rounds:n}),t.next=4,P(a);case 4:e.dispatch({type:"pack/load",pack:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=a.map((function(e){return e.name}));return Object(yt.jsxs)("div",{className:nr.a.rounds,children:[Object(yt.jsx)(Nr,{showButton:Boolean(a.length),onSwitch:function(){l(!o)},editing:o,heading:"\u0420\u0430\u0443\u043d\u0434\u044b \u043f\u0430\u043a\u0430"}),Object(yt.jsx)(kr,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(b.a)(r,1)[0];return a.splice(n,0,c),a}(a,e.source.index,e.destination.index);h(t)}},droppableId:"rounds",droppableClassName:nr.a.droppable,itemComponent:pr,draggableProps:{pack:p,editing:o,handleRemoveRound:function(e){var t=Object(S.a)(p.rounds);t.splice(e,1),h(t)},handleRoundNameChange:function(e,t){var n=Object(S.a)(a);n[t].name=e.target.value,h(n)},roundNamesTextInput:m},list:a,noItemsLabel:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0440\u0430\u0443\u043d\u0434\u043e\u0432"}),Object(yt.jsx)(gr,{onAdd:f,inputLabel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0443\u043d\u0434\u0430",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434"})]})})),Rr=n(41),Cr=n.n(Rr);function Ir(e){return e.children.map((function(t,n){return Object(yt.jsx)(Ur,{first:e.starting&&0===n,last:e.ending&&n===e.children.length-1,children:t},n)}))}function Ur(e){var t=Object(o.h)().pathname.split("/").filter(String)[1],n=e.children.link&&e.children.link.replace("%packUUID%",t);return Object(yt.jsxs)("li",{className:e.children.done&&Cr.a.done,children:[Object(yt.jsx)(Dr,{first:e.first,last:e.last}),n?Object(yt.jsxs)(i.b,{to:n,className:Cr.a.link,children:[Object(yt.jsx)("span",{children:e.children.name}),Object(yt.jsx)(Ze.o,{})]}):Object(yt.jsx)("span",{children:e.children.name})]})}function Dr(e){return Object(yt.jsxs)("span",{className:Cr.a.marker,children:[Object(yt.jsx)("span",{className:fe()(Cr.a.lineBefore,Object(je.a)({},Cr.a.hidden,e.first))}),Object(yt.jsx)("span",{className:Cr.a.bullet}),Object(yt.jsx)("span",{className:fe()(Cr.a.lineAfter,Object(je.a)({},Cr.a.hidden,e.last))})]})}var Fr=Object(Oe.b)(st)((function(e){var t,n={required:[{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u043e\u0432 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.authors)},{name:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u044f\u0437\u044b\u043a \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.language)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0443\u043d\u0434",link:"/pack/%packUUID%/",done:Boolean(e.pack.rounds.length)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u043c\u044b \u0432\u043e \u0432\u0441\u0435\u0445 \u0440\u0430\u0443\u043d\u0434\u0430\u0445",done:lt(e.pack)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432\u043e \u0432\u0441\u0435\u0445 \u0442\u0435\u043c\u0430\u0445",done:ut(e.pack)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0435",done:pt(e.pack)}],optional:[{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043a\u043e\u043d\u043a\u0443 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.logo)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.tags)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5 \u0442\u0435\u043c \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",done:(t=e.pack,Boolean(t.rounds.length&&t.rounds.every((function(e){return e.themes.length>=5}))))},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 25 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u0441\u0435\u0433\u043e",done:dt(e.pack)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439",done:jt(e.pack)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",done:bt(e.pack)},{name:"\u0421\u0436\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0431\u044b\u043b \u043c\u0435\u043d\u0435\u0435 1 \u041c\u0411"}]},a=function(e){return e.filter((function(e){return void 0!==e.done}))},r=function(e,t){return e+Number(t.done)},c=a(n.required).reduce(r,0)+a(n.optional).reduce(r,0),s=a(n.required).length+a(n.optional).length;return Object(yt.jsxs)("div",{className:Cr.a.container,children:[Object(yt.jsx)(Ve.a,{variant:"h6",className:Cr.a.text,children:"\u0427\u0435\u043a\u043b\u0438\u0441\u0442:"}),Object(yt.jsxs)("div",{className:Cr.a.progress,children:[Object(yt.jsx)(Ga.a,{variant:"determinate",value:c/s*100,className:Cr.a.progressBar}),Object(yt.jsxs)(Ve.a,{variant:"subtitle1",color:"text.secondary",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e: ",c," \u0438\u0437 ",s]})]}),Object(yt.jsxs)("ol",{className:Cr.a.list,children:[Object(yt.jsx)(Ir,{starting:!0,children:n.required}),Object(yt.jsxs)("div",{className:Cr.a.caption,children:[Object(yt.jsx)("span",{className:Cr.a.line}),Object(yt.jsx)(Ve.a,{variant:"overline",className:Cr.a.text,children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043a"}),Object(yt.jsx)("span",{className:Cr.a.line})]}),Object(yt.jsx)(Ir,{ending:!0,children:n.optional})]})]})}));function Pr(){return Object(yt.jsxs)("div",{className:er.a.roundsPage,children:[Object(yt.jsx)(Sr,{}),Object(yt.jsx)(Fr,{})]})}var Er=n(152),Br=n.n(Er),Tr=n(144),qr=vn.d({logo:vn.e("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0430\u043a\u0430"),name:vn.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),authors:vn.a().ensure().min(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0430"),publisher:vn.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0437\u0434\u0430\u0442\u0435\u043b\u044f"),difficulty:vn.c("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u043a\u0430").positive().min(1).max(10).integer("\u0427\u0438\u0441\u043b\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438"),comment:vn.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),tags:vn.a().ensure(),language:vn.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u043f\u0430\u043a\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u044f\u0437\u044b\u043a"),over18:vn.b("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u043a\u0430")}),Ar=function(e,t,n){return!n.slice(0,t).some((function(t){return t.toUpperCase()===e.toUpperCase()}))};var Lr=Object(Oe.b)(st)((function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState([]),i=Object(b.a)(s,2),l=i[0],p=i[1],f=Object(o.g)(),h=ot(qr,e.pack);r.a.useEffect((function(){fetch("https://sigame.ru/api/tags").then((function(e){return e.json()})).then((function(e){return p(e.data.sort((function(e,t){return e.count-t.count})).reverse().filter((function(e){return"string"===typeof e._id})).filter((function(e){return e.count>=4})).map((function(e){return e._id})).filter(Ar))}))}),[]);var m=Object(On.a)({initialValues:h,validationSchema:qr,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),a=Object(u.a)(Object(u.a)({},e.pack),n),t.next=4,P(a);case 4:e.dispatch({type:"pack/load",pack:a}),f.push("/pack/".concat(a.uuid));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return Object(Tr.a)((function(e){Object.keys(m.touched).length&&e.preventDefault()})),Object(yt.jsxs)("div",{className:Br.a.container,children:[Object(yt.jsxs)("form",{onSubmit:m.handleSubmit,className:Br.a.form,children:[Object(yt.jsx)(bn,{name:"name",formik:m,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:a}),Object(yt.jsx)(pn,{name:"authors",formik:m,label:"\u0410\u0432\u0442\u043e\u0440\u044b",disabled:a}),Object(yt.jsx)(xn,{name:"logo",formik:m,label:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(yt.jsx)(bn,{name:"publisher",formik:m,label:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043f\u0430\u043a\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:a}),Object(yt.jsx)(mn,{name:"difficulty",label:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c",formik:m,disabled:a,step:1,min:1,max:10}),Object(yt.jsx)(fn,{name:"language",formik:m,label:"\u042f\u0437\u044b\u043a \u043f\u0430\u043a\u0430",options:{"":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e","ru-RU":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (ru-RU)","en-US":"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 (en-US)"},disabled:a}),Object(yt.jsx)(bn,{name:"comment",formik:m,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:a}),Object(yt.jsx)(pn,{name:"tags",options:l,formik:m,label:"\u0422\u0435\u0433\u0438 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:a}),Object(yt.jsx)(hn,{name:"over18",formik:m,label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 18+",disabled:a}),Object(yt.jsx)(Ke.a,{color:"primary",variant:"contained",type:"submit",disabled:!Object.keys(m.touched).length||a,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(yt.jsx)(o.a,{when:Object.keys(m.touched).length&&!a,message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439?"}),Object(yt.jsx)("div",{className:Br.a.info,children:Object(yt.jsxs)("ul",{children:[Object(yt.jsxs)("li",{children:["\u0412\u0435\u0440\u0441\u0438\u044f XML \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430: ",Object(yt.jsx)("span",{children:v})]}),Object(yt.jsxs)("li",{children:["\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435: ",Object(yt.jsx)("span",{children:g})]}),Object(yt.jsxs)("li",{children:["\u0412\u0435\u0440\u0441\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430: ",Object(yt.jsx)("span",{children:e.pack.version})]}),Object(yt.jsxs)("li",{children:["UUID: ",Object(yt.jsx)("span",{children:e.pack.uuid})]}),Object(yt.jsxs)("li",{children:["\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",Object(yt.jsx)("span",{children:e.pack.date})]})]})})]})})),zr=n(257),Mr=n.n(zr),Wr=n(258),Hr=n.n(Wr);function Gr(){return Object(yt.jsx)("div",{className:Hr.a.centered,children:Object(yt.jsx)(Ve.a,{variant:"h1",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})}var Vr=n(49),Kr=n.n(Vr),Yr=n(540),Jr=n(541),Qr=n(543),Xr=n(544),Zr=n(542),$r=n(534),ec=n(504);function tc(e){var t=Object(o.j)().url;return Object(yt.jsx)(Yr.a,{component:$r.a,className:Kr.a.table,children:Object(yt.jsx)(Jr.a,{children:Object(yt.jsx)(Zr.a,{children:e.themes.map((function(e,n){return Object(yt.jsxs)(Qr.a,{sx:{"&:last-child td, &:last-child th":{borderBottom:0}},children:[Object(yt.jsx)(Xr.a,{component:"th",scope:"row",className:Kr.a.rowName,children:e.name}),e.questions.length?e.questions.map((function(e,a){return Object(yt.jsx)(Xr.a,{className:Kr.a.tableCell,children:Object(yt.jsx)(i.b,{to:"".concat(t,"/themes/").concat(n+1,"/questions/").concat(e.price),children:Object(yt.jsx)(ec.a,{className:Kr.a.buttonBase,children:e.price})})},a)})):Object(yt.jsx)(Xr.a,{align:"right",colspan:"1000",children:Object(yt.jsx)(Ve.a,{color:"text.secondary",variant:"caption",children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"})})]},n)}))})})})}var nc=n(554);function ac(e){return Object(yt.jsx)(Xr.a,{align:"right",style:{width:e.wp/26*100+"%"},children:e.children})}var rc=Object(Oe.b)(st)((function(e){var t=Object(o.g)(),n=Object(o.j)(),a=Object(o.i)(),c=r.a.useRef(),s=r.a.useContext(kt),l=e.theme.questions.sort((function(e,t){return e.price-t.price})),b="".concat(n.url,"/themes/").concat(e.themeIndex+1,"/questions"),p={sx:{"&:last-child td, &:last-child th":{border:0}}},f={component:"th",scope:"row"},h=function(){var t=Object(j.a)(d.a.mark((function t(n){var r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.roundIndex-1,s=e.themeIndex,c.current.confirmDeleteQuestion(r,s,n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(e){return function(t){s.open(t,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(yt.jsx)(Ze.d,{}),action:function(){return h(e)}}])}};return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Yr.a,{children:Object(yt.jsxs)(Jr.a,{sx:{minWidth:650},children:[Object(yt.jsx)(nc.a,{children:Object(yt.jsxs)(Qr.a,{children:[Object(yt.jsx)(Xr.a,{children:"\u0426\u0435\u043d\u0430"}),Object(yt.jsx)(ac,{wp:10,children:"\u0422\u0435\u043a\u0441\u0442"}),Object(yt.jsx)(ac,{wp:9,children:"\u041e\u0442\u0432\u0435\u0442\u044b"}),Object(yt.jsx)(ac,{wp:4,children:"\u0412\u0438\u0434 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"}),Object(yt.jsx)(ac,{wp:1,children:Object(yt.jsx)(Ze.m,{})}),Object(yt.jsx)(ac,{wp:1,children:Object(yt.jsx)(Ze.p,{})}),Object(yt.jsx)(ac,{wp:1,children:Object(yt.jsx)(Ze.t,{})})]})}),Object(yt.jsx)(Zr.a,{children:l.length?l.map((function(e,n){var a,r,c,s,i,o,l,d,j;return Object(yt.jsxs)(Qr.a,Object(u.a)(Object(u.a)({hover:!0,onClick:(j=e.price,function(){return t.push("".concat(b,"/").concat(j))}),className:Kr.a.tableRow,onContextMenu:m(e.price)},p),{},{children:[Object(yt.jsx)(Xr.a,Object(u.a)(Object(u.a)({},f),{},{children:e.price})),Object(yt.jsx)(ac,{wp:10,children:null===(a=e.scenario)||void 0===a?void 0:a.filter((function(e){return"text"===e.type})).map((function(e){return e.data.text})).join(", ")}),Object(yt.jsxs)(ac,{wp:10,children:[null===(r=e.correctAnswers)||void 0===r?void 0:r.map((function(e,t,n){return Object(yt.jsxs)("span",{children:[e,t!==n.length-1&&", "]},t)})),(null===(c=e.incorrectAnswers)||void 0===c?void 0:c.length)&&", ",null===(s=e.incorrectAnswers)||void 0===s?void 0:s.map((function(e,t,n){return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("span",{className:Kr.a.strikethrough,children:e},t),t!==n.length-1&&", "]})}))]}),Object(yt.jsx)(ac,{wp:3,children:(d=e.type,it[d]||d)}),Object(yt.jsx)(ac,{wp:1,children:(null===(i=e.scenario)||void 0===i?void 0:i.some((function(e){return"image"===e.type})))&&Object(yt.jsx)(Ze.e,{})}),Object(yt.jsx)(ac,{wp:1,children:(null===(o=e.scenario)||void 0===o?void 0:o.some((function(e){return"audio"===e.type})))&&Object(yt.jsx)(Ze.e,{})}),Object(yt.jsx)(ac,{wp:1,children:(null===(l=e.scenario)||void 0===l?void 0:l.some((function(e){return"movie"===e.type})))&&Object(yt.jsx)(Ze.e,{})})]}),n)})):Object(yt.jsx)(Qr.a,Object(u.a)(Object(u.a)({},p),{},{children:Object(yt.jsx)(Xr.a,Object(u.a)(Object(u.a)({},f),{},{colSpan:7,children:Object(yt.jsx)(Ve.a,{color:"text.secondary",variant:"caption",children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"})}))}))})]})}),Object(yt.jsx)(i.b,{to:"".concat(b,"/add"),children:Object(yt.jsx)(Ke.a,{color:"primary",startIcon:Object(yt.jsx)(Ze.a,{}),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"})}),Object(yt.jsx)(da,{ref:c})]})})),cc=n(513),sc=n(549),ic=n(550),oc=function(e){return Object(yt.jsx)("div",Object(u.a)(Object(u.a)({onClick:function(e){return e.stopPropagation()}},e),{},{children:e.children}))};oc.displayName="ClickIsolator";var uc=oc;var lc=Object(Oe.b)(st)((function(e){var t=e.item,n=e.draggableId===e.expandId,a=r.a.useState(t.name),c=Object(b.a)(a,2),s=c[0],i=c[1],o=function(t){t.stopPropagation(),e.handleRemoveTheme(e.index)},u=function(t){var n=t.target.value;i(n),e.handleChangeThemeName(e.index,n)};return Object(yt.jsx)(lr,{index:e.index,draggableId:t.id.toString(),children:function(a){return Object(yt.jsxs)(cc.a,{expanded:n,onChange:function(n,a){return e.setExpand(a?t.id:void 0)},children:[Object(yt.jsx)(sc.a,{expandIcon:Object(yt.jsx)(Ze.i,{}),children:Object(yt.jsxs)("div",{className:Kr.a.toolbar,children:[Object(yt.jsx)(br,{provided:a}),Object(yt.jsx)(uc,{className:Kr.a.name,children:Object(yt.jsx)(De.a,{value:s,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b",variant:"outlined",onChange:u,size:"small",fullWidth:!0})}),Object(yt.jsx)(Qe.a,{onClick:o,className:Kr.a.delete,children:Object(yt.jsx)(Ze.d,{className:Kr.a.delete})})]})}),Object(yt.jsx)(ic.a,{children:Object(yt.jsx)(rc,{theme:t,themeIndex:e.index})})]})}})}));function dc(e){return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(kr,{droppableId:"themes",onDragEnd:e.onDragEnd,list:e.themes,draggableProps:{setExpand:e.setExpand,handleRemoveTheme:e.handleRemoveTheme,handleChangeThemeName:e.handleChangeThemeName,expandId:e.expand},noItemsLabel:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u043c",itemComponent:lc,useIdAsKey:!0}),Object(yt.jsx)(gr,{onAdd:e.handleAddTheme,inputLabel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043c\u0443",className:Kr.a.addTheme})]})}var jc=Object(Oe.b)(st)((function(e){var t=r.a.useState([]),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),u=i[0],l=i[1],p=Object(o.h)().pathname.split(new RegExp("/pack/".concat(_,"/rounds/")),2)[1],f=r.a.useState(),h=Object(b.a)(f,2),m=h[0],x=h[1],O=r.a.useState(!1),v=Object(b.a)(O,2),g=v[0],y=v[1],k=e.pack.rounds[p-1];r.a.useEffect((function(){l(!!k)}),[]);var w=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(S.a)(a)).push({name:t,id:Date.now(),questions:[]}),N(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(n),(a=Mr()(e.pack)).rounds[p-1].themes=n,t.next=5,P(a);case 5:e.dispatch({type:"pack/load",pack:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.useEffect((function(){return k&&c(k.themes)}),[k.themes]),void 0!==u&&(u?Object(yt.jsxs)("div",{children:[Object(yt.jsx)(Nr,{showButton:Boolean(a.length),onSwitch:function(){return y(!g)},editing:g,heading:"\u0422\u0435\u043c\u044b \u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0440\u0430\u0443\u043d\u0434\u0430 ".concat(k.name)}),a.length&&!g?Object(yt.jsx)(tc,{themes:a}):Object(yt.jsx)(dc,{themes:a,onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(b.a)(r,1)[0];return a.splice(n,0,c),a}(a,e.source.index,e.destination.index);N(t)}},expand:m,setExpand:x,setEditing:y,handleAddTheme:w,handleRemoveTheme:function(e){var t=Object(S.a)(a);t.splice(e,1),N(t)},handleChangeThemeName:function(e,t){var n=Object(S.a)(a);n[e].name=t,N(n)}})]}):Object(yt.jsx)(Gr,{}))})),bc=n(32),pc=n.n(bc),fc=Object(yt.jsxs)("p",{children:[Object(yt.jsx)("b",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"})," \u2014 \u044d\u0442\u043e \u0447\u0438\u0441\u043b\u043e \u043e\u0447\u043a\u043e\u0432, \u043e\u0431\u044b\u0447\u043d\u043e \u043a\u0440\u0430\u0442\u043d\u043e\u0435 100, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0438 \u0442\u0435\u0440\u044f\u0435\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 (\u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0412\u043e\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0440\u0438\u0441\u043a\u0430). \u042d\u0442\u043e \u0447\u0438\u0441\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0440\u0430\u0443\u043d\u0434\u0430."]}),hc=Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsxs)("p",{children:[Object(yt.jsx)("b",{children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439"})," \u2014 \u042d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f, \u0437\u0430\u0442\u0435\u043c \u0443 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0435\u0441\u0442\u044c \u0432\u0440\u0435\u043c\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443. \u041d\u0430\u0436\u0430\u0432\u0448\u0438\u0439 \u0440\u0430\u043d\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u0441\u0447\u0451\u0442\u0443 \u0438\u0433\u0440\u043e\u043a\u0430, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e - \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0441\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441\u043e \u0441\u0447\u0451\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0441\u043d\u043e\u0432\u0430 \u043c\u043e\u0433\u0443\u0442 \u0436\u0430\u0442\u044c \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0432\u0448\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438."]}),Object(yt.jsxs)("p",{children:[Object(yt.jsx)("b",{children:"\u0421\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 (\u0430\u0443\u043a\u0446\u0438\u043e\u043d)"})," \u2014 \u041f\u0440\u0438 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f \u0441\u0443\u043c\u043c (\u043d\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0442\u043e\u0433\u043e, \u043a\u043e\u043c\u0443 \u0432\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u0441\u0442\u0430\u043b\u0441\u044f), \u0434\u0435\u043b\u0430\u044e\u0442 \u0441\u0442\u0430\u0432\u043a\u0438, \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0440\u0430\u0432\u043d\u0430 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u041c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c \xab\u041f\u0430\u0441\xbb \u0438 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0442\u043e\u0440\u0433\u043e\u0432. \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u0439\u0442\u0438 \xab\u0432\u0430-\u0431\u0430\u043d\u043a\xbb \u2014 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0441\u0451 \u043d\u0430 \u043a\u043e\u043d. \u0412\u0430-\u0431\u0430\u043d\u043a \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u043d\u043e \u043f\u043e\u0439\u0442\u0438 \u0432\u0430-\u0431\u0430\u043d\u043a \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u044f \u043f\u043e \u0441\u0443\u043c\u043c\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443. \u0422\u043e\u0442, \u043a\u0442\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445, \u0431\u0443\u0434\u0435\u0442 \u0435\u0434\u0438\u043d\u0438\u043b\u0438\u0447\u043d\u043e \u0438\u0433\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f. \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0440\u0430\u0432\u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0433\u0440\u0430\u044e\u0449\u0435\u0433\u043e."]}),Object(yt.jsxs)("p",{children:[Object(yt.jsx)("b",{children:"\u0421 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c"})," \u2014 \u0422\u043e\u0442, \u043a\u043e\u043c\u0443 \u0434\u043e\u0441\u0442\u0430\u043b\u0441\u044f \u0432\u043e\u043f\u0440\u043e\u0441, \u043e\u0431\u044f\u0437\u0430\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0431\u044f\u0437\u0430\u043d \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u0412\u043e\u043f\u0440\u043e\u0441 \u0438\u043c\u0435\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0443\u044e \u0434\u043e \u043e\u0442\u0434\u0430\u0447\u0438."]}),Object(yt.jsxs)("p",{children:[Object(yt.jsx)("b",{children:"\u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435"})," \u2014 \u041d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 1 \u0447\u0435\u043b\u043e\u0432\u0435\u043a. \u041e\u0442\u0432\u0435\u0447\u0430\u044e\u0449\u0435\u0433\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438\u0433\u0440\u043e\u043a. \u0423 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0442\u0435\u043c\u0430 \u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c."]}),Object(yt.jsxs)("p",{children:[Object(yt.jsx)("b",{children:"\u0411\u0435\u0437 \u0440\u0438\u0441\u043a\u0430"})," \u2014 \u041d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0433\u0440\u043e\u043a, \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0438\u0439 \u0435\u0433\u043e. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u043d \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u0443\u043c\u043c\u0443, \u0440\u0430\u0432\u043d\u0443\u044e \u0443\u0434\u0432\u043e\u0435\u043d\u043d\u043e\u043c\u0443 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u043d \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0442\u0435\u0440\u044f\u0435\u0442."]})]}),mc=Object(yt.jsx)("p",{children:"\u0420\u0430\u043d\u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0442\u0435\u043c\u0430\u043c\u0438, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438\u0448\u044c \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c \u0438 \u043a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435."}),xc=Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("p",{children:"\u0420\u0430\u043d\u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0442\u0435\u043c\u0430\u043c\u0438, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438\u0448\u044c \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c \u0438 \u043a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435."}),Object(yt.jsx)("p",{children:"\u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u043b\u0435 \u0448\u0430\u0433, \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0430 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430."})]}),Oc="\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0442\u0435\u043c\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u2014 \u044d\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0430, \u0435\u0435 \u0443\u0437\u043d\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e. \u0412\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u0442\u0435\u043c\u0443, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0432 \u044d\u0442\u043e\u043c \u043f\u043e\u043b\u0435.",vc=Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)("p",{children:"\u0423 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \xab\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\xbb, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430, \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0438 \u043e\u0442 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0440\u0430\u0443\u043d\u0434\u0430."}),Object(yt.jsxs)("p",{children:["\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0438\u043b\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435",Object(yt.jsx)("b",{children:"\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),", \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0435 \u043d\u0438\u0436\u0435."]}),Object(yt.jsx)("p",{children:"\u0412\u043e \u0432\u0442\u043e\u0440\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u043c, \u043d\u0430 \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0434\u0430\u0435\u0442\u0441\u044f \u0434\u0432\u0430 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430: \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0430\u044f \u0438 \u043d\u0430\u0438\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0437 \u0432\u0441\u0435\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0440\u0430\u0443\u043d\u0434\u0435."}),Object(yt.jsx)("p",{children:"\u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u044d\u0442\u043e \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0432 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c \u0432\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0432\u0430\u043c\u0438 \u0448\u0430\u0433\u043e\u043c. \u0415\u0441\u043b\u0438 \u0448\u0430\u0433 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d, \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u0440\u0430\u0439\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),gc=Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsxs)("p",{children:["\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0435\u0441\u0442\u044c ",Object(yt.jsx)("b",{children:"\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})," \u2014 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0439 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u2014 \u0442\u0435\u043a\u0441\u0442\u0430, \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u0430\u0443\u0434\u0438\u043e \u0438\u043b\u0438 \u0432\u0438\u0434\u0435\u043e, \u0442\u0435\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e 100 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 \u043e\u0434\u0438\u043d \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439."]}),Object(yt.jsxs)("p",{children:['\u041e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441 \u044d\u0442\u043e \u0432\u0441\u0435\u0433\u0434\u0430 \u0441\u0442\u0440\u043e\u043a\u0430, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043d\u0435\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0438\u043b\u0438 \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u0442\u044c \u0437\u0432\u0443\u043a/\u0432\u0438\u0434\u0435\u043e, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043c\u0430\u0440\u043a\u0435\u0440 "',Object(yt.jsx)("i",{children:"[\u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442]"}),'", \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439, \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0439\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e\u0442 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0431\u0435\u0437 \u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0438 \u0442\u0430\u043a\u0436\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u0443\u0437\u043d\u0430\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442.']})]}),yc=n(259);function kc(e){return Object(yt.jsxs)("div",{className:pc.a.hint,children:[e.children,Object(yt.jsx)(gn.a,{title:e.hint,children:Object(yt.jsx)(Qe.a,{children:Object(yt.jsx)(yc.a,{})})})]})}function _c(e){var t=e.formik,n=e.submitting,a={formik:t,disabled:n},r=Object(u.a)(Object(u.a)({},a),{},{type:"number",InputProps:{inputProps:{min:0,max:4294967295}}});return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Ve.a,{variant:"h6",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0435"}),Object(yt.jsx)(kc,{hint:fc,children:Object(yt.jsx)(bn,Object(u.a)({name:"price",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},r))}),Object(yt.jsx)(kc,{hint:hc,children:Object(yt.jsx)(fn,Object(u.a)({name:"type",label:"\u0422\u0438\u043f \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:it},a))}),"cat"===t.values.type&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(kc,{hint:mc,children:Object(yt.jsx)(bn,Object(u.a)({name:"realprice",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},r))}),Object(yt.jsx)(kc,{hint:Oc,children:Object(yt.jsx)(bn,Object(u.a)({name:"realtheme",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0442\u0435\u043c\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},a))})]}),"bagcat"===t.values.type&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(kc,{hint:Oc,children:Object(yt.jsx)(bn,Object(u.a)({name:"realtheme",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0442\u0435\u043c\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},a))}),Object(yt.jsx)(kc,{hint:vc,children:Object(yt.jsx)(fn,Object(u.a)({name:"questionPriceType",label:"\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:{fixed:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432\u0430\u043c\u0438",minMax:"\u0412\u044b\u0431\u043e\u0440\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0430 \u0438\u0437 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0430 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0440\u0430\u0443\u043d\u0434\u0435",byPlayer:"\u0418\u0433\u0440\u043e\u043a\u043e\u043c \u0432 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0430\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u0438 \u0448\u0430\u0433\u043e\u043c"}},a))}),"fixed"===t.values.questionPriceType&&Object(yt.jsx)(kc,{hint:mc,children:Object(yt.jsx)(bn,Object(u.a)({name:"realprice",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},r))}),"byPlayer"===t.values.questionPriceType&&Object(yt.jsx)(kc,{hint:xc,children:Object(yt.jsxs)("div",{className:pc.a.grouped,children:[Object(yt.jsx)(bn,Object(u.a)({name:"realpriceFrom",label:"\u041e\u0442"},r)),Object(yt.jsx)(bn,Object(u.a)({name:"realpriceTo",label:"\u0414\u043e"},r)),Object(yt.jsx)(bn,Object(u.a)({name:"realpriceStep",label:"\u0428\u0430\u0433"},r))]})})]}),"bagcat"===t.values.type&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(hn,Object(u.a)({name:"transferToSelf",label:"\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0441\u0435\u0431\u0435"},a)),Object(yt.jsx)(kc,{hint:Object(yt.jsxs)("p",{children:["\u0415\u0441\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d \u0432\u0430\u0440\u0438\u0430\u043d\u0442 ",Object(yt.jsx)("b",{children:"\u041d\u0438\u043a\u043e\u0433\u0434\u0430"}),", \u0442\u043e \u0432\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f, \u0438\u0433\u0440\u043e\u043a\u0443 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"]}),children:Object(yt.jsx)(fn,Object(u.a)({name:"detailsDisclosure",label:"\u041a\u043e\u0433\u0434\u0430 \u0443\u0437\u043d\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438 \u0442\u0435\u043c\u0430",options:{before:"\u0414\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",after:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",never:"\u041d\u0438\u043a\u043e\u0433\u0434\u0430"}},a))})]}),Object(yt.jsx)(Ve.a,{variant:"h6",children:"\u041e\u0442\u0432\u0435\u0442\u044b"}),Object(yt.jsx)(pn,{name:"correctAnswers",formik:t,label:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b",disabled:n}),Object(yt.jsx)(pn,{name:"incorrectAnswers",formik:t,label:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:n})]})}var wc=n(260),Nc=n.n(wc),Sc=n(491);function Rc(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),o=i[0],u=i[1],l=r.a.useState(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],f=function(t){t.stopPropagation(),e.onDelete(e.index)};r.a.useEffect((function(){void 0!==e.index&&void 0!==a&&e.onChangeDuration(e.index,a)}),[a]),r.a.useEffect((function(){var t=e.scenario[e.index],n=t.data,r=t.duration;!o&&u(n),!a&&c(r)}),[e.scenario]),r.a.useEffect((function(){return o&&requestAnimationFrame((function(){return e.onChangeData(e.index,o)}))}),[o]);var h=new Array(10).fill().map((function(e,t){return new Nc.a(.1).times(t+1).toNumber()})),m=new Array(18).fill().map((function(e,t){return 1+.5*(t+1)})),x=new Array(20).fill().map((function(e,t){return 11+t})),O=new Array(6).fill().map((function(e,t){return 30+5*(t+1)})),v=[].concat(Object(S.a)(h),Object(S.a)(m),Object(S.a)(x),Object(S.a)(O)).map((function(e,t){return{_label:e,value:t}})),g=function(e,t){t=t.map((function(e){return e._label}));for(var n=0;n<t.length;n++)if(t[n]<=e&&t[n+1]>e)return n;return e};return Object(yt.jsx)(lr,{index:e.index,draggableId:e.draggableId.toString(),children:function(t){var n,r;return Object(yt.jsxs)(cc.a,{expanded:j,onChange:function(e,t){return p(t)},children:[Object(yt.jsx)(sc.a,{expandIcon:Object(yt.jsx)(Ze.i,{}),children:Object(yt.jsxs)("div",{className:pc.a.item,children:[Object(yt.jsx)(br,{provided:t}),Object(yt.jsxs)(Ve.a,{variant:"body1",className:pc.a.itemType,children:[null!==(n={image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",voice:"\u0410\u0443\u0434\u0438\u043e",video:"\u0412\u0438\u0434\u0435\u043e",text:"\u0422\u0435\u043a\u0441\u0442",say:"\u0421\u043b\u043e\u0432\u043e \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e",marker:Object(yt.jsx)("i",{children:"[\u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442]"})}[e.item.type])&&void 0!==n?n:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \xab".concat(e.item.type,"\xbb"),Object(yt.jsx)("span",{className:pc.a.spacing}),{image:Object(yt.jsx)(Ze.m,{}),voice:Object(yt.jsx)(Ze.p,{}),video:Object(yt.jsx)(Ze.t,{}),text:Object(yt.jsx)(Ze.s,{}),say:Object(yt.jsx)(Ze.q,{})}[e.item.type]]}),"marker"!==e.item.type&&Object(yt.jsx)(Sc.a,{in:!j,children:Object(yt.jsx)(Ve.a,{variant:"body2",color:"text.secondary",children:(r=e.item.duration,"".concat(r.toFixed(1)," c\u0435\u043a."))})}),Object(yt.jsx)(Qe.a,{onClick:f,className:pc.a.delete,children:Object(yt.jsx)(Ze.d,{className:pc.a.delete})})]})}),Object(yt.jsx)(ic.a,{children:Object(yt.jsxs)("div",{className:pc.a.details,children:["marker"!==e.item.type&&Object(yt.jsxs)("div",{className:pc.a.duration,children:[Object(yt.jsx)(ze.a,{defaultValue:v.find((function(e){return 3===e._label})).value,step:null,marks:v,min:v[0].value,max:v[v.length-1].value,valueLabelDisplay:"off",valueLabelFormat:function(e){return v[e]._label},value:void 0!==a&&g(a,v),onChange:function(e){return requestAnimationFrame((function(){return c(v[e.target.value]._label)}))}}),Object(yt.jsx)(De.a,{label:"\u0412\u0440\u0435\u043c\u044f",variant:"outlined",size:"small",type:"number",InputProps:{inputProps:{min:.1,step:.1}},className:pc.a.time,value:a,onChange:function(e){return c(Number(e.target.value))}})]}),{text:Object(yt.jsx)(De.a,{value:null===o||void 0===o?void 0:o.text,onChange:function(e){return u({text:e.target.value})},label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",multiline:!0,rows:4,fullWidth:!0}),image:Object(yt.jsx)(rn,{value:null===o||void 0===o?void 0:o.imageField,onChange:function(e){return u({imageField:e})},label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),say:Object(yt.jsx)(De.a,{value:null===o||void 0===o?void 0:o.say,onChange:function(e){return u({say:e.target.value})},label:"\u0424\u0440\u0430\u0437\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043f\u0440\u043e\u0438\u0437\u043d\u043e\u0441\u0438\u0442 \u0432\u0435\u0434\u0443\u0449\u0438\u0439",multiline:!0,rows:4,fullWidth:!0}),marker:Object(yt.jsx)(Ve.a,{variant:"caption",children:"\u0412\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0438\u0434\u0443\u0449\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0438\u0433\u0440\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430."})}[e.item.type]]})})]})}})}var Cc=["formik"],Ic=r.a.forwardRef((function(e,t){var n=e.formik,a=Object(Ue.a)(e,Cc),c=r.a.useState([]),s=Object(b.a)(c,2),i=s[0],l=s[1],p=r.a.useState(""),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState(),O=Object(b.a)(x,2),v=O[0],g=O[1],y=Object(o.i)(),k=y.roundIndex,_=y.questionPrice,w=a.pack.rounds[k-1].themes[y.themeIndex-1].questions,N=w[w.findIndex((function(e){return e.price===Number(_)}))];r.a.useEffect((function(){return N.scenario&&l(N.scenario)}),[]),r.a.useEffect((function(){clearTimeout(v);var e=setTimeout((function(){return R(i)}),1e3);g(e)}),[i]),r.a.useImperativeHandle(t,(function(){return{getScenario:function(){return clearTimeout(v),i}}}));var R=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)({},ke.getState().pack),a=y.roundIndex-1,r=n.rounds[a].themes[y.themeIndex-1].questions,r[r.findIndex((function(e){return e.price===Number(_)}))].scenario=t,e.next=7,P(n);case 7:ke.dispatch({type:"pack/load",pack:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(yt.jsxs)("div",{className:pc.a.scenario,children:[Object(yt.jsx)(kc,{hint:gc,children:Object(yt.jsx)(Ve.a,{variant:"h6",children:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})}),Object(yt.jsx)(kr,{droppableId:"scenario",onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(b.a)(r,1)[0];return a.splice(n,0,c),a}(i,e.source.index,e.destination.index);l(t)}},list:i,draggableProps:{onDelete:function(e){var t=Object(S.a)(i);t.splice(e,1),l(t)},formik:n,onChangeDuration:function(e,t){var n=Object(S.a)(i);n[e].duration=t,l(n)},onChangeData:function(e,t){var n=Object(S.a)(i);n[e].data=t,l(n)},scenario:i},noItemsLabel:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u0443\u0441\u0442",itemComponent:Rc}),i.length<100&&Object(yt.jsxs)("div",{className:pc.a.addEvent,children:[Object(yt.jsxs)(Be.a,{fullWidth:!0,children:[Object(yt.jsx)(Te.a,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"}),Object(yt.jsxs)(Ee.a,{name:name,value:h,onChange:function(e){return m(e.target.value)},label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435",displayEmpty:!0,children:[Object(yt.jsx)(Pe.a,{value:"text",children:"\u0422\u0435\u043a\u0441\u0442 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435"}),Object(yt.jsx)(Pe.a,{value:"say",children:"\u0421\u043b\u043e\u0432\u043e \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e"}),Object(yt.jsx)(Pe.a,{value:"image",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(yt.jsx)(Pe.a,{value:"voice",children:"\u0410\u0443\u0434\u0438\u043e"}),Object(yt.jsx)(Pe.a,{value:"video",children:"\u0412\u0438\u0434\u0435\u043e"}),Object(yt.jsx)(Pe.a,{value:"marker",children:Object(yt.jsx)("i",{children:"[\u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442]"})})]})]}),Object(yt.jsx)(Qe.a,{onClick:function(){m(""),l([].concat(Object(S.a)(i),[{type:h,duration:3,data:{}}]))},disabled:!h,children:Object(yt.jsx)(Ze.a,{})})]}),Object(yt.jsx)(Ve.a,{variant:"body2",color:"text.secondary",children:"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})]})}));Ic.displayName="Scenario";var Uc=Object(Oe.b)(st,null,null,{forwardRef:!0})(Ic);function Dc(){return Object(yt.jsxs)("div",{className:pc.a.scenario,children:[Object(yt.jsx)(kc,{hint:gc,children:Object(yt.jsx)(Ve.a,{variant:"h6",children:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})}),Object(yt.jsx)(Ve.a,{variant:"body2",color:"text.secondary",children:"\u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"})]})}var Fc=vn.c().integer().min(1,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0").max(4294967295),Pc=vn.d({price:Fc.required("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),realprice:Fc,realtheme:vn.e(),type:vn.e().required("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),transferToSelf:vn.b(),detailsDisclosure:vn.e(),realpriceFrom:vn.c(),realpriceTo:vn.c(),realpriceStep:vn.c(),correctAnswers:vn.a().ensure().min(1,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442").required("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"),incorrectAnswers:vn.a().ensure()});var Ec=Object(Oe.b)(st)((function(e){var t=Object(o.g)(),n=Object(o.i)(),a=n.roundIndex,c=n.questionPrice,s=e.pack.rounds[a-1].themes[n.themeIndex-1].questions,i="add"===c,l=r.a.useRef(),b=ot(Pc,i?Object(u.a)(Object(u.a)({},e.data),{},{price:function(e){return 0===e.length?100:function(){for(var t,n=1;n<e.length;n++){var a=e[n].price-e[n-1].price;if(void 0!==t&&t!==a)return;t=a}return e[e.length-1].price+t}()||e[e.length-1].price+100}(s)}):e.data),p=Object(On.a)({initialValues:b,validate:function(t){return function(e,t,n){var a,r=Object(S.a)(t.pack.rounds[n.roundIndex-1].themes[n.themeIndex-1].questions),c={};e.price!==(null===(a=t.data)||void 0===a?void 0:a.price)&&r.some((function(t){return t.price===e.price}))&&(c.price="\u0412\u043e\u043f\u0440\u043e\u0441 \u0441 \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u0435");var s=function(){i("realprice","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0")},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0";void 0===e[t]||""===e[t]?c[t]=n:0===e[t]&&(c[t]=a)};switch(e.type){case"cat":s();break;case"bagcat":if(e.questionPriceType)switch(e.questionPriceType){case"fixed":s();break;case"byPlayer":["realpriceFrom","realpriceTo"].forEach(i),0===e.realpriceStep&&(c.realpriceStep="\u0428\u0430\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u0435\u043d 0")}else c.questionPriceType="\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430";e.detailsDisclosure||(c.detailsDisclosure="\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u043e\u043c\u0435\u043d\u0442, \u043a\u043e\u0433\u0434\u0430 \u0443\u0437\u043d\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430")}return c}(t,e,n)},validationSchema:Pc,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var r=Object(j.a)(d.a.mark((function r(s,o){var j,b,p,f,h;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return j=o.resetForm,b=Object(u.a)({},e.pack),p=n.themeIndex,f=i?Object(u.a)({},s):Object(u.a)(Object(u.a)(Object(u.a)({},e.data),s),{},{scenario:l.current.getScenario()}),h=b.rounds[a-1].themes[p-1].questions,i?h.push(f):h[h.findIndex((function(e){return e.price===Number(c)}))]=f,h=h.sort((function(e,t){return e.price-t.price})),r.next=9,P(b);case 9:return e.dispatch({type:"pack/load",pack:b}),r.next=12,t.push("/pack/".concat(b.uuid,"/rounds/").concat(a,"/themes/").concat(p,"/questions/").concat(f.price));case 12:j({values:s});case 13:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}),f=p.isSubmitting;return Object(Tr.a)((function(e){Object.keys(p.touched).length&&e.preventDefault()})),Object(yt.jsxs)("div",{className:pc.a.container,children:[Object(yt.jsxs)("form",{onSubmit:p.handleSubmit,className:pc.a.form,children:[Object(yt.jsx)(_c,{formik:p,submitting:f}),Object(yt.jsx)(Ke.a,{color:"primary",variant:"contained",type:"submit",disabled:!i&&!Object.keys(p.touched).length||f,className:pc.a.submit,children:i?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),i?Object(yt.jsx)(Dc,{}):Object(yt.jsx)(Uc,{formik:p,submitting:p.isValidating||f,ref:l}),Object(yt.jsx)(o.a,{when:Object.keys(p.touched).length&&!f,message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439?"})]})}));var Bc=Object(Oe.b)(st)((function(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),u=i[0],l=i[1],d=Object(o.i)();return r.a.useEffect((function(){var t=e.pack;if(!t)return c(!0);var n=t.rounds[d.roundIndex-1];if(!n)return c(!0);var a=n.themes[d.themeIndex-1];if(!a)return c(!0);if("add"!==d.questionPrice){var r=a.questions.find((function(e){return e.price===Number(d.questionPrice)}));if(!r)return c(!0);l(r)}c(!1)}),[d]),void 0!==a&&(a?Object(yt.jsx)(Gr,{}):Object(yt.jsx)(Ec,{data:u}))}));var Tc=Object(Oe.b)(st)((function(e){var t=Object(o.j)().path;return e.pack&&("notFound"===e.pack?Object(yt.jsx)(Gr,{}):Object(yt.jsxs)("div",{className:Aa.a.container,children:[Object(yt.jsxs)("div",{className:Aa.a.toolbar,children:[Object(yt.jsx)(Ma,{}),Object(yt.jsx)(Za,{})]}),Object(yt.jsxs)(o.d,{children:[Object(yt.jsx)(o.b,{exact:!0,path:t,children:Object(yt.jsx)(Pr,{})}),Object(yt.jsx)(o.b,{path:"".concat(t,"/settings"),children:Object(yt.jsx)(Lr,{})}),Object(yt.jsx)(o.b,{path:"".concat(t).concat("/rounds/:roundIndex/themes/:themeIndex/questions/:questionPrice"),children:Object(yt.jsx)(Bc,{})}),Object(yt.jsx)(o.b,{path:"".concat(t,"/rounds/:roundIndex"),children:Object(yt.jsx)(jc,{})}),Object(yt.jsx)(o.b,{path:"*",children:Object(yt.jsx)(Gr,{})})]})]}))})),qc=n(261),Ac=n.n(qc);var Lc=Object(Oe.b)(null)((function(e){var t=Object(o.h)();r.a.useEffect((function(){n(t.pathname.split("/").filter(String))}),[t]);var n=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pack"!==n[0]){t.next=6;break}return a=n[1],t.next=4,I(a);case 4:r=t.sent,e.dispatch({type:"pack/load",pack:null!==r&&void 0!==r?r:"notFound"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(yt.jsx)("div",{className:Ac.a.container,children:e.children})})),zc=(n(429),Object(ka.a)({palette:{mode:"dark",primary:{main:"#4248fb"}}}));function Mc(){return Object(yt.jsx)(Oe.a,{store:ke,children:Object(yt.jsx)(_a.a,{theme:zc,children:Object(yt.jsx)(i.a,{history:at,basename:"/SIPacker",children:Object(yt.jsx)(wt,{children:Object(yt.jsxs)(Lc,{children:[Object(yt.jsx)(Ua,{}),Object(yt.jsxs)(o.d,{children:[Object(yt.jsx)(o.b,{exact:!0,path:"/",children:Object(yt.jsx)(xa,{})}),Object(yt.jsx)(o.b,{path:"/create",children:Object(yt.jsx)(Ta,{})}),Object(yt.jsx)(o.b,{path:["/pack/:packUUID","/pack/:packUUID/*"],children:Object(yt.jsx)(Tc,{})}),Object(yt.jsx)(o.b,{path:"*",children:Object(yt.jsx)(Gr,{})})]})]})})})})})}var Wc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Hc(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(yt.jsx)(r.a.StrictMode,{children:Object(yt.jsx)(Mc,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){var t=new URL(".",window.location.href);if(t.origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Wc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Hc(e,t)})).catch((function(){}))}(t,e),navigator.serviceWorker.ready.then((function(){}))):Hc(t,e)}))}}()},49:function(e,t,n){e.exports={toolbar:"styles_toolbar__1W5Un",name:"styles_name__2RB5S",delete:"styles_delete__2ihaf",addTheme:"styles_addTheme__1hwa9",table:"styles_table__3es8F",rowName:"styles_rowName__1K8zb",tableCell:"styles_tableCell__1cve7",buttonBase:"styles_buttonBase__2kQLq",heading:"styles_heading__1IQEt",noItemsYet:"styles_noItemsYet__BxKD2",tableRow:"styles_tableRow__2jH6j",strikethrough:"styles_strikethrough__DFxi_"}},53:function(e,t,n){e.exports={preview:"styles_preview__1c-RF",list:"styles_list__23Py6",scrollable:"styles_scrollable__3k1zD",treeFile:"styles_treeFile__3SLo4",selected:"styles_selected__3fGtV",actions:"styles_actions__2btRo",file:"styles_file__3pnpZ",choose:"styles_choose__1YlZZ",fileInfo:"styles_fileInfo__2CMvt",versionsPreview:"styles_versionsPreview__1_68j",row:"styles_row__1nhqX",info:"styles_info__2J1yp",hint:"styles_hint__34-gG"}},64:function(e,t,n){e.exports={rounds:"styles_rounds__1ZZ2U",heading:"styles_heading__-ydFv",cardOfRound:"styles_cardOfRound__2AkoD",item:"styles_item__3E1HY",delete:"styles_delete__24Jnc",link:"styles_link__B9CM5",flex1:"styles_flex1__3-SY4",inputField:"styles_inputField__38y2T",droppable:"styles_droppable__25geG"}},70:function(e,t,n){e.exports={container:"styles_container__OqZ1N",label:"styles_label__VxlIK",preview:"styles_preview__2qqOY",image:"styles_image__29S6D",placeholder:"styles_placeholder__1vE4B",loading:"styles_loading__1wm-5",fileMissing:"styles_fileMissing__3t61m",icon:"styles_icon__345-2",info:"styles_info__1nl83"}},85:function(e){e.exports=JSON.parse('{"c":"","d":"/rounds/\\\\d+","e":"/settings","a":"/rounds/\\\\d+/themes/\\\\d+/questions/(\\\\d+|add)","b":"/rounds/\\\\d+/themes/\\\\d+/questions/\\\\d+"}')},86:function(e,t,n){e.exports={addItem:"styles_addItem__3dCij",addButton:"styles_addButton__3g9mJ",button:"styles_button__3ZegY",expand:"styles_expand__2-jSs",addButtonOuter:"styles_addButtonOuter__1y9QO"}},92:function(e,t,n){e.exports={buttons:"styles_buttons__Srfpa",delete:"styles_delete__1GXPK",warnings:"styles_warnings__3koJw"}}},[[430,1,2]]]);