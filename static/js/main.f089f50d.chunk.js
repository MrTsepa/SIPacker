(this.webpackJsonpsipacker=this.webpackJsonpsipacker||[]).push([[0],{112:function(e,t,n){e.exports={link:"styles_link__iWnvj",toolbar:"styles_toolbar__viJ4P",container:"styles_container__3KW9G"}},116:function(e,t,n){e.exports={buttons:"styles_buttons__Srfpa",delete:"styles_delete__1GXPK"}},136:function(e,t,n){e.exports={noItems:"styles_noItems__19dBE",handle:"styles_handle__DHO5p"}},147:function(e,t,n){e.exports={toolbar:"styles_toolbar__1dso8",text:"styles_text__16Cv2",hint:"styles_hint__2upGK"}},148:function(e,t,n){e.exports={container:"styles_container__1vfWp",form:"styles_form__LUKmR",info:"styles_info__1RrDx"}},178:function(e,t,n){e.exports={navigation:"styles_navigation__b3eL_",logoContainer:"styles_logoContainer__3hxi2",logo:"styles_logo__Triy9"}},179:function(e,t,n){e.exports={container:"styles_container__2Npq2",field:"styles_field__1Q5KE"}},20:function(e,t,n){e.exports={title:"styles_title__3sESC",dialog:"styles_dialog__2HYt8",tabs:"styles_tabs__3oGTF",files:"styles_files__gJLVp",filters:"styles_filters__1TEOe",text:"styles_text__3q7xF",checkbox:"styles_checkbox__2-7wb",list:"styles_list__QxZ1P",content:"styles_content__3DAbo",packDivider:"styles_packDivider__1eh-l",grid:"styles_grid__2YaAc",item:"styles_item__3OyXq",itemInner:"styles_itemInner__j4sTM",preview:"styles_preview__2vnda",foreground:"styles_foreground__3OtLE",background:"styles_background__2v4Hw",fileName:"styles_fileName__Y6Kge",button:"styles_button__2BATH",noFilesYet:"styles_noFilesYet__1Hcst",hint:"styles_hint__1anpH",upload:"styles_upload__i5SMD",addForm:"styles_addForm__3SMiC",dropzone:"styles_dropzone__7zJs4",flex:"styles_flex__1oz2f",supportedTypes:"styles_supportedTypes__UNDK8",downloadByURL:"styles_downloadByURL__2kp1o",input:"styles_input__2FHJt",uploadingFiles:"styles_uploadingFiles__3pQjA",uploadingScreen:"styles_uploadingScreen__3l-EZ",uploadingCaption:"styles_uploadingCaption__2Thca",caption:"styles_caption__3MYtC",errors:"styles_errors__3zZJK",delete:"styles_delete__GzwCF"}},241:function(e,t,n){e.exports={roundsPage:"styles_roundsPage__2xjXR"}},242:function(e,t,n){e.exports={item:"styles_item__2_EzC"}},248:function(e,t,n){e.exports={slider:"styles_slider__2_T4D"}},250:function(e,t,n){e.exports={centered:"styles_centered__23ouW"}},253:function(e,t,n){e.exports={container:"styles_container__2xIAm"}},291:function(e,t,n){},299:function(e,t){},301:function(e,t){},31:function(e,t,n){e.exports={packsList:"styles_packsList__3_FVk",hoverUnfocused:"styles_hoverUnfocused__QnvyG",packBase:"styles_packBase__1LyE6",hoverFocused:"styles_hoverFocused__3wnZX",loading:"styles_loading__3SVRQ",pack:"styles_pack__P7r43",info:"styles_info__2vfvj",visibilityDelay:"styles_visibilityDelay__2WqMA",newPack:"styles_newPack__SHDep",skeleton:"styles_skeleton__2LQD-",upload:"styles_upload__nOCvw",thumbnail:"styles_thumbnail__1aU0y",pictureContainer:"styles_pictureContainer__3Ksvb",name:"styles_name__10d11",time:"styles_time___bQuG",backdrop:"styles_backdrop__2CHGI",visible:"styles_visible__zmC7_",alert:"styles_alert__1bU9a"}},32:function(e,t,n){e.exports={container:"styles_container__10MD0",hint:"styles_hint__2rDGF",grouped:"styles_grouped__2K5-H",addEvent:"styles_addEvent__3LcHk",item:"styles_item__22gS9",itemType:"styles_itemType__12yvw",spacing:"styles_spacing__AWfQV",details:"styles_details__2X22Q",duration:"styles_duration__1EfuX",time:"styles_time__CfIYV",submit:"styles_submit__39tBr"}},40:function(e,t,n){e.exports={container:"styles_container__3R_IO",list:"styles_list__V6atM",done:"styles_done__T3LaX",marker:"styles_marker__1v4R9",lineBefore:"styles_lineBefore__3FZJa",lineAfter:"styles_lineAfter__2tf62",hidden:"styles_hidden__QZJee",bullet:"styles_bullet__3qHV-",link:"styles_link__3mTg0",caption:"styles_caption__3cP02",line:"styles_line__JJEXr",text:"styles_text__1tFeb",progress:"styles_progress__2qcQG",progressBar:"styles_progressBar__1AayW"}},421:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(49),s=n.n(c),i=(n(291),n(30)),o=n(23),l=n(14),u=n(11),d=n.n(u),j=n(15),b=n(7),p=n(31),f=n.n(p),h=n(8),m=n.n(h),x=n(94),O=n.n(x),v=(m.a.shape({uuid:m.a.string,name:m.a.string,creationTime:m.a.number,date:m.a.string,thumbnail:m.a.string}),"1.0"),g="utf-8",y=4,k=O.a.js2xml({_declaration:{_attributes:{version:v,encoding:g}},Types:{_attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},Default:{_attributes:{Extension:"xml",ContentType:"si/xml"}}}},{compact:!0}),_="\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b",w=n(235),N=n(505),I=n(16),C=n(226),S=function(){var e=new C.a("sipacker");return e.version(1).stores({packs:["uuid"].join(", "),files:["fileURI","type","hash","packUUID","addedAt"].join(", ")}),e};function R(e){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.packs.get(t);case 3:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S(),e.next=3,t.packs.toArray();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.packs.put(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.packs.delete(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(227),A=n.n(q);function L(e){return new Promise((function(t,n){var a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,r=2097152,c=Math.ceil(e.size/r),s=new A.a.ArrayBuffer,i=new FileReader,o=0;i.onload=function(e){s.append(e.target.result),++o<c?l():t(s.end())},i.onerror=function(){return n("Unable to hash file")};var l=function(){var t=o*r,n=t+r>=e.size?e.size:t+r;i.readAsArrayBuffer(a.call(e,t,n))};l()}))}var z=n(98),M=n(228),W=n.n(M),H={image:["image/png","image/jpeg"],audio:["audio/mpeg","audio/wav","audio/ogg"],video:["video/mpeg"]},K=[].concat(Object(I.a)(H.image),Object(I.a)(H.audio),Object(I.a)(H.video));function V(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(d.a.mark((function e(t,n){var a,r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K.includes(t.type)){e.next=2;break}throw"Mime-type is not supported";case 2:if(t.filename){e.next=4;break}throw"Blob instance must have filename propery";case 4:return a=S(),e.next=7,L(t);case 7:return r=e.sent,e.next=10,a.files.where({packUUID:n,hash:r}).toArray();case 10:if(!e.sent.length){e.next=13;break}throw"File with such hash already exist";case 13:c=Object.entries(H).find((function(e){return Object(b.a)(e,2)[1].some((function(e){return e===t.type}))}))[0],s=Object(z.a)(),i={fileURI:s,type:c,blob:t,size:t.size,fileName:t.filename,hash:r,packUUID:n,addedAt:Date.now()},e.t0=c,e.next="image"===e.t0?19:23;break;case 19:return e.next=21,J(t);case 21:return i.miniature=e.sent,e.abrupt("break",23);case 23:return e.next=25,a.files.put(i);case 25:return e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,n){return G.apply(this,arguments)}function G(){return(G=Object(j.a)(d.a.mark((function e(t,n,a){var r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S(),e.next=3,r.files.where({packUUID:a,url:t}).toArray();case 3:if(!e.sent.length){e.next=6;break}throw"File with such url already exist";case 6:return c=Object.entries(H).find((function(e){return Object(b.a)(e,2)[1].some((function(e){return e===n.type}))}))[0],s=Object(z.a)(),i={fileURI:s,type:c,url:t,size:n.size,fileName:n.name,packUUID:a,addedAt:Date.now()},e.next=11,r.files.put(i);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return X.apply(this,arguments)}function X(){return(X=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("img"),a=URL.createObjectURL(t),n.src=a,e.next=5,new Promise((function(e){return n.onload=e}));case 5:return r=n.width,c=n.height,s=Math.min(r,c,100),i=s,o=s,r>c?o=i*c/r:i=o*r/c,(l=document.createElement("canvas")).width=i,l.height=o,W()(l),l.getContext("2d").drawImage(n,0,0,l.width,l.height),e.next=17,new Promise((function(e){return l.toBlob(e)}));case 17:return u=e.sent,URL.revokeObjectURL(a),e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.files.get(t);case 3:return a=e.sent,e.abrupt("return",null!==a&&void 0!==a?a:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.files.where({packUUID:t}).primaryKeys();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return ae.apply(this,arguments)}function ae(){return(ae=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S(),e.next=3,t.files.toArray();case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return e.packUUID})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ce.apply(this,arguments)}function ce(){return(ce=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=(t=e.sent).map((function(e){return e.uuid})),e.next=6,ne();case 6:return n=e.sent,e.abrupt("return",n.filter((function(e){return!t.includes(e)})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.files.where("fileURI").equals(t).delete();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return le.apply(this,arguments)}function le(){return(le=Object(j.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=S(),!t.includes("null")){e.next=7;break}return t.splice(t.indexOf("null"),1),e.next=5,re();case 5:a=e.sent,t.push.apply(t,Object(I.a)(a));case 7:return e.next=9,n.files.where("packUUID").anyOf(t).limit(20).offset(0).reverse().sortBy("addedAt");case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,n.files.where({packUUID:t}).primaryKeys();case 3:return a=e.sent,e.next=6,n.files.bulkDelete(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=n(4),be=n(60),pe=n(72),fe=n.n(pe),he=n(497),me=n(478),xe=n(495),Oe=n(21),ve=n(74);function ge(e,t){var n=Object(l.a)({},e);return delete n[t],n}function ye(e,t,n){var a=Object(l.a)({},e);return a[t]=n,a}var ke=Object(ve.e)(Object(ve.c)({pack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pack/load":return t.pack;default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dashboard/setUploading":return Object(l.a)(Object(l.a)({},e),{},{uploading:t.uploading});default:return e}},fileRendering:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fileRendering/fileRenderingStarted":return e[t.fileURI]?Object(l.a)({},e):Object(l.a)(Object(l.a)({},e),{},Object(je.a)({},t.fileURI,t.callback));case"fileRendering/fileRenderingStopped":return ge(e,t.fileURI);case"fileRendering/fileUnlinked":if(!Object.keys(e).includes(t.fileURI))return e;var n=e[t.fileURI];return n&&n(),ge(e,t.fileURI);case"fileRendering/setFileUnlinkCallback":return ye(e,t.fileURI,t.callback);default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"menu/setPosition":return Object(l.a)(Object(l.a)({},e),{},{position:t.position});default:return e}}})),_e=n(19),we=n(144),Ne=n(129),Ie=n.n(Ne),Ce=n(24),Se=n(25),Re=function(){function e(t){Object(Ce.a)(this,e),this.zip=t,this.resolvedFiles={},this.folders={},this.warnings=[]}return Object(Se.a)(e,[{key:"getDir",value:function(e){return this.folders[e]||(this.folders[e]=this.zip.folder(e)),this.folders[e]}},{key:"resolve",value:function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z(t);case 4:if(a=e.sent){e.next=7;break}throw"\u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d: \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 ".concat(n);case 7:if(!a.url){e.next=9;break}return e.abrupt("return",a.url);case 9:switch(a.blob.size>1048576&&this.warnings.push("\u0424\u0430\u0439\u043b \xab".concat(a.fileName,"\xbb \u0432\u0435\u0441\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 1 \u041c\u0411")),a.type){case"image":for(r=Object(z.a)();Object.keys(this.resolvedFiles).includes(r);)r=Object(z.a)();this.resolvedFiles[r]=!0,s=this.getDir("Images"),c={"image/png":"png","image/jpeg":"jpg"}[a.blob.type],s.file("".concat(r,".").concat(c),a.blob)}return e.abrupt("return","@".concat(r,".").concat(c));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),De=n(47),Ue=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==Object(b.a)(e,2)[1]})))},Be=Object(De.a)(),Fe=function(){},Pe=function(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",seconds:"numeric"}).format(e)},Ee=function(e){return{pack:e.pack}},Te={simple:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439",auction:"\u0421\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 (\u0410\u0443\u043a\u0446\u0438\u043e\u043d)",cat:"\u0421 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c",bagcat:"\u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",sponsored:"\u0411\u0435\u0437 \u0440\u0438\u0441\u043a\u0430"},qe=function(e,t){var n=null!==t&&void 0!==t?t:{},a=Object.keys(e.fields),r={number:0,string:"",boolean:!1};return a.forEach((function(a){return n[a]=t?t[a]:r[e.fields[a].type]})),n},Ae=function(e){return Boolean(e.rounds.length&&e.rounds.every((function(e){return e.themes.every((function(e){return e.questions.length}))})))},Le=function(e){return Boolean(e.rounds.length&&e.rounds.every((function(e){return e.themes.length})))},ze=function(e){return Boolean(e.rounds.reduce((function(e,t){return e+t.themes.reduce((function(e,t){return e+t.questions.length}),0)}),0)>=25)},Me=function(e){return Boolean(e.rounds.some((function(e){return e.themes.some((function(e){return e.questions.some((function(e){return"auction"===e.type}))}))})))},We=function(e){return Boolean(e.rounds.some((function(e){return e.themes.some((function(e){return e.questions.some((function(e){return"bagcat"===e.type}))}))})))},He=function(e){return Boolean(e.rounds.length&&e.rounds.every((function(e){return e.themes.every((function(e){return e.questions.every((function(e){var t;return null===(t=e.scenario)||void 0===t?void 0:t.length}))}))})))};function Ke(){return(Ke=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,l,u,j,b,p,f,h,m,x,v,g,y,k,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.a.loadAsync(t);case 3:if(n=e.sent,a=n.files["content.xml"]){e.next=7;break}return e.abrupt("return",{error:"noContentXML"});case 7:return e.next=9,a.async("string");case 9:return r=e.sent,c=O.a.xml2js(r),i=function(e){if(e)return e.elements.map((function(e){return e.elements[0].text}))},o=(s=function(e,t){var n=e.elements.filter((function(e){return e.name===t}));return n&&n[0]})(c,"package"),l=o.attributes,u=l.id,j=l.name,b=l.version,p=l.difficulty,f=l.restriction,h=l.date,m=l.publisher,x=l.logo,v=l.language,g=s(o,"info"),y=i(s(g,"authors")),k=i(s(o,"tags")),_=Ue({uuid:u,name:j,version:Number(b),difficulty:Number(p),creationTime:Date.now(),over18:"18+"===f,date:h,authors:y.join(","),publisher:m,tags:null===k||void 0===k?void 0:k.join(","),logo:x,language:v||""}),e.next=21,F(_);case 21:return e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}var Ve=n(52),Ye=n.n(Ve),Qe="\ufeff",Ge="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0430\u043a\u0430",Je="\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0430\u043a\u0430",Xe="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0440\u0430\u0443\u043d\u0434",Ze="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u0442\u0435\u043c\u0443 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",$e="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0432\u043e\u043f\u0440\u043e\u0441 \u0432 \u043a\u0430\u0436\u0434\u043e\u0439 \u0442\u0435\u043c\u0435 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",et="\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0442\u0435\u043c\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0440\u0430\u0443\u043d\u0434\u0430";function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.authors||n.push(Ge),t.language||n.push(Je),t.rounds.length?Le(t)?Ae(t)?He(t)||n.push(et):n.push($e):n.push(Ze):n.push(Xe),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t){return"simple"!==e.type?[{type:"element",name:"type",attributes:{name:e.type},elements:rt(e,t)}]:[]}function rt(e,t){var n={theme:"realtheme",cost:"realprice",self:"transferToSelf",knows:"detailsDisclosure"};return{cat:["theme","cost"],auction:[],bagcat:["theme","cost","self","knows"],sponsored:[]}[e.type].map((function(a){var r=e[n[a]];if("cost"===a&&"bagcat"===e.type)switch(e.questionPriceType){case"minMax":r=0;break;case"byPlayer":r="[".concat(e.realpriceFrom,";").concat(e.realpriceTo,"]/").concat(e.realpriceStep)}return"theme"===a&&(r=Ye()(r)),"theme"===a&&void 0===r&&(r=Ye()(t)),"self"===a&&(r=String(Boolean(r))),{type:"element",name:"param",attributes:{name:a},elements:[{type:"text",text:r}]}}))}function ct(e){return st.apply(this,arguments)}function st(){return(st=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ie.a,(a=n.folder("Texts")).file("authors.xml",'\ufeff<?xml version="1.0" encoding="utf-8"?><Authors />'),a.file("sources.xml",'\ufeff<?xml version="1.0" encoding="utf-8"?><Sources />'),n.file("[Content_Types].xml",Qe+k),r=new Re(n),e.t0={attributes:{version:v,encoding:g}},e.t1={type:"comment",comment:"This package was generated using SIPacker \u2014 free open-source online tool for generating SIGame packs. Feel free to leave feedback on https://github.com/VityaSchel/SIPacker"},e.t2=t.uuid,e.t3=Ye()(t.name),e.t4=t.version,e.t5=t.over18?"18+":void 0,e.t6=t.date,e.t7=Ye()(t.publisher),e.t8=t.difficulty,e.next=17,r.resolve(t.logo,"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0430\u043a\u0430");case 17:return e.t9=e.sent,e.t10=t.language,e.t11={xmlns:"http://vladimirkhil.com/ygpackage3.0.xsd",id:e.t2,name:e.t3,version:e.t4,restriction:e.t5,date:e.t6,publisher:e.t7,difficulty:e.t8,logo:e.t9,language:e.t10,generator:"sipacker"},e.t12=[],e.t13=Object(I.a)(t.tags?[{type:"element",name:"tags",elements:t.tags.map((function(e){return{type:"element",name:"tag",elements:[{type:"text",text:Ye()(e)}]}}))}]:[]),e.t14={type:"element",name:"info",elements:[{type:"element",name:"authors",elements:t.authors.map((function(e){return{type:"element",name:"author",elements:[{type:"text",text:Ye()(e)}]}}))}].concat(Object(I.a)(t.comment?[{type:"element",name:"comments",elements:[{type:"text",text:Ye()(t.comment)}]}]:[]))},e.next=25,Promise.all(t.rounds.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={name:Ye()(t.name)},e.next=3,Promise.all(t.themes.map(function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={name:Ye()(n.name)},e.next=3,Promise.all(n.questions.map(function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0={price:a.price},e.t1=[],e.t2=Object(I.a)(at(a,n.name)),e.next=5,Promise.all(a.scenario.map(function(){var e=Object(j.a)(d.a.mark((function e(c){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0={type:c.type,time:c.duration},["say","marker"].includes(c.type)){e.next=12;break}return e.t2=Ye()(null!==(s=c.data.text)&&void 0!==s?s:"").replaceAll("\n","\\n"),e.next=5,r.resolve(c.data.imageField,"\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0437\u0430 ".concat(a.price," \u0432 \u0442\u0435\u043c\u0435 \xab").concat(n.name,"\xbb \u0432 \u0440\u0430\u0443\u043d\u0434\u0435 \xab").concat(t.name,"\xbb"));case 5:e.t3=e.sent,e.t4=c.type,e.t5={text:e.t2,image:e.t3}[e.t4],e.t6={type:"text",text:e.t5},e.t1=[e.t6],e.next=13;break;case 12:e.t1=[];case 13:return e.t7=e.t1,e.abrupt("return",{type:"element",name:"atom",attributes:e.t0,elements:e.t7});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t3=e.sent,e.t4={type:"element",name:"scenario",elements:e.t3},e.t5={type:"element",name:"right",elements:a.correctAnswers.map((function(e){return{type:"element",name:"answer",elements:[{type:"text",text:Ye()(e)}]}}))},e.t6={type:"element",name:"wrong",elements:null===(c=a.incorrectAnswers)||void 0===c?void 0:c.map((function(e){return{type:"element",name:"answer",elements:[{type:"text",text:Ye()(e)}]}}))},e.t7=[e.t4,e.t5,e.t6],e.t8=e.t1.concat.call(e.t1,e.t2,e.t7),e.abrupt("return",{type:"element",name:"question",attributes:e.t0,elements:e.t8});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.t2={type:"element",name:"questions",elements:e.t1},e.t3=[e.t2],e.abrupt("return",{type:"element",name:"theme",attributes:e.t0,elements:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.t2={type:"element",name:"themes",elements:e.t1},e.t3=[e.t2],e.abrupt("return",{type:"element",name:"round",attributes:e.t0,elements:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 25:return e.t15=e.sent,e.t16={type:"element",name:"rounds",elements:e.t15},e.t17=[e.t14,e.t16],e.t18=e.t12.concat.call(e.t12,e.t13,e.t17),e.t19={type:"element",name:"package",attributes:e.t11,elements:e.t18},e.t20=[e.t1,e.t19],c={declaration:e.t0,elements:e.t20},s=O.a.js2xml(c),n.file("content.xml",Qe+s),i=r.warnings,e.next=37,n.generateAsync({type:"blob",compression:"DEFLATE"});case 37:return o=e.sent,e.abrupt("return",{result:o,warnings:i});case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=n(1),ot=function(e){return Object(it.jsx)(me.a,Object(l.a)(Object(l.a)({},e),{},{direction:"right"}))};var lt=Object(Oe.b)((function(e){return{dashboard:e.dashboard}}))((function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState([]),i=Object(b.a)(s,2),o=i[0],u=i[1];return r.a.useEffect((function(){var e=setInterval((function(){u(o.filter((function(e){return e.date>=Date.now()-5e3})))}),1e3);return function(){return clearInterval(e)}}),[o]),Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(we.a,{onDragEnter:function(){return c(!0)},onDragLeave:function(){return c(!1)},onDrop:function(t){if(c(!1),t){var n,a=Object(be.a)(t);try{var r=function(){var t,a,r=n.value,c=null!==(t=null===(a=e.dashboard)||void 0===a?void 0:a.uploading)&&void 0!==t?t:[],s=Date.now();e.dispatch({type:"dashboard/setUploading",uploading:c.concat({id:s,name:r.name})}),function(e){return Ke.apply(this,arguments)}(r).then((function(t){var n;if(t.error){var a={noContentXML:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0444\u0430\u0439\u043b content.xml \u0432 \u043f\u0430\u043a\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0430\u0440\u0445\u0438\u0432 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u043c\u0438 \u043f\u0443\u0442\u044f\u043c\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445."}[t.error],c=Date.now();u(o.concat({date:c,text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0430\u043a\u0430 \xab".concat(r.name,"\xbb: ").concat(a)}))}else e.reloadPacks();e.dispatch({type:"dashboard/setUploading",uploading:null===(n=ke.getState().pack)||void 0===n?void 0:n.uploading.filter((function(e){return s!==e.id}))})}))};for(a.s();!(n=a.n()).done;)r()}catch(s){a.e(s)}finally{a.f()}}},accept:[".siq"],children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(it.jsxs)("div",Object(l.a)(Object(l.a)({className:fe()([f.a.packBase,f.a.newPack,f.a.upload],Object(je.a)({},f.a.dragOver,a))},t()),{},{children:[Object(it.jsx)("input",Object(l.a)({},n())),Object(it.jsxs)("span",{children:[Object(it.jsx)(_e.k,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u0430\u043a\u0430"]})]}))}}),Object(it.jsx)("div",{className:fe()(f.a.backdrop,Object(je.a)({},f.a.visible,a))}),Object(it.jsx)(he.a,{open:o.length,onClose:function(){return u([])},TransitionComponent:ot,children:Object(it.jsx)(xe.a,{severity:"error",className:f.a.alert,children:o.map((function(e,t){return Object(it.jsx)("p",{children:e.text},t)}))})})]})})),ut=n(255),dt=n(504),jt=n(484),bt=n(485),pt=r.a.createContext({});function ft(e){var t,n,a=r.a.useState(),c=Object(b.a)(a,2),i=c[0],o=c[1],l={open:function(t,n){var a;return!!(null===(a=e.menu)||void 0===a?void 0:a.position)||(t.preventDefault(),o(n),e.dispatch({type:"menu/setPosition",position:[t.clientX,t.clientY]}),!1)}},u=function(t){null===t||void 0===t||t.preventDefault(),e.dispatch({type:"menu/setPosition",position:null})};return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(pt.Provider,{value:l,children:e.children}),s.a.createPortal(Object(it.jsx)(ut.a,{open:null===(t=e.menu)||void 0===t?void 0:t.position,anchorReference:"anchorPosition",anchorPosition:(null===(n=e.menu)||void 0===n?void 0:n.position)&&{top:e.menu.position[1],left:e.menu.position[0]},onClose:u,children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(it.jsxs)(dt.a,{onClick:(n=e.action,function(e){e.stopPropagation(),n(),u()}),children:[Object(it.jsx)(jt.a,{children:e.icon}),Object(it.jsx)(bt.a,{children:e.name})]},t);var n}))}),document.body)]})}ft.displayName="ContextMenu";var ht,mt=Object(Oe.b)((function(e){return{menu:e.menu}}))(ft),xt=n(234),Ot=n(517),vt=n(515),gt=n(513),yt=n(514),kt=n(516),_t=n(512),wt=n(494),Nt=n(522),It=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(),o=Object(b.a)(i,2),l=o[0],u=o[1],d=r.a.useState(""),j=Object(b.a)(d,2),p=j[0],f=j[1],h=r.a.useState(""),m=Object(b.a)(h,2),x=m[0],O=m[1],v=r.a.useState(!0),g=Object(b.a)(v,2),y=g[0],k=g[1],_=function(e){s(!1),ht({confirmed:e,checked:y})};return r.a.useImperativeHandle(t,(function(){return{open:function(e,t,n){return new Promise((function(a){ht=a,s(!0),u(e),f(t),O(n)}))}}})),Object(it.jsxs)(_t.a,{maxWidth:"xs",open:c,onClose:function(){return _(!1)},children:[Object(it.jsx)(gt.a,{children:e.title}),Object(it.jsx)(yt.a,{children:Object(it.jsxs)(vt.a,{children:[l&&Object(it.jsx)("p",{children:l}),e.children,x&&Object(it.jsx)(Nt.a,{control:Object(it.jsx)(wt.a,{defaultChecked:!0,value:y,onChange:function(e){return k(e.target.checked)}}),label:x})]})}),Object(it.jsxs)(kt.a,{children:[Object(it.jsx)(Ot.a,{autoFocus:!0,onClick:function(){return _(!1)},color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(it.jsx)(Ot.a,{onClick:function(){return _(!0)},color:"primary",children:null!==p&&void 0!==p?p:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})]})}));It.displayName="ConfirmationDialog";var Ct=It,St=r.a.forwardRef((function(e,t){var n=r.a.useRef(),a=Object(o.g)();return r.a.useImperativeHandle(t,(function(){return{confirmPackDeletion:function(e){return Object(j.a)(d.a.mark((function t(){var r,c,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043a? \u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e.","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b");case 2:if(r=t.sent,c=r.confirmed,s=r.checked,i=s,!c){t.next=17;break}if(!i){t.next=14;break}return t.next=10,ee(e);case 10:return t.sent.forEach((function(e){return ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:e})})),t.next=14,ue(e);case 14:return t.next=16,E(e);case 16:a.push("/");case 17:return t.abrupt("return",c);case 18:case"end":return t.stop()}}),t)})))()},confirmRoundDeletion:function(){return Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434? \u0412\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0442\u0430\u043a\u0436\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b.","\u0423\u0434\u0430\u043b\u0438\u0442\u044c");case 2:return t=e.sent,a=t.confirmed,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},confirmDeleteQuestion:function(){return Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.current.open("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441?","\u0423\u0434\u0430\u043b\u0438\u0442\u044c");case 2:return t=e.sent,a=t.confirmed,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()}}})),Object(it.jsx)(Ct,{ref:n})}));St.displayName="DeleteConfirmationDialog";var Rt=St,Dt=n(518),Ut=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState((function(){return function(){}})),o=Object(b.a)(i,2),l=o[0],u=o[1],d=r.a.useState(""),j=Object(b.a)(d,2),p=j[0],f=j[1],h=r.a.useState(""),m=Object(b.a)(h,2),x=m[0],O=m[1],v=r.a.useState(""),g=Object(b.a)(v,2),y=g[0],k=g[1];r.a.useImperativeHandle(t,(function(){return{askToRename:function(e,t,n){u((function(){return e})),f(t),O(n),k(n),s(!0)}}}));var _=function(){s(!1),l()};return Object(it.jsxs)(_t.a,{maxWidth:"xs",open:c,onClose:_,children:[Object(it.jsxs)(gt.a,{children:["\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c ",p]}),Object(it.jsx)(yt.a,{children:Object(it.jsx)(Dt.a,{label:"\u041d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f",placeholder:x,variant:"outlined",value:y,onChange:function(e){return k(e.target.value)},style:{marginTop:15}})}),Object(it.jsxs)(kt.a,{children:[Object(it.jsx)(Ot.a,{autoFocus:!0,onClick:_,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(it.jsx)(Ot.a,{onClick:function(){s(!1),l(y)},color:"primary",disabled:!y.length,children:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c"})]})]})}));Ut.displayName="RenameDialog";var Bt=Ut;function Ft(e){var t=r.a.useRef(),n=r.a.useRef(),a=r.a.useContext(At),c=Pe(new Date(e.pack.creationTime)),s=r.a.useContext(pt),i=function(){var n=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.current.confirmPackDeletion(e.pack.uuid);case 2:if(!n.sent){n.next=4;break}a.reloadPacks();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o=function(){var t=Object(j.a)(d.a.mark((function t(){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return n.current.askToRename(t,"\u043f\u0430\u043a",e.pack.name)}));case 2:if(void 0===(r=t.sent)){t.next=10;break}return t.next=6,R(e.pack.uuid);case 6:c=t.sent,F(c=Object(l.a)(Object(l.a)({},c),{},{name:r})),a.reloadPacks();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("div",{className:[f.a.packBase,f.a.pack].join(" "),onContextMenu:function(e){s.open(e,[{name:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",icon:Object(it.jsx)(xt.a,{}),action:function(){return o()}},{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(it.jsx)(_e.d,{}),action:function(){return i()}}])},children:[Object(it.jsx)(Tt,{src:e.pack.logo}),Object(it.jsxs)("div",{className:f.a.info,children:[Object(it.jsx)("span",{className:f.a.name,children:e.pack.name}),Object(it.jsxs)("span",{className:f.a.time,children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",c]})]})]}),Object(it.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(it.jsx)(Rt,{ref:t}),Object(it.jsx)(Bt,{ref:n})]})]})}function Pt(){return Object(it.jsx)("div",{className:[f.a.packBase,f.a.newPack].join(" "),children:Object(it.jsxs)("span",{children:[Object(it.jsx)(w.a,{})," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u043a"]})})}function Et(e){return Object(it.jsxs)("div",{className:[f.a.packBase,f.a.loading].join(" "),children:[Object(it.jsx)(N.a,{variant:"rectangular",width:"100%",height:"100%",className:f.a.skeleton}),e.name&&Object(it.jsxs)("span",{children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \xab",e.name,"\xbb"]})]})}var Tt=Object(Oe.b)(null)((function(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1];return r.a.useEffect((function(){a&&e.dispatch({type:"fileRendering/setFileUnlinkCallback",fileURI:e.src,callback:function(){return c()}})}),[c]),r.a.useEffect((function(){var t=function(){};return e.src?Object(j.a)(d.a.mark((function n(){var a,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(e.src);case 2:if(null!==(a=n.sent)){n.next=5;break}return n.abrupt("return",c());case 5:r=URL.createObjectURL(a.blob),c(r),e.dispatch({type:"fileRendering/fileRenderingStarted",fileURI:e.src,callback:function(){return c()}}),t=function(){URL.revokeObjectURL(r),e.dispatch({type:"fileRendering/fileRenderingStopped",fileURI:e.src})};case 9:case"end":return n.stop()}}),n)})))():c(),function(){return t(a)}}),[e.src]),Object(it.jsx)("div",{className:f.a.pictureContainer,children:a?Object(it.jsx)("img",{src:a,className:f.a.thumbnail}):Object(it.jsx)("div",{className:f.a.thumbnail})})}));function qt(){return Object(it.jsx)(Lt,{})}var At=r.a.createContext({}),Lt=Object(Oe.b)((function(e){return{dashboard:e.dashboard}}))((function(e){var t,n,a=r.a.useState(),c=Object(b.a)(a,2),s=c[0],i=c[1],o=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,n=t.sort((function(e,t){return e.creationTime-t.creationTime})),i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){return o()}),[]);var l={reloadPacks:function(){return o()}};return Object(it.jsx)("div",{children:Object(it.jsx)(At.Provider,{value:l,children:Object(it.jsxs)("div",{className:f.a.packsList,children:[Object(it.jsx)(zt,{type:"create"}),Object(it.jsx)(zt,{type:"upload",reloadPacks:o}),null===(t=e.dashboard)||void 0===t||null===(n=t.uploading)||void 0===n?void 0:n.reverse().map((function(e,t){var n=e.name;return Object(it.jsx)(zt,{type:"loading",name:n},t)})),s?s.map((function(e){return Object(it.jsx)(zt,{type:"pack",pack:e},e.uuid)})):new Array(5).fill().map((function(e,t){return Object(it.jsx)(zt,{type:"loading"},t)}))]})})})}));function zt(e){return["loading","upload"].includes(e.type)?Object(it.jsx)(Mt,Object(l.a)({},e)):Object(it.jsx)(i.b,{to:"pack"===e.type?"/pack/".concat(e.pack.uuid):"".concat(e.type),children:Object(it.jsx)(Mt,Object(l.a)({},e))})}function Mt(e){return{create:Object(it.jsx)(Pt,{}),upload:Object(it.jsx)(lt,{reloadPacks:e.reloadPacks}),loading:Object(it.jsx)(Et,{name:e.name}),pack:Object(it.jsx)(Ft,{pack:e.pack})}[e.type]}var Wt=n(254),Ht=n(506),Kt=n(178),Vt=n.n(Kt),Yt=n(511),Qt=n(236),Gt=n(237),Jt=n(519),Xt=n(520),Zt=n(149);function $t(){var e=r.a.useState(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(it.jsx)(Jt.a,{position:"static",style:{zIndex:4},children:Object(it.jsxs)(Xt.a,{color:"primary",children:[Object(it.jsx)("div",{className:Vt.a.logoContainer,children:Object(it.jsx)(i.b,{to:"/",className:Vt.a.logo,children:Object(it.jsx)(Zt.a,{variant:"h6",component:"div",children:"SIPacker"})})}),Object(it.jsxs)("div",{children:[Object(it.jsx)("a",{href:"https://github.com/VityaSchel/SIPacker",target:"_blank",rel:"noreferrer",children:Object(it.jsx)(Yt.a,{children:Object(it.jsx)(Qt.a,{})})}),Object(it.jsx)(Yt.a,{onClick:function(){return a(!0)},children:Object(it.jsx)(Gt.a,{})})]}),Object(it.jsxs)(_t.a,{open:n,onClose:function(){return a(!1)},children:[Object(it.jsx)(gt.a,{children:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),Object(it.jsx)(yt.a,{children:Object(it.jsxs)(vt.a,{children:[Object(it.jsx)("p",{children:"\u0412\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e VityaSchel \u0432 2021 \u0433\u043e\u0434\u0443 \u0434\u043b\u044f \u0438\u0433\u0440\u044b SiGame \u043a\u0430\u043a \u043a\u0440\u043e\u0441\u0441\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430 SIQuester."}),Object(it.jsx)("p",{children:"\u0412\u0441\u0435 \u0441\u0432\u043e\u0438 \u0438\u0434\u0435\u0438 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u0437\u043b\u0430\u0433\u0430\u0439\u0442\u0435 \u0432 \u043f\u0443\u043b-\u0440\u0435\u043a\u0432\u0435\u0441\u0442\u0430\u0445 \u0438\u043b\u0438 \u0445\u043e\u0442\u044f \u0431\u044b \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 Issues, \u0430 \u043d\u0435 \u0432 \u043c\u043e\u0438\u0445 \u043b\u0441."}),Object(it.jsx)("p",{children:Object(it.jsx)("a",{href:"https://github.com/VladimirKhil/SI/wiki/%D0%A1%D0%BF%D0%B5%D1%86%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B0-.siq",className:"onHover",children:"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430 .siq"})}),Object(it.jsx)("p",{children:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0443 \u0425\u0438\u043b\u044e \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u043d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u043b \u043c\u043e\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 (\u043f\u0440\u0438\u0432\u0435\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c \u043c\u0430\u0444\u0438\u0438 \u043e\u043d\u043b\u0430\u0439\u043d \u0438 \u043c\u0430\u0444\u0438\u0438 \u0433\u043e)"}),Object(it.jsxs)("p",{children:["\u0422\u0430\u043a\u0436\u0435 \u0445\u043e\u0447\u0443 \u043f\u043e\u0436\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u0430\u0447\u0438 \u0438 \u043b\u0435\u0433\u043a\u043e\u0439 \u0441\u043b\u0443\u0436\u0431\u044b ",Object(it.jsx)("a",{href:"https://vk.com/id245297843",target:"_blank",rel:"noreferrer",className:"onHover",children:"\u0420\u043e\u043c\u0435 \u041a\u0443\u0447\u0438\u043d\u0443"}),", \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0432\u043e\u0438\u043c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u043c \u043d\u0430\u0442\u043e\u043b\u043a\u043d\u0443\u043b \u043c\u0435\u043d\u044f \u043d\u0430 \u0438\u0434\u0435\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430, \u043d\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043e \u043c\u043d\u043e\u0439 \u043f\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u042f \u0432 \u0430\u0440\u043c\u0438\u0438."]})]})}),Object(it.jsx)(kt.a,{children:Object(it.jsx)(Ot.a,{onClick:function(){return a(!1)},children:"\u041e\u041a"})})]})]})})}var en=n(179),tn=n.n(en),nn=n(238),an=n(173),rn=n.n(an);function cn(){var e=r.a.useState(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(o.g)(),s=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(nn.v4)(),a={uuid:t,name:n,date:rn()().format("DD.MM.YYYY"),creationTime:Date.now(),language:"",version:y,difficulty:5,rounds:[]},e.next=4,F(a);case 4:c.push("/pack/".concat(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=["\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u043e\u0442 \u0441\u043b\u0430\u0432\u044f\u043d","\u0418\u0433\u0440\u044b, \u043c\u0443\u0437\u044b\u043a\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435","\u041a\u0438\u043d\u043e\u043f\u0430\u043a","\u0410\u043d\u0438\u043c\u0435 \u0438 \u043f\u0440\u043e\u0447\u0438\u0439 \u0431\u0443\u043b\u043b\u0449\u0438\u0442","\u041c\u0435\u043c\u043d\u0430\u044f \u0421\u043e\u043b\u044f\u043d\u043a\u0430"];return Object(it.jsxs)("div",{className:tn.a.container,children:[Object(it.jsx)(Dt.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0430",variant:"outlined",value:n,onChange:function(e){return a(e.target.value)},className:tn.a.field,placeholder:i[Math.floor(Math.random()*i.length)],onKeyUp:function(e){"Enter"===e.key&&s()},autoFocus:!0}),Object(it.jsx)(Ot.a,{variant:"contained",onClick:function(){return s()},disabled:!n.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}var sn=n(112),on=n.n(sn),ln=n(501),un=n(84);var dn=Object(Oe.b)(Ee)((function(e){var t=[on.a.link,"onHover","noDefaults"].join(" "),n=Object(o.h)(),a=r.a.useState([]),c=Object(b.a)(a,2),s=c[0],l=c[1];return r.a.useEffect((function(){for(var t,a=n.pathname.split(new RegExp("/pack/".concat(_)),2)[1],r=a.split("/"),c={dashboard:{to:"/",name:"\u041f\u0430\u043a\u0438"},currentPack:{to:"/pack/".concat(e.pack.uuid),name:e.pack.name},settings:{to:"/pack/".concat(e.pack.uuid,"/settings"),name:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},rounds:{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(r[2]),name:"\u0420\u0430\u0443\u043d\u0434 ".concat(r[2])},theme:{name:"\u0422\u0435\u043c\u0430 ".concat(r[4])},questions:{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(r[2],"/themes/").concat(r[4],"/questions/").concat(r[6]),name:"add"===r[6]?"\u041d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441":"\u0412\u043e\u043f\u0440\u043e\u0441 \u0437\u0430 ".concat(r[6])}},s=(t={default:[c.dashboard,c.currentPack]},Object(je.a)(t,un.d,[c.dashboard,c.currentPack,c.settings]),Object(je.a)(t,un.c,[c.dashboard,c.currentPack,c.rounds]),Object(je.a)(t,un.a,[c.dashboard,c.currentPack,c.rounds,c.theme,c.questions]),t),i=0,o=Object.entries(s);i<o.length;i++){var u=Object(b.a)(o[i],2),d=u[0],j=u[1];if(new RegExp("^".concat(d,"/?$")).test(a))return l(j)}return l(s.default)}),[n,e.pack]),Object(it.jsx)(ln.a,{children:s.map((function(e,n){var a=e.to,r=e.name;return a&&n!==s.length-1?Object(it.jsx)(i.b,{to:a,className:t,children:r},n):Object(it.jsx)(Zt.a,{color:n===s.length-1?"text.primary":"text.secondary",children:r},n)}))})})),jn=n(116),bn=n.n(jn),pn=n(526),fn=n(488),hn=n(239),mn=n(240),xn=r.a.forwardRef((function(e,t){return Object(it.jsx)(fn.a,Object(l.a)({ref:t},e))})),On=r.a.forwardRef((function(e,t){var n=r.a.useState(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(!1),o=Object(b.a)(i,2),l=o[0],u=o[1],p=r.a.useState([]),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState([]),O=Object(b.a)(x,2),v=O[0],g=O[1],y=r.a.useState(),k=Object(b.a)(y,2),_=k[0],w=k[1];r.a.useImperativeHandle(t,(function(){return{save:function(e){s(!0),w(e)}}})),r.a.useEffect((function(){return(null===_||void 0===_?void 0:_.uuid)&&N()}),[_]);var N=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(_);case 2:if(t=e.sent,m(t),!t.length){e.next=6;break}return e.abrupt("return");case 6:u(!0),setTimeout(I,500);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,ct(_);case 4:a=e.sent,t=a.result,n=a.warnings,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",m([null===e.t0||void 0===e.t0?void 0:e.t0.message]));case 13:u(!1),Object(hn.saveAs)(t,"".concat(Object(mn.slugify)(_.name),".siq"),{autoBom:!0}),g(n),s(n.length);case 17:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(it.jsxs)(_t.a,{maxWidth:"xs",open:c,TransitionComponent:xn,onClose:function(){return h.length&&s(!1)},children:[Object(it.jsx)(gt.a,{children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0430\u0440\u0445\u0438\u0432\u0430"}),Object(it.jsx)(yt.a,{children:Object(it.jsxs)(vt.a,{children:[l&&Boolean(!h.length)&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("p",{children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u043f\u0430\u043a\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b\u043e\u0432."}),Object(it.jsx)(pn.a,{color:"primary"})]}),Boolean(h.length)&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("p",{children:"\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0430\u043a\u0430:"}),Object(it.jsx)("ul",{children:h.map((function(e,t){return Object(it.jsx)("li",{children:e},t)}))})]}),Boolean(v.length)&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("p",{children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f, \u0438\u0445 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c:"}),Object(it.jsx)("ul",{children:v.map((function(e,t){return Object(it.jsx)("li",{children:e},t)}))})]})]})}),!l&&Object(it.jsx)(kt.a,{children:Object(it.jsx)(Ot.a,{autoFocus:!0,onClick:function(){return s(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}));On.displayName="ConfirmationDialog";var vn=On;var gn=Object(Oe.b)(Ee)((function(e){var t,n=r.a.useRef(),a=r.a.useRef(),c=Object(o.g)(),s=Object(o.h)().pathname,u=function(){var t=Object(j.a)(d.a.mark((function t(){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.confirmRoundDeletion();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return a=Object(l.a)({},e.pack),r=parseInt(s.split("/pack/".concat(e.pack.uuid,"/rounds/"),2)[1]),a.rounds.splice(r-1,1),t.next=9,F(a);case 9:c.push("/pack/".concat(a.uuid));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(j.a)(d.a.mark((function t(){var a,r,i,o,u,j,p,f;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.current.confirmDeleteQuestion();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return a=Object(l.a)({},e.pack),r=s.match(new RegExp("/pack/".concat(_,"/rounds/(\\d+)/themes/(\\d+)/questions/(\\d+)"))),i=Object(b.a)(r,4),o=i[1],u=i[2],j=i[3],j=parseInt(j),p=e.pack.rounds[o-1].themes[u-1],f=p.questions.findIndex((function(e){return e.price===Number(j)})),p.questions.splice(f,1),p.questions=p.questions.sort((function(e,t){return e.price-t.price})),t.next=13,F(a);case 13:c.push("/pack/".concat(a.uuid,"/rounds/").concat(o));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=e.pack&&(t={},Object(je.a)(t,un.b,[[function(){return a.current.save(e.pack)},Object(it.jsx)(_e.j,{},"download")],["/pack/".concat(e.pack.uuid,"/settings"),Object(it.jsx)(_e.r,{},"settings")],[function(){n.current.confirmPackDeletion(e.pack.uuid)},Object(it.jsx)(_e.d,{},"delete"),bn.a.delete]]),Object(je.a)(t,un.c,[[u,Object(it.jsx)(_e.d,{},"delete"),bn.a.delete]]),Object(je.a)(t,un.a,[[p,Object(it.jsx)(_e.d,{},"delete"),bn.a.delete]]),t),h=s.split("/pack/".concat(e.pack.uuid),2)[1],m=Object.entries(f).find((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return new RegExp("^".concat(n,"/?$")).test(h)&&a}));return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("div",{className:bn.a.buttons,children:m&&m[1].map((function(e,t){var n=Object(b.a)(e,3),a=n[0],r=n[1],c=n[2];return Object(it.jsx)(it.Fragment,{children:"string"===typeof a?Object(it.jsx)(i.b,{to:a,className:c,children:Object(it.jsx)(Yt.a,{children:r})},t):Object(it.jsx)(Yt.a,{className:c,onClick:a,children:r},t)})}))}),Object(it.jsx)(Rt,{ref:n}),Object(it.jsx)(vn,{ref:a})]})})),yn=n(241),kn=n.n(yn),_n=n(62),wn=n.n(_n),Nn=n(533),In=n(532),Cn=n(113),Sn=n(538),Rn=n(242),Dn=n.n(Rn);function Un(e){if(e.transform){var t="translate(0px"+e.transform.slice(e.transform.indexOf(","),e.transform.length);return Object(l.a)(Object(l.a)({},e),{},{transform:t})}return e}function Bn(e){return Object(it.jsx)(Cn.b,{draggableId:String(e.draggableId),index:e.index,children:function(t){return Object(it.jsx)(Sn.a,Object(l.a)(Object(l.a)({className:[e.className,Dn.a.item].join(" "),ref:t.innerRef},t.draggableProps),{},{style:Un(t.draggableProps.style),children:e.children(t)}))}})}var Fn=n(136),Pn=n.n(Fn);function En(e){return Object(it.jsx)("div",Object(l.a)(Object(l.a)({className:Pn.a.handle},e.provided.dragHandleProps),{},{children:Object(it.jsx)(_e.f,{})}))}function Tn(e){var t=r.a.useRef(),n=r.a.useContext(pt),a=function(){var n=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.current.confirmRoundDeletion();case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:e.handleRemoveRound(e.index);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(e){n.open(e,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(it.jsx)(_e.d,{}),action:function(){return a()}}])};return Object(it.jsx)(Bn,Object(l.a)(Object(l.a)({},e),{},{className:wn.a.cardOfRound,children:function(n){return Object(it.jsxs)(it.Fragment,{children:[e.editing?Object(it.jsxs)("div",{className:wn.a.item,children:[Object(it.jsx)(En,{provided:n}),Object(it.jsx)(qn,Object(l.a)({},e)),Object(it.jsx)(An,{handleRemoveRound:a})]}):Object(it.jsx)(i.b,{to:"/pack/".concat(e.pack.uuid,"/rounds/").concat(e.index+1),className:wn.a.link,onContextMenu:c,children:Object(it.jsx)(In.a,{children:Object(it.jsx)(qn,Object(l.a)({},e))})}),Object(it.jsx)(Rt,{ref:t})]})}}))}function qn(e){var t=e.item;return Object(it.jsx)(Nn.a,{style:{paddingBottom:cc.spacing(2)},className:wn.a.flex1,children:e.editing?Object(it.jsx)(Dt.a,{value:e.roundNamesTextInput[e.index],label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0443\u043d\u0434\u0430",variant:"outlined",onChange:function(t){return e.handleRoundNameChange(t,e.index)},size:"small",className:wn.a.inputField}):Object(it.jsxs)(Zt.a,{variant:"body2",color:"text.secondary",className:wn.a.flex2,children:["\u0420\u0430\u0443\u043d\u0434 ",e.index+1,". ",t.name]})})}function An(e){return Object(it.jsx)(Yt.a,{onClick:e.handleRemoveRound,className:wn.a.delete,children:Object(it.jsx)(_e.d,{})})}var Ln=n(85),zn=n.n(Ln),Mn=n(503),Wn=n(502),Hn=n(508),Kn=n(534);function Vn(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1];return Object(it.jsxs)("div",{className:[zn.a.addItem,e.className].join(" "),children:[Object(it.jsx)(Yn,{setAddingItem:c,handleAddItem:e.onAdd,className:fe()(zn.a.button,Object(je.a)({},zn.a.expand,a)),addingItem:a,label:e.inputLabel}),Object(it.jsx)("div",{className:fe()([zn.a.button,zn.a.addButtonOuter],Object(je.a)({},zn.a.expand,!a)),children:Object(it.jsx)(Ot.a,{variant:"contained",startIcon:Object(it.jsx)(_e.a,{}),onClick:function(){return c(!0)},className:zn.a.addButton,children:e.buttonLabel})})]})}function Yn(e){var t=r.a.useState(""),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useRef(),i=function(){e.setAddingItem(!1),a.length&&(e.handleAddItem(a),c(""))};return r.a.useEffect((function(){e.addingItem&&s.current.focus()}),[e.addingItem]),Object(it.jsxs)(Wn.a,{variant:"outlined",className:e.className,children:[Object(it.jsx)(Mn.a,{size:"small",children:e.label}),Object(it.jsx)(Hn.a,{label:e.label,size:"small",type:"text",value:a,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&i()},style:{paddingRight:0},inputRef:s,endAdornment:Object(it.jsx)(Kn.a,{position:"end",children:Object(it.jsx)(Yt.a,{onClick:i,children:a.length?Object(it.jsx)(_e.e,{}):Object(it.jsx)(_e.b,{})})})})]})}function Qn(e){var t=r.a.useState({map:new WeakMap,length:0}),n=Object(b.a)(t,2),a=n[0],c=n[1];return Object(it.jsx)(Cn.a,{onDragEnd:e.onDragEnd,children:Object(it.jsx)(Cn.c,{droppableId:e.droppableId,children:function(t){return Object(it.jsxs)("div",Object(l.a)(Object(l.a)({ref:t.innerRef},t.droppableProps),{},{className:e.droppableClassName,children:[function(){var t=e.list.length?e.list.map((function(t,n){var r=function(e){return a.map.has(e)||a.map.set(e,++a.length),a.map.get(e)};return Object(it.jsx)(e.itemComponent,Object(l.a)({index:n,draggableId:e.useIdAsKey?t.id:r(t),item:t},e.draggableProps),e.useIdAsKey?t.id:r(t))})):Object(it.jsx)(Zt.a,{variant:"body1",gutterBottom:!0,className:Pn.a.noItems,children:e.noItemsLabel});return c(a),t}(),t.placeholder]}))}})})}var Gn=n(147),Jn=n.n(Gn);function Xn(e){return Object(it.jsxs)("div",{className:Jn.a.toolbar,children:[Object(it.jsx)("h2",{className:Jn.a.text,children:e.heading}),e.showButton&&e.editing&&Object(it.jsx)(it.Fragment,{children:Object(it.jsx)(Zt.a,{color:"text.secondary",className:Jn.a.hint,children:"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})}),e.showButton&&Object(it.jsx)(Yt.a,{onClick:e.onSwitch,children:e.editing?Object(it.jsx)(_e.e,{}):Object(it.jsx)(_e.g,{})})]})}var Zn=Object(Oe.b)(Ee)((function(e){var t=r.a.useState([]),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(!1),i=Object(b.a)(s,2),o=i[0],u=i[1],p=e.pack;r.a.useEffect((function(){return c(e.pack.rounds)}),[e.pack.rounds]);var f=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(I.a)(p.rounds)).push({name:t,themes:[]}),h(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(n),a=Object(l.a)(Object(l.a)({},p),{},{rounds:n}),t.next=4,F(a);case 4:e.dispatch({type:"pack/load",pack:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=a.map((function(e){return e.name}));return Object(it.jsxs)("div",{className:wn.a.rounds,children:[Object(it.jsx)(Xn,{showButton:Boolean(a.length),onSwitch:function(){u(!o)},editing:o,heading:"\u0420\u0430\u0443\u043d\u0434\u044b \u043f\u0430\u043a\u0430"}),Object(it.jsx)(Qn,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(b.a)(r,1)[0];return a.splice(n,0,c),a}(a,e.source.index,e.destination.index);h(t)}},droppableId:"rounds",droppableClassName:wn.a.droppable,itemComponent:Tn,draggableProps:{pack:p,editing:o,handleRemoveRound:function(e){var t=Object(I.a)(p.rounds);t.splice(e,1),h(t)},handleRoundNameChange:function(e,t){var n=Object(I.a)(a);n[t].name=e.target.value,h(n)},roundNamesTextInput:m},list:a,noItemsLabel:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0440\u0430\u0443\u043d\u0434\u043e\u0432"}),Object(it.jsx)(Vn,{onAdd:f,inputLabel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0443\u043d\u0434\u0430",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0443\u043d\u0434"})]})})),$n=n(40),ea=n.n($n);function ta(e){return e.children.map((function(t,n){return Object(it.jsx)(na,{first:e.starting&&0===n,last:e.ending&&n===e.children.length-1,children:t},n)}))}function na(e){var t=Object(o.h)().pathname.split("/").filter(String)[1],n=e.children.link&&e.children.link.replace("%packUUID%",t);return Object(it.jsxs)("li",{className:e.children.done&&ea.a.done,children:[Object(it.jsx)(aa,{first:e.first,last:e.last}),n?Object(it.jsxs)(i.b,{to:n,className:ea.a.link,children:[Object(it.jsx)("span",{children:e.children.name}),Object(it.jsx)(_e.o,{})]}):Object(it.jsx)("span",{children:e.children.name})]})}function aa(e){return Object(it.jsxs)("span",{className:ea.a.marker,children:[Object(it.jsx)("span",{className:fe()(ea.a.lineBefore,Object(je.a)({},ea.a.hidden,e.first))}),Object(it.jsx)("span",{className:ea.a.bullet}),Object(it.jsx)("span",{className:fe()(ea.a.lineAfter,Object(je.a)({},ea.a.hidden,e.last))})]})}var ra=Object(Oe.b)(Ee)((function(e){var t,n={required:[{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u043e\u0432 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.authors)},{name:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u044f\u0437\u044b\u043a \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.language)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0443\u043d\u0434",link:"/pack/%packUUID%/",done:Boolean(e.pack.rounds.length)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u043c\u044b \u0432\u043e \u0432\u0441\u0435\u0445 \u0440\u0430\u0443\u043d\u0434\u0430\u0445",done:Le(e.pack)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432\u043e \u0432\u0441\u0435\u0445 \u0442\u0435\u043c\u0430\u0445",done:Ae(e.pack)},{name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0435",done:He(e.pack)}],optional:[{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043a\u043e\u043d\u043a\u0443 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.logo)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 \u043f\u0430\u043a\u0430",link:"/pack/%packUUID%/settings/",done:Boolean(e.pack.tags)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5 \u0442\u0435\u043c \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0443\u043d\u0434\u0435",done:(t=e.pack,Boolean(t.rounds.length&&t.rounds.every((function(e){return e.themes.length>=5}))))},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 25 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u0441\u0435\u0433\u043e",done:ze(e.pack)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439",done:Me(e.pack)},{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435",done:We(e.pack)},{name:"\u0421\u0436\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0431\u044b\u043b \u043c\u0435\u043d\u0435\u0435 1 \u041c\u0411"}]},a=function(e){return e.filter((function(e){return void 0!==e.done}))},r=function(e,t){return e+Number(t.done)},c=a(n.required).reduce(r,0)+a(n.optional).reduce(r,0),s=a(n.required).length+a(n.optional).length;return Object(it.jsxs)("div",{className:ea.a.container,children:[Object(it.jsx)(Zt.a,{variant:"h6",className:ea.a.text,children:"\u0427\u0435\u043a\u043b\u0438\u0441\u0442:"}),Object(it.jsxs)("div",{className:ea.a.progress,children:[Object(it.jsx)(pn.a,{variant:"determinate",value:c/s*100,className:ea.a.progressBar}),Object(it.jsxs)(Zt.a,{variant:"subtitle1",color:"text.secondary",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e: ",c," \u0438\u0437 ",s]})]}),Object(it.jsxs)("ol",{className:ea.a.list,children:[Object(it.jsx)(ta,{starting:!0,children:n.required}),Object(it.jsxs)("div",{className:ea.a.caption,children:[Object(it.jsx)("span",{className:ea.a.line}),Object(it.jsx)(Zt.a,{variant:"overline",className:ea.a.text,children:"\u041c\u043e\u0436\u043d\u043e \u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043a"}),Object(it.jsx)("span",{className:ea.a.line})]}),Object(it.jsx)(ta,{ending:!0,children:n.optional})]})]})}));function ca(){return Object(it.jsxs)("div",{className:kn.a.roundsPage,children:[Object(it.jsx)(Zn,{}),Object(it.jsx)(ra,{})]})}var sa=n(148),ia=n.n(sa),oa=n(95),la=n(29),ua=n(75),da=n(493),ja=n(498),ba=n(525),pa=n(499),fa=n(248),ha=n.n(fa),ma=n(67),xa=n.n(ma),Oa=n(140),va=n.n(Oa),ga=n(20),ya=n.n(ga),ka=n(489);function _a(e){var t=r.a.useContext(pt);return Object(it.jsxs)(ka.a,{className:ya.a.filters,children:[Object(it.jsxs)("div",{className:ya.a.text,children:[Object(it.jsx)(_e.l,{}),Object(it.jsx)(Zt.a,{variant:"overline",color:"text.secondary",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"})]}),e.packs.map((function(n,a){var r,c;return Object(it.jsx)(Nt.a,{control:Object(it.jsx)(wt.a,{checked:Boolean(null===(r=e.checkboxes[a])||void 0===r?void 0:r.checked),onChange:function(t){return function(t,n){var a=Object(I.a)(e.checkboxes);a[n]=Object(l.a)(Object(l.a)({},a[n]),{},{checked:t.target.checked}),e.onChange(a)}(t,a)}}),className:ya.a.checkbox,label:null===n?"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0438":n.name,onContextMenu:(c=null===n?null:n.uuid,function(n){t.open(n,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(it.jsx)(_e.d,{}),action:function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==c){t.next=8;break}return t.next=3,re();case 3:return n=t.sent,t.next=6,Promise.all(n.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:return e.sent.forEach((function(e){return ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:e})})),e.next=6,ue(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:t.next=14;break;case 8:return t.next=10,ee(c);case 10:return t.sent.forEach((function(e){return ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:e})})),t.next=14,ue(c);case 14:e.reloadPacks();case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}])})},a)}))]})}var wa=n(510);function Na(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(!1),i=Object(b.a)(s,2),o=i[0],l=i[1],u=r.a.useState(!1),p=Object(b.a)(u,2),f=p[0],h=p[1],m=r.a.useContext(pt);r.a.useEffect((function(){var t=e.file.url;if(!t){var n=URL.createObjectURL(e.file.miniature);return c(n),function(){return URL.revokeObjectURL(n)}}c(t)}),[e.file.miniature]);var x=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.file.fileURI,h(!0),t.next=4,se(n);case 4:ke.dispatch({type:"fileRendering/fileUnlinked",fileURI:n}),h(!1),e.onRemove(),l(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(wa.a,{item:!0,xs:4,md:6,sm:12,className:ya.a.item,onClick:function(){return e.handleSelect(e.file.fileURI)},onContextMenu:function(e){m.open(e,[{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:Object(it.jsx)(_e.d,{}),action:function(){return x()}}])},children:Object(it.jsxs)("div",{className:ya.a.itemInner,children:[Object(it.jsx)(Yt.a,{className:ya.a.button,size:"small",onClick:function(e){e.stopPropagation(),l(!0)},children:Object(it.jsx)(_e.n,{})}),Object(it.jsxs)("div",{className:ya.a.preview,children:[Object(it.jsx)("img",{src:a,className:ya.a.foreground}),Object(it.jsx)("img",{src:a,className:ya.a.background})]}),Object(it.jsx)("div",{className:ya.a.fileName,children:e.file.fileName})]})}),Object(it.jsxs)(_t.a,{open:o,onClose:function(e){if(f)return!1;e.stopPropagation(),l(!1)},children:[Object(it.jsxs)(gt.a,{className:ya.a.title,children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435 ",e.file.filename]}),Object(it.jsxs)(yt.a,{children:[Object(it.jsxs)("p",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430: ",Object(it.jsx)("b",{children:va()(e.file.size,{symbols:Fa})})]}),Object(it.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f: ",Object(it.jsx)("b",{children:Pe(new Date(e.file.addedAt))})]}),Object(it.jsx)(Ot.a,{variant:"contained",className:ya.a.delete,onClick:x,disabled:f,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b"})]})]})]})}function Ia(e){var t=r.a.useState([]),n=Object(b.a)(t,2),a=n[0],c=n[1];r.a.useEffect((function(){s()}),[e.packs]);var s=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a,r,s,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(Object.keys(e.packs));case 2:n=t.sent,a=[],s=Object(be.a)(n);try{for(s.s();!(i=s.n()).done;)o=i.value,r!==o.packUUID?(r=o.packUUID,a.push({packName:e.packs[r],files:[o]})):a[a.length-1].files.push(o)}catch(l){s.e(l)}finally{s.f()}c(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(it.jsx)("div",{className:ya.a.list,children:Object(it.jsx)("div",{className:ya.a.content,children:a.length?a.map((function(t,n){return Object(it.jsxs)("div",{children:[Object(it.jsx)("div",{className:ya.a.packDivider,children:t.packName?Object(it.jsxs)(it.Fragment,{children:["\u041f\u0430\u043a ",Object(it.jsx)("b",{children:t.packName})]}):Object(it.jsx)(it.Fragment,{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u043a"})}),Object(it.jsx)(wa.a,{container:!0,spacing:2,className:ya.a.grid,children:t.files.map((function(t,a){return Object(it.jsx)(Na,{file:t,handleSelect:e.handleSelect,onRemove:s},"".concat(n,"_").concat(a))}))})]},n)})):Object(it.jsxs)("div",{className:ya.a.noFilesYet,children:[Object(it.jsx)(Zt.a,{className:ya.a.hint,children:"\u0424\u0430\u0439\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),Object(it.jsx)(Zt.a,{className:ya.a.hint,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),Object(it.jsx)(Zt.a,{className:ya.a.hint,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})})})}var Ca=n(491),Sa=n(539),Ra=n(535);function Da(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),o=i[0],u=i[1],p=r.a.useState(),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState([]),O=Object(b.a)(x,2),v=O[0],g=O[1],y=r.a.useState(!1),k=Object(b.a)(y,2),_=k[0],w=k[1],N=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(!1),c(!0),m(n.length),a=[],r=!1,t.t0=d.a.keys(n);case 6:if((t.t1=t.t0()).done){t.next=23;break}return s=t.t1.value,u(Number(s)+1),(i=n[s]).filename=i.name,t.prev=11,t.next=14,V(i,e.packUUID);case 14:t.next=21;break;case 16:t.prev=16,t.t2=t.catch(11),console.error(t.t2),r=!0,g(a.concat({filename:i.name,errorMessage:t.t2}));case 21:t.next=6;break;case 23:w(!0),r||(c(!1),e.setTab("added"));case 25:case"end":return t.stop()}}),t,null,[[11,16]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,s,i,o,l,u,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.url,e.prev=1,e.next=4,fetch(o);case 4:if(l=e.sent,200===(null===(u=l)||void 0===u?void 0:u.status)){e.next=7;break}throw{};case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{url:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"});case 12:if(t.file={},t.file.type=null===(n=l)||void 0===n||null===(a=n.headers)||void 0===a||null===(r=a.get)||void 0===r?void 0:r.call(a,"content-type"),K.includes(t.file.type)){e.next=16;break}return e.abrupt("return",{url:"\u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430"});case 16:return e.next=18,l.blob();case 18:j=e.sent,t.file.size=j.size,t.file.name=j.name||(null===(c=l)||void 0===c||null===(s=c.headers)||void 0===s||null===(i=s.get)||void 0===i?void 0:i.call(s,"content-disposition"))||o.split("/").splice(-1)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f";case 21:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(oa.a)({initialValues:{url:""},validationSchema:la.d({url:la.e().url("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441")}),validate:I,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.prev=1,t.next=4,Q(n.url,n.file,e.packUUID);case 4:t.next=12;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),a=!0,g([{filename:n.file.name,errorMessage:t.t0}]),c(!0);case 12:!a&&e.setTab("added");case 13:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()});return a?Object(it.jsx)("div",{className:ya.a.uploadingFiles,children:Object(it.jsxs)("div",{className:ya.a.uploadingScreen,children:[Object(it.jsx)("div",{className:ya.a.uploadingCaption,children:_?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(_e.e,{}),Object(it.jsx)("span",{className:ya.a.caption,children:v.length<h?"\u0424\u0430\u0439\u043b\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})]}):Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Ra.a,{size:20,thickness:10}),Object(it.jsxs)("span",{className:ya.a.caption,children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 ",o," \u0438\u0437 ",h]})]})}),Boolean(v.length)&&Object(it.jsxs)("div",{className:ya.a.errors,children:[Object(it.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432:"}),v.map((function(e,t){return Object(it.jsxs)("span",{children:["\u0424\u0430\u0439\u043b \xab",e.filename,"\xbb: ",{"File with such hash already exist":"\u0422\u0430\u043a\u043e\u0439 \u0444\u0430\u0439\u043b \u0443\u0436\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0432 \u044d\u0442\u043e\u0442 \u043f\u0430\u043a"}[e.errorMessage]]},t)}))]}),_&&Object(it.jsx)(Ot.a,{variant:"contained",onClick:function(){return c(!1)},children:"\u041e\u041a"})]})}):Object(it.jsxs)("div",{className:ya.a.addForm,children:[Object(it.jsx)(we.a,{onDropAccepted:N,accept:K,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(it.jsxs)("div",Object(l.a)(Object(l.a)({className:ya.a.dropzone},t()),{},{children:[Object(it.jsx)("input",Object(l.a)({},n())),Object(it.jsxs)("span",{className:ya.a.flex,children:[Object(it.jsx)(_e.k,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043c\u0435\u0434\u0438\u0430-\u0444\u0430\u0439\u043b"]}),Object(it.jsxs)("span",{className:ya.a.supportedTypes,children:[Object(it.jsx)("span",{children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u0442\u0438\u043f\u044b \u0444\u0430\u0439\u043b\u043e\u0432:"}),Object(it.jsx)("span",{children:"\u0424\u043e\u0442\u043e: png, jpeg, gif"}),Object(it.jsx)("span",{children:"\u0410\u0443\u0434\u0438\u043e: mp3, wav, ogg"}),Object(it.jsx)("span",{children:"\u0412\u0438\u0434\u0435\u043e: mp4"})]})]}))}}),Object(it.jsxs)("form",{onSubmit:C.handleSubmit,className:ya.a.downloadByURL,children:[Object(it.jsx)("span",{className:ya.a.hint,children:"\u0418\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e URL:"}),Object(it.jsx)(Ja,{name:"url",formik:C,label:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u0439\u043b\u0430",placeholder:"https://example.com/image.png",size:"small",className:ya.a.input}),Object(it.jsx)(Ot.a,{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})}var Ua=r.a.forwardRef((function(e,t){var n=r.a.useState("added"),a=Object(b.a)(n,2),c=a[0],s=a[1],i=r.a.useState(!1),o=Object(b.a)(i,2),l=o[0],u=o[1],p=r.a.useState((function(){return Fe})),f=Object(b.a)(p,2),h=f[0],m=f[1],x=r.a.useState([]),O=Object(b.a)(x,2),v=O[0],g=O[1],y=r.a.useState([]),k=Object(b.a)(y,2),_=k[0],w=k[1],N=r.a.useState([]),I=Object(b.a)(N,2),C=I[0],S=I[1],R=function(){u(!1),m((function(){return Fe}))};r.a.useImperativeHandle(t,(function(){return{open:function(e,t){return Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m((function(){return t})),n.next=3,D();case 3:u(!0),w(e);case 5:case"end":return n.stop()}}),n)})))()}}}));var D=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=e.sent,e.next=5,re();case 5:e.sent.length&&t.push(null),g(t),S(t.map((function(e){var t,n=null===e,a=n?null:e.uuid,r=null===(t=C.find((function(e){return e.uuid===a})))||void 0===t?void 0:t.checked;return{uuid:a,checked:void 0!==r?Boolean(r):!n}})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object.fromEntries(C.filter((function(e){return e.checked})).map((function(e){var t;return[e.uuid,null===e.uuid?"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0438":null===(t=v.find((function(t){return t.uuid===e.uuid})))||void 0===t?void 0:t.name]})));return Object(it.jsxs)(_t.a,{open:l,onClose:R,children:[Object(it.jsxs)(gt.a,{className:ya.a.title,children:[Object(it.jsx)("span",{children:"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0444\u0430\u0439\u043b\u043e\u0432"}),Object(it.jsx)(Yt.a,{onClick:R,className:ya.a.close,sx:{color:function(e){return e.palette.grey[500]}},children:Object(it.jsx)(_e.c,{})})]}),Object(it.jsxs)(yt.a,{className:ya.a.dialog,children:[Object(it.jsxs)(Ca.a,{value:c,variant:"fullWidth",onChange:function(e,t){return s(t)},textColor:"inherit",className:ya.a.tabs,children:[Object(it.jsx)(Sa.a,{label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435",value:"added"}),Object(it.jsx)(Sa.a,{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",value:"upload"})]}),"added"===c&&Object(it.jsxs)("div",{className:ya.a.files,children:[Object(it.jsx)(_a,{packs:v,checkboxes:C,onChange:S,reloadPacks:D}),Object(it.jsx)(Ia,{packs:B,handleSelect:function(e){R(),setTimeout((function(){return h(e)}),1)}})]}),"upload"===c&&Object(it.jsx)("div",{className:ya.a.upload,children:Object(it.jsx)(Da,{packUUID:_,setTab:s})})]})]})}));Ua.displayName="FileStorage";var Ba=Ua,Fa={B:"\u0411",kB:"\u043a\u0411",MB:"\u041c\u0411",GB:"\u0413\u0411",TB:"\u0422\u0411",PB:"\u041f\u0411",EB:"\u042d\u0411",ZB:"\u0417\u0411",YB:"\u0419\u0411"};function Pa(e){var t=e.onClick;return Object(it.jsx)("div",{className:xa.a.placeholder,onClick:t,children:Object(it.jsx)("span",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c"})})}function Ea(e){var t=e.onClick;return Object(it.jsx)("div",{className:xa.a.fileMissing,onClick:t,children:Object(it.jsx)(_e.h,{className:xa.a.icon})})}function Ta(){return Object(it.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u0432\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0435\u0433\u043e, \u043d\u043e \u0437\u0430\u0442\u0435\u043c \u0443\u0434\u0430\u043b\u0438\u043b\u0438 \u0438\u0437 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0444\u0430\u0439\u043b\u043e\u0432."})}function qa(e){var t=e.src;return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("span",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430: ",t.name]}),Object(it.jsxs)("span",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430: ",va()(t.size,{symbols:Fa})]})]})}function Aa(){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),Object(it.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0444\u0430\u0439\u043b, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043b\u0435\u0432\u0435\u0435."})]})}function La(){return Object(it.jsx)("div",{className:xa.a.loading,children:Object(it.jsx)(Ra.a,{})})}function za(e){var t=e.src,n=e.srcUrl,a=e.onClick,r=e.label;return Object(it.jsx)("img",{src:n,alt:n?"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044f ".concat(r," \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \xab").concat(t.name,"\xbb"):"",onClick:a,className:xa.a.image})}var Ma=Object(Oe.b)((function(e){return{pack:e.pack,fileRendering:e.fileRendering}}))((function(e){var t=r.a.useState({}),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(null),i=Object(b.a)(s,2),o=i[0],l=i[1],u=r.a.useState(!1),p=Object(b.a)(u,2),f=p[0],h=p[1],m=r.a.useRef();r.a.useEffect((function(){a.fileURI&&e.dispatch({type:"fileRendering/setFileUnlinkCallback",fileURI:a.fileURI,callback:function(){return h(!0)}})}),[h]),r.a.useEffect((function(){var t=e.value,n=function(){};return l(),t?Object(j.a)(d.a.mark((function a(){var r,s,i,o,u,j;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z(t);case 2:if(s=a.sent){a.next=5;break}return a.abrupt("return",h(!0));case 5:h(!1),i=s.miniature,o=s.fileName,u=s.size,c({name:o,size:u}),j=null!==(r=s.url)&&void 0!==r?r:URL.createObjectURL(i),l(j),e.dispatch({type:"fileRendering/fileRenderingStarted",fileURI:s.fileURI,callback:function(){return h(!0)}}),n=function(){j.startsWith("blob:")&&URL.revokeObjectURL(j),ke.dispatch({type:"fileRendering/fileRenderingStopped",fileURI:s.fileURI})};case 14:case"end":return a.stop()}}),a)})))():(c({}),l(null)),function(){return n()}}),[e.value]);var x=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return m.current.open(e.pack.uuid,t)}));case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:e.onChange(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(it.jsxs)("div",{className:xa.a.container,children:[Object(it.jsxs)(Zt.a,{variant:"body",color:"text.primary",gutterBottom:!0,className:xa.a.label,children:[e.label,":"]}),Object(it.jsxs)("div",{className:xa.a.preview,children:[null===o?Object(it.jsx)(Pa,{onClick:x}):f?Object(it.jsx)(Ea,{onClick:x}):void 0!==o?Object(it.jsx)(za,{src:a,srcUrl:o,label:e.label,onClick:x}):Object(it.jsx)(La,{}),Object(it.jsxs)("div",{className:xa.a.info,children:[f?Object(it.jsx)(Ta,{}):a.size?Object(it.jsx)(qa,{src:a}):Object(it.jsx)(Aa,{}),Object(it.jsx)(Ot.a,{variant:"contained",onClick:function(){h(!1),e.onChange(void 0)},disabled:!o&&!f,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u0435"})]})]}),Object(it.jsx)(Ba,{ref:m})]})})),Wa=["name","formik"],Ha=["formik","name"],Ka=["formik","name","options"],Va=["formik","name"],Ya=["formik","name"],Qa=["formik","name"],Ga=function(e,t){return{error:Boolean(e.errors[t]),helperText:e.errors[t]}};function Ja(e){var t=e.name,n=e.formik,a=Object(ua.a)(e,Wa);return Object(it.jsx)(Dt.a,Object(l.a)(Object(l.a)({name:t,value:n.values[t],onChange:function(e){n.handleChange(e),n.setTouched(Object(l.a)(Object(l.a)({},n.touched),{},Object(je.a)({},t,!0)))}},Ga(n,t)),a))}function Xa(e){var t,n=e.formik,a=e.name,r=Object(ua.a)(e,Ha),c=null!==(t=n.values[a])&&void 0!==t?t:[];1===c.length&&""===c[0]&&(c=[]);var s=function(e){"Enter"===e.key&&e.preventDefault()};return Object(it.jsx)(da.a,Object(l.a)(Object(l.a)({},r),{},{multiple:!0,options:[],value:c,getOptionLabel:function(e){return e},freeSolo:!0,clearOnBlur:!0,onChange:function(e,t){n.setFieldValue(a,t),n.setTouched(Object(l.a)(Object(l.a)({},n.touched),{},Object(je.a)({},a,!0)))},renderInput:function(e){return Object(it.jsx)(Dt.a,Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},r),e),Ga(n,a)),{},{placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 Enter, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onKeyDown:s}))}}))}function Za(e){var t=e.formik,n=e.name,a=e.options,r=Object(ua.a)(e,Ka),c={error:Boolean(t.errors[n])};return Object(it.jsxs)(Wn.a,{fullWidth:!0,children:[Object(it.jsx)(Mn.a,Object(l.a)(Object(l.a)({},c),{},{children:e.label})),Object(it.jsx)(ja.a,Object(l.a)(Object(l.a)(Object(l.a)({},r),{},{name:n,value:t.values[n],onChange:function(e){t.handleChange(e),t.setTouched(Object(l.a)(Object(l.a)({},t.touched),{},Object(je.a)({},n,!0)))}},c),{},{children:Object.entries(a).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(it.jsx)(dt.a,{value:n,children:a},n)}))})),Object(it.jsx)(ba.a,{error:!0,children:t.errors[n]&&t.errors[n]})]})}function $a(e){var t=e.formik,n=e.name,a=Object(ua.a)(e,Va);return Object(it.jsx)(Nt.a,Object(l.a)({control:Object(it.jsx)(wt.a,{name:n,checked:t.values[n],onChange:function(e){t.handleChange(e),t.setTouched(Object(l.a)(Object(l.a)({},t.touched),{},Object(je.a)({},n,!0)))}})},a))}function er(e){var t=e.formik,n=e.name,a=Object(ua.a)(e,Ya),c=r.a.useState(t.values[n]),s=Object(b.a)(c,2),i=s[0],o=s[1];return r.a.useEffect((function(){return t.setFieldValue(n,i)}),[i]),Object(it.jsxs)("div",{className:ha.a.slider,children:[Object(it.jsx)("span",{children:a.label}),Object(it.jsx)(pa.a,Object(l.a)({name:n,value:i,onChange:function(e){return requestAnimationFrame((function(){return function(e){o(e),t.setTouched(Object(l.a)(Object(l.a)({},t.touched),{},Object(je.a)({},n,!0)))}(e.target.value)}))},valueLabelDisplay:"auto",marks:!0},a))]})}function tr(e){var t=e.formik,n=e.name,a=Object(ua.a)(e,Qa);return Object(it.jsx)(Ma,Object(l.a)(Object(l.a)({},a),{},{value:t.values[n],onChange:function(e){t.setFieldValue(n,null!==e&&void 0!==e?e:"");var a=Object(l.a)({},t.touched);if(void 0!==e||t.initialValues[n]!==(null!==e&&void 0!==e?e:""))a=Object(l.a)(Object(l.a)({},t.touched),{},Object(je.a)({},n,!0));else{var r=Object(l.a)({},t.touched);delete r[n],a=r}t.setTouched(a)}}))}var nr=n(141),ar=la.d({logo:la.e("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0430\u043a\u0430"),name:la.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),authors:la.a().ensure().min(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0430\u0432\u0442\u043e\u0440\u0430"),publisher:la.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0437\u0434\u0430\u0442\u0435\u043b\u044f"),difficulty:la.c("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u043a\u0430").positive().min(1).max(10).integer("\u0427\u0438\u0441\u043b\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438"),comment:la.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),tags:la.a().ensure(),language:la.e("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u043f\u0430\u043a\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u044f\u0437\u044b\u043a"),over18:la.b("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u043a\u0430")});var rr=Object(Oe.b)(Ee)((function(e){var t=r.a.useState(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],s=Object(o.g)(),i=qe(ar,e.pack),u=Object(oa.a)({initialValues:i,validationSchema:ar,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),a=Object(l.a)(Object(l.a)({},e.pack),n),t.next=4,F(a);case 4:e.dispatch({type:"pack/load",pack:a}),s.push("/pack/".concat(a.uuid));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return Object(nr.a)((function(e){Object.keys(u.touched).length&&e.preventDefault()})),Object(it.jsxs)("div",{className:ia.a.container,children:[Object(it.jsxs)("form",{onSubmit:u.handleSubmit,className:ia.a.form,children:[Object(it.jsx)(Ja,{name:"name",formik:u,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:a}),Object(it.jsx)(Xa,{name:"authors",formik:u,label:"\u0410\u0432\u0442\u043e\u0440\u044b",disabled:a}),Object(it.jsx)(tr,{name:"logo",formik:u,label:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(it.jsx)(Ja,{name:"publisher",formik:u,label:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043f\u0430\u043a\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:a}),Object(it.jsx)(er,{name:"difficulty",label:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c",formik:u,disabled:a,step:1,min:1,max:10}),Object(it.jsx)(Za,{name:"language",formik:u,label:"\u042f\u0437\u044b\u043a \u043f\u0430\u043a\u0430",options:{"":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e","ru-RU":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (ru-RU)","en-US":"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 (en-US)"},disabled:a}),Object(it.jsx)(Ja,{name:"comment",formik:u,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:a}),Object(it.jsx)(Xa,{name:"tags",formik:u,label:"\u0422\u0435\u0433\u0438 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:a}),Object(it.jsx)($a,{name:"over18",formik:u,label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 18+",disabled:a}),Object(it.jsx)(Ot.a,{color:"primary",variant:"contained",type:"submit",disabled:!Object.keys(u.touched).length||a,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(it.jsx)(o.a,{when:Object.keys(u.touched).length&&!a,message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439?"}),Object(it.jsx)("div",{className:ia.a.info,children:Object(it.jsxs)("ul",{children:[Object(it.jsxs)("li",{children:["\u0412\u0435\u0440\u0441\u0438\u044f XML \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430: ",Object(it.jsx)("span",{children:v})]}),Object(it.jsxs)("li",{children:["\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435: ",Object(it.jsx)("span",{children:g})]}),Object(it.jsxs)("li",{children:["\u0412\u0435\u0440\u0441\u0438\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430: ",Object(it.jsx)("span",{children:e.pack.version})]}),Object(it.jsxs)("li",{children:["UUID: ",Object(it.jsx)("span",{children:e.pack.uuid})]}),Object(it.jsxs)("li",{children:["\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",Object(it.jsx)("span",{children:e.pack.date})]})]})})]})})),cr=n(249),sr=n.n(cr),ir=n(250),or=n.n(ir);function lr(){return Object(it.jsx)("div",{className:or.a.centered,children:Object(it.jsx)(Zt.a,{variant:"h1",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})}var ur=n(48),dr=n.n(ur),jr=n(527),br=n(528),pr=n(530),fr=n(531),hr=n(529),mr=n(521),xr=n(492);function Or(e){var t=Object(o.j)().url;return Object(it.jsx)(jr.a,{component:mr.a,className:dr.a.table,children:Object(it.jsx)(br.a,{children:Object(it.jsx)(hr.a,{children:e.themes.map((function(e,n){return Object(it.jsxs)(pr.a,{sx:{"&:last-child td, &:last-child th":{borderBottom:0}},children:[Object(it.jsx)(fr.a,{component:"th",scope:"row",className:dr.a.rowName,children:e.name}),e.questions.length?e.questions.map((function(e,a){return Object(it.jsx)(fr.a,{className:dr.a.tableCell,children:Object(it.jsx)(i.b,{to:"".concat(t,"/themes/").concat(n+1,"/questions/").concat(e.price),children:Object(it.jsx)(xr.a,{className:dr.a.buttonBase,children:e.price})})},a)})):Object(it.jsx)(fr.a,{align:"right",colspan:"1000",children:Object(it.jsx)(Zt.a,{color:"text.secondary",variant:"caption",children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"})})]},n)}))})})})}var vr=n(540);function gr(e){return Object(it.jsx)(fr.a,{align:"right",style:{width:e.wp/26*100+"%"},children:e.children})}var yr=Object(Oe.b)(Ee)((function(e){var t=Object(o.g)(),n=Object(o.j)(),a=e.theme.questions.sort((function(e,t){return e.price-t.price})),r="".concat(n.url,"/themes/").concat(e.themeIndex+1,"/questions"),c={sx:{"&:last-child td, &:last-child th":{border:0}}},s={component:"th",scope:"row"};return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(jr.a,{children:Object(it.jsxs)(br.a,{sx:{minWidth:650},children:[Object(it.jsx)(vr.a,{children:Object(it.jsxs)(pr.a,{children:[Object(it.jsx)(fr.a,{children:"\u0426\u0435\u043d\u0430"}),Object(it.jsx)(gr,{wp:10,children:"\u0422\u0435\u043a\u0441\u0442"}),Object(it.jsx)(gr,{wp:9,children:"\u041e\u0442\u0432\u0435\u0442\u044b"}),Object(it.jsx)(gr,{wp:4,children:"\u0412\u0438\u0434 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"}),Object(it.jsx)(gr,{wp:1,children:Object(it.jsx)(_e.m,{})}),Object(it.jsx)(gr,{wp:1,children:Object(it.jsx)(_e.p,{})}),Object(it.jsx)(gr,{wp:1,children:Object(it.jsx)(_e.t,{})})]})}),Object(it.jsx)(hr.a,{children:a.length?a.map((function(e,n){var a,i,o,u,d,j,b,p,f;return Object(it.jsxs)(pr.a,Object(l.a)(Object(l.a)({hover:!0,onClick:(f=e.price,function(){return t.push("".concat(r,"/").concat(f))}),className:dr.a.tableRow},c),{},{children:[Object(it.jsx)(fr.a,Object(l.a)(Object(l.a)({},s),{},{children:e.price})),Object(it.jsx)(gr,{wp:10,children:null===(a=e.scenario)||void 0===a?void 0:a.filter((function(e){return"text"===e.type})).map((function(e){return e.data.text})).join(", ")}),Object(it.jsxs)(gr,{wp:10,children:[null===(i=e.correctAnswers)||void 0===i?void 0:i.map((function(e,t,n){return Object(it.jsxs)("span",{children:[e,t!==n.length-1&&", "]},t)})),(null===(o=e.incorrectAnswers)||void 0===o?void 0:o.length)&&", ",null===(u=e.incorrectAnswers)||void 0===u?void 0:u.map((function(e,t,n){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("span",{className:dr.a.strikethrough,children:e},t),t!==n.length-1&&", "]})}))]}),Object(it.jsx)(gr,{wp:3,children:(p=e.type,Te[p]||p)}),Object(it.jsx)(gr,{wp:1,children:(null===(d=e.scenario)||void 0===d?void 0:d.some((function(e){return"image"===e.type})))&&Object(it.jsx)(_e.e,{})}),Object(it.jsx)(gr,{wp:1,children:(null===(j=e.scenario)||void 0===j?void 0:j.some((function(e){return"audio"===e.type})))&&Object(it.jsx)(_e.e,{})}),Object(it.jsx)(gr,{wp:1,children:(null===(b=e.scenario)||void 0===b?void 0:b.some((function(e){return"movie"===e.type})))&&Object(it.jsx)(_e.e,{})})]}),n)})):Object(it.jsx)(pr.a,Object(l.a)(Object(l.a)({},c),{},{children:Object(it.jsx)(fr.a,Object(l.a)(Object(l.a)({},s),{},{colSpan:7,children:Object(it.jsx)(Zt.a,{color:"text.secondary",variant:"caption",children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"})}))}))})]})}),Object(it.jsx)(i.b,{to:"".concat(r,"/add"),children:Object(it.jsx)(Ot.a,{color:"primary",startIcon:Object(it.jsx)(_e.a,{}),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"})})]})})),kr=n(500),_r=n(536),wr=n(537),Nr=function(e){return Object(it.jsx)("div",Object(l.a)(Object(l.a)({onClick:function(e){return e.stopPropagation()}},e),{},{children:e.children}))};Nr.displayName="ClickIsolator";var Ir=Nr;var Cr=Object(Oe.b)(Ee)((function(e){var t=e.item,n=e.draggableId===e.expandId,a=r.a.useState(t.name),c=Object(b.a)(a,2),s=c[0],i=c[1],o=function(t){t.stopPropagation(),e.handleRemoveTheme(e.index)},l=function(t){var n=t.target.value;i(n),e.handleChangeThemeName(e.index,n)};return Object(it.jsx)(Bn,{index:e.index,draggableId:t.id.toString(),children:function(a){return Object(it.jsxs)(kr.a,{expanded:n,onChange:function(n,a){return e.setExpand(a?t.id:void 0)},children:[Object(it.jsx)(_r.a,{expandIcon:Object(it.jsx)(_e.i,{}),children:Object(it.jsxs)("div",{className:dr.a.toolbar,children:[Object(it.jsx)(En,{provided:a}),Object(it.jsx)(Ir,{className:dr.a.name,children:Object(it.jsx)(Dt.a,{value:s,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b",variant:"outlined",onChange:l,size:"small",fullWidth:!0})}),Object(it.jsx)(Yt.a,{onClick:o,className:dr.a.delete,children:Object(it.jsx)(_e.d,{className:dr.a.delete})})]})}),Object(it.jsx)(wr.a,{children:Object(it.jsx)(yr,{theme:t,themeIndex:e.index})})]})}})}));function Sr(e){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Qn,{droppableId:"themes",onDragEnd:e.onDragEnd,list:e.themes,draggableProps:{setExpand:e.setExpand,handleRemoveTheme:e.handleRemoveTheme,handleChangeThemeName:e.handleChangeThemeName,expandId:e.expand},noItemsLabel:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u043c",itemComponent:Cr,useIdAsKey:!0}),Object(it.jsx)(Vn,{onAdd:e.handleAddTheme,inputLabel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043c\u044b",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043c\u0443",className:dr.a.addTheme})]})}var Rr=Object(Oe.b)(Ee)((function(e){var t=r.a.useState([]),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),l=i[0],u=i[1],p=Object(o.h)().pathname.split(new RegExp("/pack/".concat(_,"/rounds/")),2)[1],f=r.a.useState(),h=Object(b.a)(f,2),m=h[0],x=h[1],O=r.a.useState(!1),v=Object(b.a)(O,2),g=v[0],y=v[1],k=e.pack.rounds[p-1];r.a.useEffect((function(){u(!!k)}),[]);var w=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Object(I.a)(a)).push({name:t,id:Date.now(),questions:[]}),N(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(j.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(n),(a=sr()(e.pack)).rounds[p-1].themes=n,t.next=5,F(a);case 5:e.dispatch({type:"pack/load",pack:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.useEffect((function(){k&&c(k.themes)}),[]),void 0!==l&&(l?Object(it.jsxs)("div",{children:[Object(it.jsx)(Xn,{showButton:Boolean(a.length),onSwitch:function(){return y(!g)},editing:g,heading:"\u0422\u0435\u043c\u044b \u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0440\u0430\u0443\u043d\u0434\u0430 ".concat(k.name)}),a.length&&!g?Object(it.jsx)(Or,{themes:a}):Object(it.jsx)(Sr,{themes:a,onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(b.a)(r,1)[0];return a.splice(n,0,c),a}(a,e.source.index,e.destination.index);N(t)}},expand:m,setExpand:x,setEditing:y,handleAddTheme:w,handleRemoveTheme:function(e){var t=Object(I.a)(a);t.splice(e,1),N(t)},handleChangeThemeName:function(e,t){var n=Object(I.a)(a);n[e].name=t,N(n)}})]}):Object(it.jsx)(lr,{}))})),Dr=n(32),Ur=n.n(Dr),Br=Object(it.jsxs)("p",{children:[Object(it.jsx)("b",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"})," \u2014 \u044d\u0442\u043e \u0447\u0438\u0441\u043b\u043e \u043e\u0447\u043a\u043e\u0432, \u043e\u0431\u044b\u0447\u043d\u043e \u043a\u0440\u0430\u0442\u043d\u043e\u0435 100, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0438 \u0442\u0435\u0440\u044f\u0435\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 (\u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0412\u043e\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0440\u0438\u0441\u043a\u0430). \u042d\u0442\u043e \u0447\u0438\u0441\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0440\u0430\u0443\u043d\u0434\u0430."]}),Fr=Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("p",{children:[Object(it.jsx)("b",{children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439"})," \u2014 \u042d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f, \u0437\u0430\u0442\u0435\u043c \u0443 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0435\u0441\u0442\u044c \u0432\u0440\u0435\u043c\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443. \u041d\u0430\u0436\u0430\u0432\u0448\u0438\u0439 \u0440\u0430\u043d\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u0441\u0447\u0451\u0442\u0443 \u0438\u0433\u0440\u043e\u043a\u0430, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e - \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0441\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441\u043e \u0441\u0447\u0451\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0441\u043d\u043e\u0432\u0430 \u043c\u043e\u0433\u0443\u0442 \u0436\u0430\u0442\u044c \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0432\u0448\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438."]}),Object(it.jsxs)("p",{children:[Object(it.jsx)("b",{children:"\u0421\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 (\u0430\u0443\u043a\u0446\u0438\u043e\u043d)"})," \u2014 \u041f\u0440\u0438 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f \u0441\u0443\u043c\u043c (\u043d\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0442\u043e\u0433\u043e, \u043a\u043e\u043c\u0443 \u0432\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u0441\u0442\u0430\u043b\u0441\u044f), \u0434\u0435\u043b\u0430\u044e\u0442 \u0441\u0442\u0430\u0432\u043a\u0438, \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0440\u0430\u0432\u043d\u0430 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u041c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c \xab\u041f\u0430\u0441\xbb \u0438 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0442\u043e\u0440\u0433\u043e\u0432. \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u0439\u0442\u0438 \xab\u0432\u0430-\u0431\u0430\u043d\u043a\xbb \u2014 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0441\u0451 \u043d\u0430 \u043a\u043e\u043d. \u0412\u0430-\u0431\u0430\u043d\u043a \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u043d\u043e \u043f\u043e\u0439\u0442\u0438 \u0432\u0430-\u0431\u0430\u043d\u043a \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u044f \u043f\u043e \u0441\u0443\u043c\u043c\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443. \u0422\u043e\u0442, \u043a\u0442\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445, \u0431\u0443\u0434\u0435\u0442 \u0435\u0434\u0438\u043d\u0438\u043b\u0438\u0447\u043d\u043e \u0438\u0433\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f. \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0440\u0430\u0432\u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0433\u0440\u0430\u044e\u0449\u0435\u0433\u043e."]}),Object(it.jsxs)("p",{children:[Object(it.jsx)("b",{children:"\u0421 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c"})," \u2014 \u0422\u043e\u0442, \u043a\u043e\u043c\u0443 \u0434\u043e\u0441\u0442\u0430\u043b\u0441\u044f \u0432\u043e\u043f\u0440\u043e\u0441, \u043e\u0431\u044f\u0437\u0430\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0443, \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0431\u044f\u0437\u0430\u043d \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441. \u0412\u043e\u043f\u0440\u043e\u0441 \u0438\u043c\u0435\u0435\u0442 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0443\u044e \u0434\u043e \u043e\u0442\u0434\u0430\u0447\u0438."]}),Object(it.jsxs)("p",{children:[Object(it.jsx)("b",{children:"\u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435"})," \u2014 \u041d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 1 \u0447\u0435\u043b\u043e\u0432\u0435\u043a. \u041e\u0442\u0432\u0435\u0447\u0430\u044e\u0449\u0435\u0433\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438\u0433\u0440\u043e\u043a. \u0423 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0442\u0435\u043c\u0430 \u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c."]}),Object(it.jsxs)("p",{children:[Object(it.jsx)("b",{children:"\u0411\u0435\u0437 \u0440\u0438\u0441\u043a\u0430"})," \u2014 \u041d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0433\u0440\u043e\u043a, \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0438\u0439 \u0435\u0433\u043e. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u043d \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u0443\u043c\u043c\u0443, \u0440\u0430\u0432\u043d\u0443\u044e \u0443\u0434\u0432\u043e\u0435\u043d\u043d\u043e\u043c\u0443 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u043d \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0442\u0435\u0440\u044f\u0435\u0442."]})]}),Pr=Object(it.jsx)("p",{children:"\u0420\u0430\u043d\u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0442\u0435\u043c\u0430\u043c\u0438, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438\u0448\u044c \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c \u0438 \u043a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435."}),Er=Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("p",{children:"\u0420\u0430\u043d\u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0442\u0435\u043c\u0430\u043c\u0438, \u0432 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438\u0448\u044c \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c \u0438 \u043a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435."}),Object(it.jsx)("p",{children:"\u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u043b\u0435 \u0448\u0430\u0433, \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0430 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430."})]}),Tr="\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0442\u0435\u043c\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u2014 \u044d\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0430, \u0435\u0435 \u0443\u0437\u043d\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e. \u0412\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u0442\u0435\u043c\u0443, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0432 \u044d\u0442\u043e\u043c \u043f\u043e\u043b\u0435.",qr=Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("p",{children:"\u0423 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u041a\u043e\u0442 \u0432 \u043c\u0435\u0448\u043a\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \xab\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\xbb, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430, \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0438 \u043e\u0442 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0440\u0430\u0443\u043d\u0434\u0430."}),Object(it.jsxs)("p",{children:["\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0438\u043b\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u044b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435",Object(it.jsx)("b",{children:"\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),", \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0435 \u043d\u0438\u0436\u0435."]}),Object(it.jsx)("p",{children:"\u0412\u043e \u0432\u0442\u043e\u0440\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u043c, \u043d\u0430 \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0434\u0430\u0435\u0442\u0441\u044f \u0434\u0432\u0430 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430: \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0430\u044f \u0438 \u043d\u0430\u0438\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0437 \u0432\u0441\u0435\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0440\u0430\u0443\u043d\u0434\u0435."}),Object(it.jsx)("p",{children:"\u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u044d\u0442\u043e \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0432 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c \u0432\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0432\u0430\u043c\u0438 \u0448\u0430\u0433\u043e\u043c. \u0415\u0441\u043b\u0438 \u0448\u0430\u0433 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d, \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u0440\u0430\u0439\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),Ar=Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("p",{children:["\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0435\u0441\u0442\u044c ",Object(it.jsx)("b",{children:"\u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})," \u2014 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0439 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430. \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u2014 \u0442\u0435\u043a\u0441\u0442\u0430, \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u0430\u0443\u0434\u0438\u043e \u0438\u043b\u0438 \u0432\u0438\u0434\u0435\u043e, \u0442\u0435\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e 100 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 \u043e\u0434\u0438\u043d \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439."]}),Object(it.jsxs)("p",{children:['\u041e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441 \u044d\u0442\u043e \u0432\u0441\u0435\u0433\u0434\u0430 \u0441\u0442\u0440\u043e\u043a\u0430, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043d\u0435\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0438\u043b\u0438 \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u0442\u044c \u0437\u0432\u0443\u043a/\u0432\u0438\u0434\u0435\u043e, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043c\u0430\u0440\u043a\u0435\u0440 "',Object(it.jsx)("i",{children:"[\u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442]"}),'", \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439, \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0439\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430. \u042d\u0442\u043e\u0442 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0431\u0435\u0437 \u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0438 \u0442\u0430\u043a\u0436\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u0443\u0437\u043d\u0430\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442.']})]}),Lr=n(251),zr=n(509);function Mr(e){return Object(it.jsxs)("div",{className:Ur.a.hint,children:[e.children,Object(it.jsx)(zr.a,{title:e.hint,children:Object(it.jsx)(Yt.a,{children:Object(it.jsx)(Lr.a,{})})})]})}function Wr(e){var t=e.formik,n=e.submitting,a={formik:t,disabled:n},r=Object(l.a)(Object(l.a)({},a),{},{type:"number",InputProps:{inputProps:{min:0,max:4294967295}}});return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Zt.a,{variant:"h6",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0435"}),Object(it.jsx)(Mr,{hint:Br,children:Object(it.jsx)(Ja,Object(l.a)({name:"price",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},r))}),Object(it.jsx)(Mr,{hint:Fr,children:Object(it.jsx)(Za,Object(l.a)({name:"type",label:"\u0422\u0438\u043f \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:Te},a))}),"cat"===t.values.type&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Mr,{hint:Pr,children:Object(it.jsx)(Ja,Object(l.a)({name:"realprice",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},r))}),Object(it.jsx)(Mr,{hint:Tr,children:Object(it.jsx)(Ja,Object(l.a)({name:"realtheme",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0442\u0435\u043c\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},a))})]}),"bagcat"===t.values.type&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Mr,{hint:Tr,children:Object(it.jsx)(Ja,Object(l.a)({name:"realtheme",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0442\u0435\u043c\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},a))}),Object(it.jsx)(Mr,{hint:qr,children:Object(it.jsx)(Za,Object(l.a)({name:"questionPriceType",label:"\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430",options:{fixed:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432\u0430\u043c\u0438",minMax:"\u0412\u044b\u0431\u043e\u0440\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0430 \u0438\u0437 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0430 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0440\u0430\u0443\u043d\u0434\u0435",byPlayer:"\u0418\u0433\u0440\u043e\u043a\u043e\u043c \u0432 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0430\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u0438 \u0448\u0430\u0433\u043e\u043c"}},a))}),"fixed"===t.values.questionPriceType&&Object(it.jsx)(Mr,{hint:Pr,children:Object(it.jsx)(Ja,Object(l.a)({name:"realprice",label:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"},r))}),"byPlayer"===t.values.questionPriceType&&Object(it.jsx)(Mr,{hint:Er,children:Object(it.jsxs)("div",{className:Ur.a.grouped,children:[Object(it.jsx)(Ja,Object(l.a)({name:"realpriceFrom",label:"\u041e\u0442"},r)),Object(it.jsx)(Ja,Object(l.a)({name:"realpriceTo",label:"\u0414\u043e"},r)),Object(it.jsx)(Ja,Object(l.a)({name:"realpriceStep",label:"\u0428\u0430\u0433"},r))]})})]}),"bagcat"===t.values.type&&Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)($a,Object(l.a)({name:"transferToSelf",label:"\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0441\u0435\u0431\u0435"},a)),Object(it.jsx)(Mr,{hint:Object(it.jsxs)("p",{children:["\u0415\u0441\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d \u0432\u0430\u0440\u0438\u0430\u043d\u0442 ",Object(it.jsx)("b",{children:"\u041d\u0438\u043a\u043e\u0433\u0434\u0430"}),", \u0442\u043e \u0432\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f, \u0438\u0433\u0440\u043e\u043a\u0443 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"]}),children:Object(it.jsx)(Za,Object(l.a)({name:"detailsDisclosure",label:"\u041a\u043e\u0433\u0434\u0430 \u0443\u0437\u043d\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438 \u0442\u0435\u043c\u0430",options:{before:"\u0414\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",after:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",never:"\u041d\u0438\u043a\u043e\u0433\u0434\u0430"}},a))})]}),Object(it.jsx)(Zt.a,{variant:"h6",children:"\u041e\u0442\u0432\u0435\u0442\u044b"}),Object(it.jsx)(Xa,{name:"correctAnswers",formik:t,label:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b",disabled:n}),Object(it.jsx)(Xa,{name:"incorrectAnswers",formik:t,label:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",disabled:n})]})}var Hr=n(252),Kr=n.n(Hr),Vr=n(481);function Yr(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),o=i[0],l=i[1],u=r.a.useState(!1),d=Object(b.a)(u,2),j=d[0],p=d[1],f=function(t){t.stopPropagation(),e.onDelete(e.index)};r.a.useEffect((function(){void 0!==e.index&&void 0!==a&&e.onChangeDuration(e.index,a)}),[a]),r.a.useEffect((function(){var t=e.scenario[e.index],n=t.data,r=t.duration;!o&&l(n),!a&&c(r)}),[e.scenario]),r.a.useEffect((function(){return o&&requestAnimationFrame((function(){return e.onChangeData(e.index,o)}))}),[o]);var h=new Array(10).fill().map((function(e,t){return new Kr.a(.1).times(t+1).toNumber()})),m=new Array(18).fill().map((function(e,t){return 1+.5*(t+1)})),x=new Array(20).fill().map((function(e,t){return 11+t})),O=new Array(6).fill().map((function(e,t){return 30+5*(t+1)})),v=[].concat(Object(I.a)(h),Object(I.a)(m),Object(I.a)(x),Object(I.a)(O)).map((function(e,t){return{_label:e,value:t}})),g=function(e,t){t=t.map((function(e){return e._label}));for(var n=0;n<t.length;n++)if(t[n]<=e&&t[n+1]>e)return n;return e};return Object(it.jsx)(Bn,{index:e.index,draggableId:e.draggableId.toString(),children:function(t){var n,r;return Object(it.jsxs)(kr.a,{expanded:j,onChange:function(e,t){return p(t)},children:[Object(it.jsx)(_r.a,{expandIcon:Object(it.jsx)(_e.i,{}),children:Object(it.jsxs)("div",{className:Ur.a.item,children:[Object(it.jsx)(En,{provided:t}),Object(it.jsxs)(Zt.a,{variant:"body1",className:Ur.a.itemType,children:[null!==(n={image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",voice:"\u0410\u0443\u0434\u0438\u043e",video:"\u0412\u0438\u0434\u0435\u043e",text:"\u0422\u0435\u043a\u0441\u0442",say:"\u0421\u043b\u043e\u0432\u043e \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e",marker:Object(it.jsx)("i",{children:"[\u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442]"})}[e.item.type])&&void 0!==n?n:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \xab".concat(e.item.type,"\xbb"),Object(it.jsx)("span",{className:Ur.a.spacing}),{image:Object(it.jsx)(_e.m,{}),voice:Object(it.jsx)(_e.p,{}),video:Object(it.jsx)(_e.t,{}),text:Object(it.jsx)(_e.s,{}),say:Object(it.jsx)(_e.q,{})}[e.item.type]]}),"marker"!==e.item.type&&Object(it.jsx)(Vr.a,{in:!j,children:Object(it.jsx)(Zt.a,{variant:"body2",color:"text.secondary",children:(r=e.item.duration,"".concat(r.toFixed(1)," c\u0435\u043a."))})}),Object(it.jsx)(Yt.a,{onClick:f,className:Ur.a.delete,children:Object(it.jsx)(_e.d,{className:Ur.a.delete})})]})}),Object(it.jsx)(wr.a,{children:Object(it.jsxs)("div",{className:Ur.a.details,children:["marker"!==e.item.type&&Object(it.jsxs)("div",{className:Ur.a.duration,children:[Object(it.jsx)(pa.a,{defaultValue:v.find((function(e){return 3===e._label})).value,step:null,marks:v,min:v[0].value,max:v[v.length-1].value,valueLabelDisplay:"off",valueLabelFormat:function(e){return v[e]._label},value:void 0!==a&&g(a,v),onChange:function(e){return requestAnimationFrame((function(){return c(v[e.target.value]._label)}))}}),Object(it.jsx)(Dt.a,{label:"\u0412\u0440\u0435\u043c\u044f",variant:"outlined",size:"small",type:"number",InputProps:{inputProps:{min:.1,step:.1}},className:Ur.a.time,value:a,onChange:function(e){return c(Number(e.target.value))}})]}),{text:Object(it.jsx)(Dt.a,{value:null===o||void 0===o?void 0:o.text,onChange:function(e){return l({text:e.target.value})},label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",multiline:!0,rows:4,fullWidth:!0}),image:Object(it.jsx)(Ma,{value:null===o||void 0===o?void 0:o.imageField,onChange:function(e){return l({imageField:e})},label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),marker:Object(it.jsx)(Zt.a,{variant:"caption",children:"\u0412\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0438\u0434\u0443\u0449\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0438\u0433\u0440\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0430."})}[e.item.type]]})})]})}})}var Qr=["formik"];var Gr=Object(Oe.b)(Ee)((function(e){var t=e.formik,n=Object(ua.a)(e,Qr),a=r.a.useState([]),c=Object(b.a)(a,2),s=c[0],i=c[1],u=r.a.useState(""),p=Object(b.a)(u,2),f=p[0],h=p[1],m=r.a.useState(),x=Object(b.a)(m,2),O=x[0],v=x[1],g=Object(o.i)(),y=g.roundIndex,k=g.questionPrice,_=n.pack.rounds[y-1].themes[g.themeIndex-1].questions,w=_[_.findIndex((function(e){return e.price===Number(k)}))];r.a.useEffect((function(){return w.scenario&&i(w.scenario)}),[]),r.a.useEffect((function(){clearTimeout(O);var e=setTimeout((function(){return N(s)}),1e3);v(e)}),[s]);var N=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.a)({},n.pack),r=g.roundIndex-1,c=a.rounds[r].themes[g.themeIndex-1].questions,c[c.findIndex((function(e){return e.price===Number(k)}))].scenario=t,e.next=7,F(a);case 7:n.dispatch({type:"pack/load",pack:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(it.jsxs)("div",{className:Ur.a.scenario,children:[Object(it.jsx)(Mr,{hint:Ar,children:Object(it.jsx)(Zt.a,{variant:"h6",children:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})}),Object(it.jsx)(Qn,{droppableId:"scenario",onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(b.a)(r,1)[0];return a.splice(n,0,c),a}(s,e.source.index,e.destination.index);i(t)}},list:s,draggableProps:{onDelete:function(e){var t=Object(I.a)(s);t.splice(e,1),i(t)},formik:t,onChangeDuration:function(e,t){var n=Object(I.a)(s);n[e].duration=t,i(n)},onChangeData:function(e,t){var n=Object(I.a)(s);n[e].data=t,i(n)},scenario:s},noItemsLabel:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u0443\u0441\u0442",itemComponent:Yr}),s.length<100&&Object(it.jsxs)("div",{className:Ur.a.addEvent,children:[Object(it.jsxs)(Wn.a,{fullWidth:!0,children:[Object(it.jsx)(Mn.a,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"}),Object(it.jsxs)(ja.a,{name:name,value:f,onChange:function(e){return h(e.target.value)},label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435",displayEmpty:!0,children:[Object(it.jsx)(dt.a,{value:"text",children:"\u0422\u0435\u043a\u0441\u0442 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435"}),Object(it.jsx)(dt.a,{value:"say",children:"\u0421\u043b\u043e\u0432\u043e \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e"}),Object(it.jsx)(dt.a,{value:"image",children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(it.jsx)(dt.a,{value:"voice",children:"\u0410\u0443\u0434\u0438\u043e"}),Object(it.jsx)(dt.a,{value:"video",children:"\u0412\u0438\u0434\u0435\u043e"}),Object(it.jsx)(dt.a,{value:"marker",children:Object(it.jsx)("i",{children:"[\u0418\u0433\u0440\u043e\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442]"})})]})]}),Object(it.jsx)(Yt.a,{onClick:function(){h(""),i([].concat(Object(I.a)(s),[{type:f,duration:3,data:{}}]))},disabled:!f,children:Object(it.jsx)(_e.a,{})})]}),Object(it.jsx)(Zt.a,{variant:"body2",color:"text.secondary",children:"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"})]})}));function Jr(){return Object(it.jsxs)("div",{className:Ur.a.scenario,children:[Object(it.jsx)(Mr,{hint:Ar,children:Object(it.jsx)(Zt.a,{variant:"h6",children:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})}),Object(it.jsx)(Zt.a,{variant:"body2",color:"text.secondary",children:"\u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"})]})}var Xr=la.c().integer().min(1,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0").max(4294967295),Zr=la.d({price:Xr.required("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),realprice:Xr,realtheme:la.e(),type:la.e().required("\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u0432\u043e\u043f\u0440\u043e\u0441\u0430"),transferToSelf:la.b(),detailsDisclosure:la.e(),realpriceFrom:la.c(),realpriceTo:la.c(),realpriceStep:la.c(),correctAnswers:la.a().ensure().min(1,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442").required("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"),incorrectAnswers:la.a().ensure()});var $r=Object(Oe.b)(Ee)((function(e){var t=Object(o.g)(),n=Object(o.i)(),a=n.roundIndex,r=n.questionPrice,c=e.pack.rounds[a-1].themes[n.themeIndex-1].questions,s="add"===r,i=qe(Zr,s?Object(l.a)(Object(l.a)({},e.data),{},{price:function(e){return 0===e.length?100:function(){for(var t,n=1;n<e.length;n++){var a=e[n].price-e[n-1].price;if(void 0!==t&&t!==a)return;t=a}return e[e.length-1].price+t}()||e[e.length-1].price+100}(c)}):e.data),u=Object(oa.a)({initialValues:i,validate:function(t){return function(e,t,n){var a,r=Object(I.a)(t.pack.rounds[n.roundIndex-1].themes[n.themeIndex-1].questions),c={};e.price!==(null===(a=t.data)||void 0===a?void 0:a.price)&&r.some((function(t){return t.price===e.price}))&&(c.price="\u0412\u043e\u043f\u0440\u043e\u0441 \u0441 \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u0435");var s=function(){i("realprice","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0")},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0";void 0===e[t]||""===e[t]?c[t]=n:0===e[t]&&(c[t]=a)};switch(e.type){case"cat":s();break;case"bagcat":if(e.questionPriceType)switch(e.questionPriceType){case"fixed":s();break;case"byPlayer":["realpriceFrom","realpriceTo"].forEach(i),0===e.realpriceStep&&(c.realpriceStep="\u0428\u0430\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u0435\u043d 0")}else c.questionPriceType="\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430";e.detailsDisclosure||(c.detailsDisclosure="\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u043e\u043c\u0435\u043d\u0442, \u043a\u043e\u0433\u0434\u0430 \u0443\u0437\u043d\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u0430")}return c}(t,e,n)},validationSchema:Zr,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(){var c=Object(j.a)(d.a.mark((function c(i){var o,j,b,p;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o=Object(l.a)({},e.pack),j=n.themeIndex,b=s?Object(l.a)({},i):Object(l.a)(Object(l.a)({},e.data),i),p=o.rounds[a-1].themes[j-1].questions,s?p.push(b):p[p.findIndex((function(e){return e.price===Number(r)}))]=b,p=p.sort((function(e,t){return e.price-t.price})),c.next=8,F(o);case 8:e.dispatch({type:"pack/load",pack:o}),u.resetForm(),t.push("/pack/".concat(o.uuid,"/rounds/").concat(a,"/themes/").concat(j,"/questions/").concat(b.price));case 11:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}),b=u.isSubmitting;return Object(nr.a)((function(e){Object.keys(u.touched).length&&e.preventDefault()})),Object(it.jsxs)("div",{className:Ur.a.container,children:[Object(it.jsxs)("form",{onSubmit:u.handleSubmit,className:Ur.a.form,children:[Object(it.jsx)(Wr,{formik:u,submitting:b}),Object(it.jsx)(Ot.a,{color:"primary",variant:"contained",type:"submit",disabled:!s&&!Object.keys(u.touched).length||b,className:Ur.a.submit,children:s?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),s?Object(it.jsx)(Jr,{}):Object(it.jsx)(Gr,{formik:u,submitting:u.isValidating||b}),Object(it.jsx)(o.a,{when:Object.keys(u.touched).length&&!b,message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439?"})]})}));var ec=Object(Oe.b)(Ee)((function(e){var t=r.a.useState(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=r.a.useState(),i=Object(b.a)(s,2),l=i[0],u=i[1],d=Object(o.i)();return r.a.useEffect((function(){var t=e.pack;if(!t)return c(!0);var n=t.rounds[d.roundIndex-1];if(!n)return c(!0);var a=n.themes[d.themeIndex-1];if(!a)return c(!0);if("add"!==d.questionPrice){var r=a.questions.find((function(e){return e.price===Number(d.questionPrice)}));if(!r)return c(!0);u(r)}c(!1)}),[d]),void 0!==a&&(a?Object(it.jsx)(lr,{}):Object(it.jsx)($r,{data:l}))}));var tc=Object(Oe.b)(Ee)((function(e){var t=Object(o.j)().path;return e.pack&&("notFound"===e.pack?Object(it.jsx)(lr,{}):Object(it.jsxs)("div",{className:on.a.container,children:[Object(it.jsxs)("div",{className:on.a.toolbar,children:[Object(it.jsx)(dn,{}),Object(it.jsx)(gn,{})]}),Object(it.jsxs)(o.d,{children:[Object(it.jsx)(o.b,{exact:!0,path:t,children:Object(it.jsx)(ca,{})}),Object(it.jsx)(o.b,{path:"".concat(t,"/settings"),children:Object(it.jsx)(rr,{})}),Object(it.jsx)(o.b,{path:"".concat(t,"/rounds/:roundIndex/themes/:themeIndex/questions/:questionPrice"),children:Object(it.jsx)(ec,{})}),Object(it.jsx)(o.b,{path:"".concat(t,"/rounds/:roundIndex"),children:Object(it.jsx)(Rr,{})}),Object(it.jsx)(o.b,{path:"*",children:Object(it.jsx)(lr,{})})]})]}))})),nc=n(253),ac=n.n(nc);var rc=Object(Oe.b)(null)((function(e){var t=Object(o.h)();r.a.useEffect((function(){n(t.pathname.split("/").filter(String))}),[t]);var n=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pack"!==n[0]){t.next=6;break}return a=n[1],t.next=4,R(a);case 4:r=t.sent,e.dispatch({type:"pack/load",pack:null!==r&&void 0!==r?r:"notFound"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(it.jsx)("div",{className:ac.a.container,children:e.children})})),cc=(n(420),Object(Wt.a)({palette:{mode:"dark",primary:{main:"#4248fb"}}}));function sc(){return Object(it.jsx)(Oe.a,{store:ke,children:Object(it.jsx)(Ht.a,{theme:cc,children:Object(it.jsx)(i.a,{history:Be,basename:"/SIPacker",children:Object(it.jsx)(mt,{children:Object(it.jsxs)(rc,{children:[Object(it.jsx)($t,{}),Object(it.jsxs)(o.d,{children:[Object(it.jsx)(o.b,{exact:!0,path:"/",children:Object(it.jsx)(qt,{})}),Object(it.jsx)(o.b,{path:"/create",children:Object(it.jsx)(cn,{})}),Object(it.jsx)(o.b,{path:["/pack/:packUUID","/pack/:packUUID/*"],children:Object(it.jsx)(tc,{})}),Object(it.jsx)(o.b,{path:"*",children:Object(it.jsx)(lr,{})})]})]})})})})})}var ic=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oc(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(it.jsx)(r.a.StrictMode,{children:Object(it.jsx)(sc,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){var t=new URL(".",window.location.href);if(t.origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");ic?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):oc(e,t)})).catch((function(){}))}(t,e),navigator.serviceWorker.ready.then((function(){}))):oc(t,e)}))}}()},48:function(e,t,n){e.exports={toolbar:"styles_toolbar__1W5Un",name:"styles_name__2RB5S",delete:"styles_delete__2ihaf",addTheme:"styles_addTheme__1hwa9",table:"styles_table__3es8F",rowName:"styles_rowName__1K8zb",tableCell:"styles_tableCell__1cve7",buttonBase:"styles_buttonBase__2kQLq",heading:"styles_heading__1IQEt",noItemsYet:"styles_noItemsYet__BxKD2",tableRow:"styles_tableRow__2jH6j",strikethrough:"styles_strikethrough__DFxi_"}},62:function(e,t,n){e.exports={rounds:"styles_rounds__1ZZ2U",heading:"styles_heading__-ydFv",cardOfRound:"styles_cardOfRound__2AkoD",item:"styles_item__3E1HY",delete:"styles_delete__24Jnc",link:"styles_link__B9CM5",flex1:"styles_flex1__3-SY4",inputField:"styles_inputField__38y2T",droppable:"styles_droppable__25geG"}},67:function(e,t,n){e.exports={container:"styles_container__OqZ1N",label:"styles_label__VxlIK",preview:"styles_preview__2qqOY",image:"styles_image__29S6D",placeholder:"styles_placeholder__1vE4B",loading:"styles_loading__1wm-5",fileMissing:"styles_fileMissing__3t61m",icon:"styles_icon__345-2",info:"styles_info__1nl83"}},84:function(e){e.exports=JSON.parse('{"b":"","c":"/rounds/\\\\d+","d":"/settings","a":"/rounds/\\\\d+/themes/\\\\d+/questions/(\\\\d+|add)"}')},85:function(e,t,n){e.exports={addItem:"styles_addItem__3dCij",addButton:"styles_addButton__3g9mJ",button:"styles_button__3ZegY",expand:"styles_expand__2-jSs",addButtonOuter:"styles_addButtonOuter__1y9QO"}}},[[421,1,2]]]);
//# sourceMappingURL=main.f089f50d.chunk.js.map